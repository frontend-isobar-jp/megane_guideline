!function(){function t(e,o,i){function l(s,a){if(!o[s]){if(!e[s]){var r="function"==typeof require&&require;if(!a&&r)return r(s,!0);if(n)return n(s,!0);var d=new Error("Cannot find module '"+s+"'");throw d.code="MODULE_NOT_FOUND",d}var c=o[s]={exports:{}};e[s][0].call(c.exports,function(t){var o=e[s][1][t];return l(o||t)},c,c.exports,t,e,o,i)}return o[s].exports}for(var n="function"==typeof require&&require,s=0;s<i.length;s++)l(i[s]);return l}return t}()({1:[function(t,e,o){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}var l=t("./component/common"),n=i(l),s=function(){(0,n["default"])()};s()},{"./component/common":4}],2:[function(t,e,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var i=t("../libs/j_utility");o["default"]=function(){var t=document.querySelector(".fw"),e=document.querySelectorAll(".j-create_nav"),o="m-gl_nav";if(t){t.insertAdjacentHTML("beforeend",'<ul class="'+o+' j-scrollnav"></ul>');for(var l=document.querySelector("."+o),n=0;n<e.length;n++){var s=e[n].outerText,a=(0,i.GetParents)(e[n],".f-section").getAttribute("id");l.insertAdjacentHTML("beforeend",'<li><a href="#'+a+'">'+s+"</a></li>")}}}},{"../libs/j_utility":8}],3:[function(t,e,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o["default"]=function(){setTimeout(function(){var t=document.getElementsByTagName("body"),e=document.querySelector(".m-gl_nav");t[0].style.paddingBottom=e.offsetHeight+"px"},1e3)}},{}],4:[function(t,e,o){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(o,"__esModule",{value:!0});var l=t("../libs/j_utility"),n=t("../libs/j_smoothScroll_es"),s=i(n),a=t("../libs/j_scrollNav_es"),r=i(a),d=t("../libs/j_modal_es"),c=i(d),h=t("./_create_nav"),u=i(h),m=t("./_set_padding_bottom"),f=i(m),g=function(){(0,f["default"])(),(0,u["default"])();var t=function(){new r["default"](".j-scrollnav",{boxElm:".j-scrollnav_section",posFix:"30%",edgeJudge:!1})};setTimeout(function(){t()},1e3);var e=function(){var t="is-not_select",e=document.getElementsByTagName("body")[0],o=new c["default"](".j-modal_code",{width:960,modalSpeed:800,bgOpacity:.4,innerBgColor:"#FFF",innerBgPadding:20});o.OpenEnd=function(){hljs.initHighlightingOnLoad(),(0,l.AddClass)(e,t)},o.CloseEnd=function(){(0,l.RemoveClass)(e,t)}};document.querySelectorAll(".j-modal_code")[0]&&e();var o=function(){new s["default"]("a",{speed:200,blank:!0})};setTimeout(function(){o()},1e3)};o["default"]=g},{"../libs/j_modal_es":5,"../libs/j_scrollNav_es":6,"../libs/j_smoothScroll_es":7,"../libs/j_utility":8,"./_create_nav":2,"./_set_padding_bottom":3}],5:[function(t,e,o){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(o,"__esModule",{value:!0});var l=function(){function t(t,e){for(var o=0;o<e.length;o++){var i=e[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,o,i){return o&&t(e.prototype,o),i&&t(e,i),e}}(),n=function(){function t(e,o){i(this,t),this.selector=e,this.jModalDetail="j-modal_detail",this.jModalBox=this.selector.split(".")[1]+"_box",this.jModalBoxInner=this.selector.split(".")[1]+"_box_inner",this.jModalWrap=this.selector.split(".")[1]+"_wrap",this.jModalBoxClose=this.selector.split(".")[1]+"_box_close",this.jModalBoxBg=this.selector.split(".")[1]+"_bg",this.linkInnerHTML=this.selector.split(".")[1]+"_link_innerHTML",this.modal=document.querySelectorAll(this.selector),null==o&&(o={}),this.width=o.width?o.width:960,this.modalSpeed=o.modalSpeed?o.modalSpeed:200,this.bgColor=o.bgColor?o.bgColor:"#000",this.bgOpacity=o.bgOpacity?o.bgOpacity:.8,this.innerBgColor=o.innerBgColor?o.innerBgColor:"#FFF",this.innerBgPadding=o.innerBgPadding>=0?o.innerBgPadding:20,this.closeBtn=o.closeBtn||""==o.closeBtn?o.closeBtn:"Ã—",this.closeCancel=!!o.closeCancel&&o.closeCancel,this.trigger=o.trigger?o.trigger:"click",this.addClass=o.addClass?o.addClass:"",this.fixed=!(!o.fixed||!o.fixed)&&o.fixed,this.OpenEnd=function(){},this.CloseEnd=function(){},this.jModalMovieHeight=this.width/16*9,this.jModalImg=".gif|.jpg|.jpeg|.png",this.jModalHtml="//|.html|.php|=",this.jModalMovie="youtube|youtu",this.target=null,this.index=null,this.tagHTML=document.getElementsByTagName("html")[0],this.Init(),this.CreateModalArea()}return l(t,[{key:"Init",value:function(){var t=this;if(this.modal=document.querySelectorAll(this.selector),this.Openfunc=function(e){e.preventDefault(),t.target=e.currentTarget,t.Set()},this.modal[0]){this.jModalDetailElm=document.getElementsByClassName("j-modal_detail");for(var e=0;e<this.modal.length;e++)this.modal[e].addEventListener("click",this.Openfunc);for(var e=0;e<this.jModalDetailElm.length;e++)this.jModalDetailElm[e].style.display="none";for(var e=0;e<this.modal.length;e++){var o=this.modal[e].getAttribute("href");o||this.AddClass(this.modal[e],this.linkInnerHTML)}}}},{key:"ReInit",value:function(){for(var t=0;t<this.modal.length;t++)this.modal[t].removeEventListener("click",this.Openfunc);this.Init()}},{key:"CreateModalArea",value:function(){var t=this,e='<div id="'+this.jModalBox+'" class="'+this.addClass+'">';e+='<div id="'+this.jModalBoxInner+'">',e+='<div id="'+this.jModalWrap+'"></div>',e+='<p id="'+this.jModalBoxClose+'">'+this.closeBtn+"</p>",e+="</div>",e+="</div>",e+='<div id="'+this.jModalBoxBg+'"></div>',this.jModalBoxCSS="position: "+(this.fixed?"fixed":"absolute")+"; ",this.jModalBoxCSS+="top: "+(this.fixed?"50%":"0")+"; ",this.jModalBoxCSS+="left: 50%; ",this.jModalBoxCSS+="z-index: 10001; ",this.jModalBoxCSS+="width: 100%; ",this.jModalBoxCSS+="cursor: pointer; ",this.jModalBoxCSS+="transform: "+(this.fixed?"translate(-50%,-50%)":"translate(-50%,0)")+"; ",this.jModalBoxCSS+="-ms-transform: "+(this.fixed?"translate(-50%,-50%)":"translate(-50%,0)")+"; ",this.jModalBoxCSS+="-webkit-transform: "+(this.fixed?"translate(-50%,-50%)":"translate(-50%,0)")+"; ",this.jModalBoxCSS+="opacity: 0; ",this.jModalBoxCSS+="pointer-events: none; ",this.jModalBoxBgCSS="position: fixed; ",this.jModalBoxBgCSS+="left: 0; ",this.jModalBoxBgCSS+="top: 0; ",this.jModalBoxBgCSS+="width: 100%; ",this.jModalBoxBgCSS+="height: 200%; ",this.jModalBoxBgCSS+="background:"+this.bgColor+"; ",this.jModalBoxBgCSS+="transition: all "+this.modalSpeed/1e3+"s ease; ",this.jModalBoxBgCSS+="-webkit-transition: all "+this.modalSpeed/1e3+"s ease; ",this.jModalBoxBgCSS+="z-index: 10000; ",this.jModalBoxBgCSS+="cursor: pointer; ",this.jModalBoxBgCSS+="opacity: 0; ",this.jModalBoxBgCSS+="pointer-events: none; ";var o="position: absolute; ";o+="right: 0; ",o+="top: -50px; ",o+="z-index: 10000; ",o+="cursor: pointer; ",o+="color: #FFF; ",o+="font-size: 40px; ",o+="line-height: 1; ",o+="margin: 0; ",this.jModalBoxInnerCSS="background: "+this.innerBgColor+"; ",this.jModalBoxInnerCSS+="padding: "+this.innerBgPadding+"px; ",this.jModalBoxInnerCSS+="position: relative; ",this.jModalBoxInnerCSS+="cursor: default; ",this.jModalBoxImgCSS="padding: 0; ",this.jModalBoxImgCSS+="background: none; ",this.jModalImgCSS="height: auto; ",this.jModalImgCSS+="max-width: 100%; ",this.jModalImgCSS+="display: block; ",this.jModalImgCSS+="margin: 0 auto; ",this.jModalBoxMovieCSS="padding: 0; ",this.jModalBoxMovieCSS+="background: none; ",this.jModalBoxMovieCSS+="height: 0; ",this.jModalBoxMovieCSS+="position: relative; ",this.jModalBoxMovieCSS+="padding-bottom: 56.25%; ",this.jModalBoxMovieIframeCSS="display: block; ",this.jModalBoxMovieIframeCSS+="height: 100%; ",this.jModalBoxMovieIframeCSS+="position: absolute; ",this.jModalBoxMovieIframeCSS+="left: 0; ",this.jModalBoxMovieIframeCSS+="top: 0; ",this.jModalBoxMovieIframeCSS+="width: 100%; ",this.modal&&(document.getElementsByTagName("body")[0].insertAdjacentHTML("beforeend",e),this.jModalBoxElm=document.getElementById(this.jModalBox),this.jModalBoxInnerElm=document.getElementById(this.jModalBoxInner),this.jModalBoxCloseElm=document.getElementById(this.jModalBoxClose),this.jModalBoxBgElm=document.getElementById(this.jModalBoxBg),this.linkInnerHTMLElm=document.getElementsByClassName(this.linkInnerHTML),this.jModalBoxElm.style.cssText=this.jModalBoxCSS,this.jModalBoxInnerElm.style.cssText=this.jModalBoxInnerCSS,this.jModalBoxBgElm.style.cssText=this.jModalBoxBgCSS,this.jModalBoxCloseElm.style.cssText=o,this.modal[0].classList||(this.jModalBoxElm.style.display="none",this.jModalBoxBgElm.style.display="none"));var i=function(e){e.preventDefault(),t.Close()};this.jModalBoxCloseElm=document.getElementById(this.jModalBoxClose),this.jModalBoxBgElm=document.getElementById(this.jModalBoxBg),this.jModalBoxCloseElm.addEventListener("click",i),this.jModalBoxBgElm.addEventListener("click",i)}},{key:"Open",value:function(t){return this.modal[0]?(this.target=document.querySelectorAll(t)[0],void this.Set()):(console.error("OpenModal('"+t+"') ERROR  '"+t+"' is not found."),!1)}},{key:"Set",value:function(){var t=this.target.getAttribute("href"),e=new String(t);this.index=Array.prototype.indexOf.call(this.modal,this.target),this.scrollVal=document.documentElement&&document.documentElement.scrollTop||document.body.scrollTop,t?e.match(this.jModalImg)?this.IfImage(t):e.match(this.jModalMovie)?this.IfYoutube(t):e.match(this.jModalHtml)&&this.IfOuterHTML(t):this.IfInnerHTML()}},{key:"IfImage",value:function(t){var e=this,o='<img src="'+t+'" class="j-modal_img">',i=new Image;i.src=t,this.AddClass(this.jModalBoxInnerElm,"j-modal_img"),this.jModalBoxInnerElm.style.cssText=this.jModalBoxImgCSS,this.jModalWrapElm=this.jModalBoxInnerElm.querySelectorAll("#"+this.jModalWrap)[0],this.jModalWrapElm.innerHTML=o,document.getElementsByClassName("j-modal_img")[0].style.cssText=this.jModalImgCSS,i.onload=function(){e.Ready()}}},{key:"IfYoutube",value:function(t){var e=t.split("/")[3],o='<iframe src="https://www.youtube.com/embed/'+e+'?autoplay=1&rel=0&playsinline=1" allowfullscreen="true" frameborder="0"></iframe>';this.AddClass(this.jModalBoxInnerElm,"j-modal_movie"),this.jModalBoxInnerElm.style.cssText=this.jModalBoxImgCSS,this.jModalWrapElm=this.jModalBoxInnerElm.querySelectorAll("#"+this.jModalWrap)[0],this.jModalWrapElm.style.cssText=this.jModalBoxMovieCSS,this.jModalWrapElm.innerHTML=o,this.jModalWrapElm.getElementsByTagName("iframe")[0].style.cssText=this.jModalBoxMovieIframeCSS,this.Ready()}},{key:"IfOuterHTML",value:function(t){var e=this,o=this.target.getAttribute("data-ModalType");if(o){if("iframe"==o){var i=.8*window.innerHeight,l=this.target.getAttribute("data-modalHeight");l&&(i=l);var n='<iframe src="'+t+'" width="100%" height="'+i+'" frameborder="0"></iframe>';this.jModalBoxInnerElm.style.cssText=this.jModalBoxImgCSS,this.jModalWrapElm=this.jModalBoxInnerElm.querySelectorAll("#"+this.jModalWrap)[0],this.jModalWrapElm.innerHTML=n,this.Ready()}}else{console.error("The request for '"+t+"' timed out.");var s=new XMLHttpRequest;s.open("GET",t,!0),s.timeout=3e3,s.onload=function(t){4===s.readyState&&(200===s.status?(e.jModalBoxInnerElm.style.cssText=e.jModalBoxInnerCSS,e.jModalWrapElm=e.jModalBoxInnerElm.querySelectorAll("#"+e.jModalWrap)[0],e.jModalWrapElm.innerHTML=s.responseText,e.Ready()):console.error("This request got an error."))},s.ontimeout=function(e){console.error("The request for "+t+" timed out.")},s.onerror=function(t){console.error("This request got an error.")},s.send(null)}}},{key:"IfInnerHTML",value:function(){var t=Array.prototype.indexOf.call(this.linkInnerHTMLElm,this.target),e=this.jModalDetailElm[t].innerHTML;this.jModalBoxInnerElm.style.cssText=this.jModalBoxInnerCSS,this.jModalWrapElm=this.jModalBoxInnerElm.querySelectorAll("#"+this.jModalWrap)[0],this.jModalWrapElm.innerHTML=e,this.Ready()}},{key:"Ready",value:function(){var t=this,e=this.target.getAttribute("data-modalWidth"),o=this.target.getAttribute("data-modalHeight");e=e?e:this.width+"px",o=o?o:"initial",this.jModalBoxElm.style.maxWidth=e,this.jModalBoxElm.style.height=o,this.jModalBoxElm.style.transition="initial",this.jModalBoxElm.style.setProperty("-webkit-transition","initial"),setTimeout(function(){t.Show()},10)}},{key:"Show",value:function(){var t=this,e=window.innerHeight,o=this.jModalBoxElm.scrollHeight,i=(e-o)/2;this.fixed?(this.tagHTML.style.position="fixed",this.tagHTML.style.width="100%",this.tagHTML.style.top=-this.scrollVal+"px"):this.jModalBoxElm.style.top=e>o?this.scrollVal+i+"px":this.scrollVal+40+"px",setTimeout(function(){if(t.modal[0].classList){t.jModalBoxElm.style.opacity=1,t.jModalBoxElm.style.pointerEvents="inherit",t.jModalBoxElm.style.transition="all "+t.modalSpeed/1e3+"s ease",t.jModalBoxElm.style.setProperty("-webkit-transition","all "+t.modalSpeed/1e3+"s ease"),t.jModalBoxBgElm.style.opacity=t.bgOpacity,t.jModalBoxBgElm.style.pointerEvents="inherit";var e=function o(){t.OpenEnd(t.index),t.jModalBoxElm.removeEventListener("transitionend",o,!1)};t.jModalBoxElm.addEventListener("transitionend",e,!1)}else t.jModalBoxElm.style.opacity=1,t.jModalBoxBgElm.style.opacity=1,t.jModalBoxElm.style.display="block",t.jModalBoxBgElm.style.display="block"},100)}},{key:"Close",value:function(){var t=this;this.jModalBoxElm.style.opacity=0,this.jModalBoxElm.style.pointerEvents="none",this.jModalBoxBgElm.style.opacity=0,this.jModalBoxBgElm.style.pointerEvents="none";var e=function o(){t.jModalBoxInnerElm.setAttribute("class",!1),t.jModalWrapElm.setAttribute("style",!1),t.jModalWrapElm.innerHTML="",t.CloseEnd(),t.jModalBoxElm.removeEventListener("transitionend",o,!1)};this.jModalBoxElm.addEventListener("transitionend",e,!1),this.modal[0].classList||(this.jModalBoxElm.style.display="none",this.jModalBoxBgElm.style.display="none"),this.fixed&&(this.tagHTML.removeAttribute("style"),window.scroll(0,this.scrollVal))}},{key:"AddClass",value:function(t,e){t.classList?t.classList.add(e):t.className+=" "+e}}]),t}();o["default"]=n},{}],6:[function(t,e,o){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(o,"__esModule",{value:!0});var l=function(){function t(t,e){for(var o=0;o<e.length;o++){var i=e[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,o,i){return o&&t(e.prototype,o),i&&t(e,i),e}}(),n=function(){function t(e,o){i(this,t),this.selector=e,this.scrollNav=document.querySelectorAll(this.selector)[0],null==o&&(o={}),this.box=o.boxElm?o.boxElm:".f-section",this.btn=o.activeElm?o.activeElm:"li",this.posFix=o.posFix?o.posFix:0,this.edgeJudge=o.edgeJudge,null==this.edgeJudge&&(this.edgeJudge=!0),this.boxElm=document.querySelectorAll(this.box),this.scrollNav&&(this.btnElm=this.scrollNav.querySelectorAll(this.btn),this.Init())}return l(t,[{key:"Init",value:function(){for(var t=this,e=0;e<this.boxElm.length;e++){var o=this.boxElm[e].id;this.btnElm[e].querySelectorAll("a")[0].setAttribute("href","#"+o)}this.Ready(),window.addEventListener("resize",function(){t.Ready()}),window.addEventListener("scroll",function(){t.Ready()})}},{key:"Ready",value:function(){this.Reset(),this.GetTarget()}},{key:"Reset",value:function(){for(var t=0;t<this.btnElm.length;t++)this.RemoveClass(this.btnElm[t],"active");for(var t=0;t<this.boxElm.length;t++)this.RemoveClass(this.boxElm[t],"active")}},{key:"GetTarget",value:function(){var t=window.innerHeight,e=document.documentElement&&document.documentElement.scrollTop||document.body.scrollTop,o=void 0;if(o=this.edgeJudge?document.documentElement.scrollHeight==t+e||0==e:this.edgeJudge){var i=0==e?this.boxElm[0].id:this.boxElm[this.boxElm.length-1].id;this.Position(i)}else for(var l=0;l<this.boxElm.length;l++){var n=this.boxElm[l].scrollHeight,s=this.GetOffset(this.boxElm[l]).top,a=void 0;a=String(this.posFix).indexOf("%")>-1?e+t*(this.posFix.split("%")[0]/100):e+this.posFix,a>=s&&a<s+n&&this.Position(this.boxElm[l].id)}}},{key:"Position",value:function(t){for(var e=0;e<this.btnElm.length;e++){var o=this.btnElm[e].querySelectorAll("a")[0].getAttribute("href").split("#")[1];t===o&&(this.AddClass(this.btnElm[e],"active"),this.AddClass(document.getElementById(o),"active"))}}},{key:"GetOffset",value:function(t){var e=t.getBoundingClientRect();return{top:e.top+window.pageYOffset-document.documentElement.clientTop,left:e.left+window.pageXOffset-document.documentElement.clientLeft}}},{key:"AddClass",value:function(t,e){t.classList?t.classList.add(e):t.className+=" "+e}},{key:"RemoveClass",value:function(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," ")}}]),t}();o["default"]=n},{}],7:[function(t,e,o){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(o,"__esModule",{value:!0});var l=function(){function t(t,e){for(var o=0;o<e.length;o++){var i=e[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,o,i){return o&&t(e.prototype,o),i&&t(e,i),e}}(),n=function(){function t(e,o){var l=this;i(this,t),this.selector=e,this.btn=document.querySelectorAll(this.selector),null==o&&(o={}),this.speed=o.speed?o.speed:800,this.easing=o.easing?o.easing:"linear",this.posFix=o.posFix?o.posFix:0,this.ignore=o.ignore?o.ignore:"",this.blank=!!o.blank&&o.blank,this.customAnchor=o.customAnchor?o.customAnchor:"#/",this.moveFlag=!1,this.ScrollEnd=function(){},this.btn[0]&&(this.oldBrowser=this.GetAndroidVersion()<4.4||!this.btn[0].classList,this.Init()),this.blank&&window.addEventListener("load",function(){setTimeout(function(){l.AnchorLink()},200)})}return l(t,[{key:"Init",value:function(){for(var t=this,e=0;e<this.btn.length;e++)this.btn[e].addEventListener("click",function(e){for(var o=!1,i=t.ignore.split(","),l=0;l<i.length;l++){var n=i[l].split(".")[1]?i[l].split(".")[1]:i[l].split("#")[1];e.currentTarget.classList?e.currentTarget.classList.contains(n)&&(o=!0):new RegExp("(^| )"+n+"( |$)","gi").test(e.currentTarget.className)&&(o=!0),e.currentTarget.id==n&&(o=!0)}if(!t.moveFlag){var s=e.currentTarget.getAttribute("href");if(s&&""==s.split("#")[0]&&!o){e.preventDefault(),t.moveFlag=!0;var a=s.split("#")[1],r=document.getElementById(a),d=t.GetOffset(r).top;t.SmoothScroll(d)}}})}},{key:"SmoothScroll",value:function(t){var e=this,o=t-this.posFix,i=document.documentElement&&document.documentElement.scrollTop||document.body.scrollTop,l=o-i,n=i,a=(new Date).getTime(),r=void 0,d=i,c=void 0,h=function(){e.oldBrowser||(r=requestAnimationFrame(c));var t=(new Date).getTime(),h=t-a,u=Math.round(s[e.easing](h,i,Math.abs(l),e.speed));n+=l>0?u-d:-(u-d),window.scroll(0,n),d=u,h>=e.speed&&(e.moveFlag=!1,e.ScrollEnd(),e.oldBrowser?clearInterval(c):cancelAnimationFrame(r),window.scroll(0,o))};this.oldBrowser?c=setInterval(h,33):(c=h)()}},{key:"GetOffset",value:function(t){var e=t.getBoundingClientRect();return{top:e.top+window.pageYOffset-document.documentElement.clientTop,left:e.left+window.pageXOffset-document.documentElement.clientLeft}}},{key:"AnchorLink",value:function(){for(var t=0;t<this.btn.length;t++){for(var e=!1,o=this.ignore.split(","),i=this.btn[t].getAttribute("href"),l=0;l<o.length;l++){var n=o[l].split(".")[1]?o[l].split(".")[1]:o[l].split("#")[1];this.btn[t].classList?this.btn[t].classList.contains(n)&&(e=!0):new RegExp("(^| )"+n+"( |$)","gi").test(this.btn[t].className)&&(e=!0),this.btn[t].id.match(n)&&(e=!0)}if(i&&!e){var s=i.split("#");s.length>1&&""!=s[0]&&this.btn[t].setAttribute("href",i.replace(/#/g,this.customAnchor))}}if(location.href.split(this.customAnchor)[1]){var a=document.getElementById(location.href.split(this.customAnchor)[1]),r=this.GetOffset(a).top;this.SmoothScroll(r)}}},{key:"GetAndroidVersion",value:function(){var t=navigator.userAgent;if(t.toLowerCase().indexOf("android")>0&&t.toLowerCase().indexOf("mobile")>0)return parseFloat(t.slice(t.indexOf("Android")+8))}}]),t}();o["default"]=n;var s={linear:function(t,e,o,i){return t/=i,o*t+e},easeInCubic:function(t,e,o,i){return t/=i,o*t*t*t+e},easeOutCubic:function(t,e,o,i){return t/=i,t-=1,o*(t*t*t+1)+e},easeInOutCubic:function(t,e,o,i){return t/=i/2,t<1?o/2*t*t*t+e:(t-=2,o/2*(t*t*t+2)+e)},easeInQuart:function(t,e,o,i){return t/=i,o*t*t*t*t+e},easeOutQuart:function(t,e,o,i){return t/=i,t-=1,-o*(t*t*t*t-1)+e},easeInOutQuart:function(t,e,o,i){return t/=i/2,t<1?o/2*t*t*t*t+e:(t-=2,-o/2*(t*t*t*t-2)+e)},easeInQuint:function(t,e,o,i){return t/=i,o*t*t*t*t*t+e},easeOutQuint:function(t,e,o,i){return t/=i,t-=1,o*(t*t*t*t*t+1)+e},easeInOutQuint:function(t,e,o,i){return t/=i/2,t<1?o/2*t*t*t*t*t+e:(t-=2,o/2*(t*t*t*t*t+2)+e)}}},{}],8:[function(t,o,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var l=function(t,e){t.classList?t.classList.add(e):t.className+=" "+e},n=function(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," ")},s=function(t,o){var i=!1;return t.classList?t.classList.contains(o)&&(i=!0):new RegExp("(^| )"+o+"( |$)","gi").test(e.target.className)&&(i=!0),i},a=function(t,e){var o="";for(var i in e)o+=""+i+":"+e[i]+"; ";t.style.cssText=o},r=function(t,e){var o,i=t,l=0;for(o=e.split(".")[1]?e.split(".")[1]:e.split("#")[1]?e.split("#")[1]:e;l<100&&(i=i.parentNode,i.tagName.toLowerCase()!=o);){if(i.className){if(i.className.match(o))break}else if(i.id&&i.id.match(o))break;l++}return i},d=function(t,e){var o=Array.prototype.filter.call(t.parentNode.children,function(o,i){for(var l=t.parentNode.querySelectorAll(e),n=null,i=0;i<l.length;i++)o===l[i]&&(n=l[i]);return o!==t&&o===n});return 0!=o.length?o:null},c=function(t){var e=t.getBoundingClientRect();return{top:e.top+window.pageYOffset-document.documentElement.clientTop,left:e.left+window.pageXOffset-document.documentElement.clientLeft}},h=function(t){var e=window.getComputedStyle(t),o=t.offsetHeight,i=parseFloat(e.borderTopWidth),l=parseFloat(e.borderBottomWidth),n=parseFloat(e.paddingTop),s=parseFloat(e.paddingBottom),a={height:o,bordertop:i,borderBottom:l,paddingTop:n,paddingBottom:s,outerHeight:o+i+l+n+s};return a},u=function(t){var e=window.getComputedStyle(t),o=t.offsetWidth,i=parseFloat(e.borderLeftWidth),l=parseFloat(e.borderRightWidth),n=parseFloat(e.paddingLeft),s=parseFloat(e.paddingRight),a={width:o,borderLeft:i,borderRight:l,paddingLeft:n,paddingRight:s,outerWidth:o+i+l+n+s};return a},m=function(t,e){var o=!1,i=e.split(".")[1]?e.split(".")[1]:e.split("#")[1];return t.classList?t.classList.contains(i)&&(o=!0):new RegExp("(^| )"+i+"( |$)","gi").test(t.className)&&(o=!0),t.id==i&&(o=!0),o};i.AddClass=l,i.RemoveClass=n,i.HasClass=s,i.SetCss=a,i.GetParents=r,i.GetSiblings=d,i.Not=m,i.GetOffset=c,i.GetHeightData=h,i.GetWidthData=u},{}]},{},[1]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJjb21wb25lbnQuanMiLCJzcmNfZ3VpZGVsaW5lL2pzL2NvbXBvbmVudC5qcyIsInNyY19ndWlkZWxpbmUvanMvY29tcG9uZW50L19jcmVhdGVfbmF2LmpzIiwic3JjX2d1aWRlbGluZS9qcy9jb21wb25lbnQvX3NldF9wYWRkaW5nX2JvdHRvbS5qcyIsInNyY19ndWlkZWxpbmUvanMvY29tcG9uZW50L2NvbW1vbi5qcyIsInNyY19ndWlkZWxpbmUvanMvbGlicy9qX21vZGFsX2VzLmpzIiwic3JjX2d1aWRlbGluZS9qcy9saWJzL2pfc2Nyb2xsTmF2X2VzLmpzIiwic3JjX2d1aWRlbGluZS9qcy9saWJzL2pfc21vb3RoU2Nyb2xsX2VzLmpzIiwic3JjX2d1aWRlbGluZS9qcy9saWJzL2pfdXRpbGl0eS5qcyJdLCJuYW1lcyI6WyJyIiwiZSIsIm4iLCJ0IiwibyIsImkiLCJmIiwiYyIsInJlcXVpcmUiLCJ1IiwiYSIsIkVycm9yIiwiY29kZSIsInAiLCJleHBvcnRzIiwiY2FsbCIsImxlbmd0aCIsIjEiLCJtb2R1bGUiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0Iiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfY29tbW9uIiwiX2NvbW1vbjIiLCJJbml0IiwiLi9jb21wb25lbnQvY29tbW9uIiwiMiIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwidmFsdWUiLCJfal91dGlsaXR5IiwiUEFSRU5UUyIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsIlRJVExFIiwicXVlcnlTZWxlY3RvckFsbCIsIk5BVl9DTEFTU05BTUUiLCJpbnNlcnRBZGphY2VudEhUTUwiLCJOQVYiLCJ0ZXh0Iiwib3V0ZXJUZXh0IiwiaWQiLCJHZXRQYXJlbnRzIiwiZ2V0QXR0cmlidXRlIiwiLi4vbGlicy9qX3V0aWxpdHkiLCIzIiwic2V0VGltZW91dCIsIlRBUkdFVCIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwic3R5bGUiLCJwYWRkaW5nQm90dG9tIiwib2Zmc2V0SGVpZ2h0IiwiNCIsIl9qX3Ntb290aFNjcm9sbF9lcyIsIl9qX3Ntb290aFNjcm9sbF9lczIiLCJfal9zY3JvbGxOYXZfZXMiLCJfal9zY3JvbGxOYXZfZXMyIiwiX2pfbW9kYWxfZXMiLCJfal9tb2RhbF9lczIiLCJfY3JlYXRlX25hdiIsIl9jcmVhdGVfbmF2MiIsIl9zZXRfcGFkZGluZ19ib3R0b20iLCJfc2V0X3BhZGRpbmdfYm90dG9tMiIsIkpfU0NST0xMX05BVl9JTklUIiwiYm94RWxtIiwicG9zRml4IiwiZWRnZUp1ZGdlIiwiSl9NT0RBTF9JTklUIiwiY2xhc3NOYW1lIiwiQk9EWSIsIkpfTU9EQUwiLCJ3aWR0aCIsIm1vZGFsU3BlZWQiLCJiZ09wYWNpdHkiLCJpbm5lckJnQ29sb3IiLCJpbm5lckJnUGFkZGluZyIsIk9wZW5FbmQiLCJobGpzIiwiaW5pdEhpZ2hsaWdodGluZ09uTG9hZCIsIkFkZENsYXNzIiwiQ2xvc2VFbmQiLCJSZW1vdmVDbGFzcyIsIkpfU01PT1RIU0NST0xMIiwic3BlZWQiLCJibGFuayIsIi4uL2xpYnMval9tb2RhbF9lcyIsIi4uL2xpYnMval9zY3JvbGxOYXZfZXMiLCIuLi9saWJzL2pfc21vb3RoU2Nyb2xsX2VzIiwiLi9fY3JlYXRlX25hdiIsIi4vX3NldF9wYWRkaW5nX2JvdHRvbSIsIjUiLCJfY2xhc3NDYWxsQ2hlY2siLCJpbnN0YW5jZSIsIkNvbnN0cnVjdG9yIiwiVHlwZUVycm9yIiwiX2NyZWF0ZUNsYXNzIiwiZGVmaW5lUHJvcGVydGllcyIsInRhcmdldCIsInByb3BzIiwiZGVzY3JpcHRvciIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsImtleSIsInByb3RvUHJvcHMiLCJzdGF0aWNQcm9wcyIsInByb3RvdHlwZSIsImpNb2RhbCIsInNlbGVjdG9yIiwib3B0aW9uIiwidGhpcyIsImpNb2RhbERldGFpbCIsImpNb2RhbEJveCIsInNwbGl0Iiwiak1vZGFsQm94SW5uZXIiLCJqTW9kYWxXcmFwIiwiak1vZGFsQm94Q2xvc2UiLCJqTW9kYWxCb3hCZyIsImxpbmtJbm5lckhUTUwiLCJtb2RhbCIsImJnQ29sb3IiLCJjbG9zZUJ0biIsImNsb3NlQ2FuY2VsIiwidHJpZ2dlciIsImFkZENsYXNzIiwiZml4ZWQiLCJqTW9kYWxNb3ZpZUhlaWdodCIsImpNb2RhbEltZyIsImpNb2RhbEh0bWwiLCJqTW9kYWxNb3ZpZSIsImluZGV4IiwidGFnSFRNTCIsIkNyZWF0ZU1vZGFsQXJlYSIsIl90aGlzIiwiT3BlbmZ1bmMiLCJwcmV2ZW50RGVmYXVsdCIsImN1cnJlbnRUYXJnZXQiLCJTZXQiLCJqTW9kYWxEZXRhaWxFbG0iLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIiwiYWRkRXZlbnRMaXN0ZW5lciIsImRpc3BsYXkiLCJUSElTX0RBVEEiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiX3RoaXMyIiwibW9kYWxBcHBlbmRIVE1MIiwiak1vZGFsQm94Q1NTIiwiak1vZGFsQm94QmdDU1MiLCJqTW9kYWxCb3hDbG9zZUNTUyIsImpNb2RhbEJveElubmVyQ1NTIiwiak1vZGFsQm94SW1nQ1NTIiwiak1vZGFsSW1nQ1NTIiwiak1vZGFsQm94TW92aWVDU1MiLCJqTW9kYWxCb3hNb3ZpZUlmcmFtZUNTUyIsImpNb2RhbEJveEVsbSIsImdldEVsZW1lbnRCeUlkIiwiak1vZGFsQm94SW5uZXJFbG0iLCJqTW9kYWxCb3hDbG9zZUVsbSIsImpNb2RhbEJveEJnRWxtIiwibGlua0lubmVySFRNTEVsbSIsImNzc1RleHQiLCJjbGFzc0xpc3QiLCJDbG9zZUZ1bmMiLCJDbG9zZSIsImVsbSIsImNvbnNvbGUiLCJlcnJvciIsIlRISVNfREFUQV9TVFJJTkciLCJTdHJpbmciLCJBcnJheSIsImluZGV4T2YiLCJzY3JvbGxWYWwiLCJkb2N1bWVudEVsZW1lbnQiLCJzY3JvbGxUb3AiLCJib2R5IiwibWF0Y2giLCJJZkltYWdlIiwiSWZZb3V0dWJlIiwiSWZPdXRlckhUTUwiLCJJZklubmVySFRNTCIsInRoaXNEYXRhIiwiX3RoaXMzIiwiSU1HIiwiSW1hZ2UiLCJzcmMiLCJqTW9kYWxXcmFwRWxtIiwiaW5uZXJIVE1MIiwib25sb2FkIiwiUmVhZHkiLCJUSElTX0lEIiwiX3RoaXM0IiwiVFlQRSIsImhlaWdodCIsIndpbmRvdyIsImlubmVySGVpZ2h0IiwibW9kYWxIZWlnaHQiLCJSRVFVRVNUIiwiWE1MSHR0cFJlcXVlc3QiLCJvcGVuIiwidGltZW91dCIsImV2ZW50IiwicmVhZHlTdGF0ZSIsInN0YXR1cyIsInJlc3BvbnNlVGV4dCIsIm9udGltZW91dCIsIm9uZXJyb3IiLCJzZW5kIiwiSU5ERVgiLCJUSElTX0hUTUwiLCJfdGhpczUiLCJtYXhXaWR0aCIsInRyYW5zaXRpb24iLCJzZXRQcm9wZXJ0eSIsIlNob3ciLCJfdGhpczYiLCJXSU5fSEVJR0hUIiwiVEhJU19IRUlHSFQiLCJzY3JvbGxIZWlnaHQiLCJGSVgiLCJwb3NpdGlvbiIsInRvcCIsIm9wYWNpdHkiLCJwb2ludGVyRXZlbnRzIiwiRW5kRnVuYyIsIl90aGlzNyIsInNldEF0dHJpYnV0ZSIsInJlbW92ZUF0dHJpYnV0ZSIsInNjcm9sbCIsImVsZW1lbnQiLCJfY2xhc3NOYW1lIiwiYWRkIiwiNiIsImpTY3JvbGxOYXYiLCJzY3JvbGxOYXYiLCJib3giLCJidG4iLCJhY3RpdmVFbG0iLCJidG5FbG0iLCJUQVJHRVRfSUQiLCJSZXNldCIsIkdldFRhcmdldCIsIldJTl9TQ1JPTEwiLCJoYXNKdWRnZSIsIlBvc2l0aW9uIiwiQk9YX0hFSUdIVCIsIkJPWF9UT1AiLCJHZXRPZmZzZXQiLCJjaGVja1BvcyIsIlRISVNfSFJFRiIsImVsIiwiQk9YIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwicGFnZVlPZmZzZXQiLCJjbGllbnRUb3AiLCJsZWZ0IiwicGFnZVhPZmZzZXQiLCJjbGllbnRMZWZ0IiwicmVtb3ZlIiwicmVwbGFjZSIsIlJlZ0V4cCIsImpvaW4iLCI3IiwialNtb290aFNjcm9sbCIsImVhc2luZyIsImlnbm9yZSIsImN1c3RvbUFuY2hvciIsIm1vdmVGbGFnIiwiU2Nyb2xsRW5kIiwib2xkQnJvd3NlciIsIkdldEFuZHJvaWRWZXJzaW9uIiwiQW5jaG9yTGluayIsIklHVU5PUkVfVFhUIiwiaiIsIklHVU5PUkUiLCJjb250YWlucyIsInRlc3QiLCJHRVRfSEFTSCIsIkhBU0giLCJPRkZTRVRfVE9QIiwiU21vb3RoU2Nyb2xsIiwiUE9TSVRJT04iLCJTQ1JPTExfVkFMIiwiRElGRiIsIm51bSIsIlNUQVJUX1RJTUUiLCJEYXRlIiwiZ2V0VGltZSIsInJlbmRlciIsIm51bVByZXYiLCJMb29wIiwiTG9vcEFuaW0iLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJDVVJSRU5UX1RJTUUiLCJTVEFUVVMiLCJNT1ZFX1kiLCJNYXRoIiwicm91bmQiLCJFYXNpbmciLCJhYnMiLCJjbGVhckludGVydmFsIiwiY2FuY2VsQW5pbWF0aW9uRnJhbWUiLCJzZXRJbnRlcnZhbCIsIkhSRUZfU1BMSVQiLCJsb2NhdGlvbiIsImhyZWYiLCJ1YSIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsInRvTG93ZXJDYXNlIiwicGFyc2VGbG9hdCIsInNsaWNlIiwibGluZWFyIiwiYiIsImQiLCJlYXNlSW5DdWJpYyIsImVhc2VPdXRDdWJpYyIsImVhc2VJbk91dEN1YmljIiwiZWFzZUluUXVhcnQiLCJlYXNlT3V0UXVhcnQiLCJlYXNlSW5PdXRRdWFydCIsImVhc2VJblF1aW50IiwiZWFzZU91dFF1aW50IiwiZWFzZUluT3V0UXVpbnQiLCI4IiwiSGFzQ2xhc3MiLCJTZXRDc3MiLCJzdHlsZXMiLCJjc3MiLCJwYXJlbnQiLCJwYXJlbnROb2RlIiwidGFnTmFtZSIsIkdldFNpYmxpbmdzIiwic2libGluZ3MiLCJmaWx0ZXIiLCJjaGlsZHJlbiIsImNoaWxkIiwidGFyZ2V0RWxtIiwidGFyZ2V0XyIsIkdldEhlaWdodERhdGEiLCJTVFlMRVMiLCJnZXRDb21wdXRlZFN0eWxlIiwiSCIsIkJUIiwiYm9yZGVyVG9wV2lkdGgiLCJCQiIsImJvcmRlckJvdHRvbVdpZHRoIiwiUFQiLCJwYWRkaW5nVG9wIiwiUEIiLCJEQVRBIiwiYm9yZGVydG9wIiwiYm9yZGVyQm90dG9tIiwib3V0ZXJIZWlnaHQiLCJHZXRXaWR0aERhdGEiLCJXIiwib2Zmc2V0V2lkdGgiLCJib3JkZXJMZWZ0V2lkdGgiLCJib3JkZXJSaWdodFdpZHRoIiwicGFkZGluZ0xlZnQiLCJwYWRkaW5nUmlnaHQiLCJib3JkZXJMZWZ0IiwiYm9yZGVyUmlnaHQiLCJvdXRlcldpZHRoIiwiTm90IiwiaWdub3JlVHh0Il0sIm1hcHBpbmdzIjoiQ0FBQSxXQUFBLFFBQUFBLEdBQUFDLEVBQUFDLEVBQUFDLEdBQUEsUUFBQUMsR0FBQUMsRUFBQUMsR0FBQSxJQUFBSixFQUFBRyxHQUFBLENBQUEsSUFBQUosRUFBQUksR0FBQSxDQUFBLEdBQUFFLEdBQUEsa0JBQUFDLFVBQUFBLE9BQUEsS0FBQUYsR0FBQUMsRUFBQSxNQUFBQSxHQUFBRixHQUFBLEVBQUEsSUFBQUksRUFBQSxNQUFBQSxHQUFBSixHQUFBLEVBQUEsSUFBQUssR0FBQSxHQUFBQyxPQUFBLHVCQUFBTixFQUFBLElBQUEsTUFBQUssR0FBQUUsS0FBQSxtQkFBQUYsRUFBQSxHQUFBRyxHQUFBWCxFQUFBRyxJQUFBUyxXQUFBYixHQUFBSSxHQUFBLEdBQUFVLEtBQUFGLEVBQUFDLFFBQUEsU0FBQWQsR0FBQSxHQUFBRSxHQUFBRCxFQUFBSSxHQUFBLEdBQUFMLEVBQUEsT0FBQUksR0FBQUYsR0FBQUYsSUFBQWEsRUFBQUEsRUFBQUMsUUFBQWQsRUFBQUMsRUFBQUMsRUFBQUMsR0FBQSxNQUFBRCxHQUFBRyxHQUFBUyxRQUFBLElBQUEsR0FBQUwsR0FBQSxrQkFBQUQsVUFBQUEsUUFBQUgsRUFBQSxFQUFBQSxFQUFBRixFQUFBYSxPQUFBWCxJQUFBRCxFQUFBRCxFQUFBRSxHQUFBLE9BQUFELEdBQUEsTUFBQUosT0FBQWlCLEdBQUEsU0FBQVQsRUFBQVUsRUFBQUosR0NDQSxZQU1BLFNBQVNLLEdBQXVCQyxHQUFPLE1BQU9BLElBQU9B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QUUvQyxHQUFJTCxRQUFPLFFBQVVjLEVBQVUsUUFBUyxNQUFNRSxLQUFNL0MsRUFBUWhLLGFBQWNvTSxHQUFTLEdBRXZGcEMsRUFBUTNMLElBQU13TyxJQUFVVCxHQUFTLEdBRTlCQSxFUnd6Q1gzUCxHUTV2Q0lrRSxTQUFBQSxFUjZ2Q0psRSxFUTV2Q0lvRSxZQUFBQSxFUjZ2Q0pwRSxFUTV2Q0l1VCxTQUFBQSxFUjZ2Q0p2VCxFUTV2Q0l3VCxPQUFBQSxFUjZ2Q0p4VCxFUTV2Q0k2QixXQUFBQSxFUjZ2Q0o3QixFUTV2Q0k4VCxZQUFBQSxFUjZ2Q0o5VCxFUTV2Q0k4VixJQUFBQSxFUjZ2Q0o5VixFUTV2Q0l5TyxVQUFBQSxFUjZ2Q0p6TyxFUTV2Q0lxVSxjQUFBQSxFUjZ2Q0pyVSxFUTV2Q0lvVixhQUFBQSxZUjh2Q08iLCJmaWxlIjoiY29tcG9uZW50LmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihlLG4sdCl7ZnVuY3Rpb24gbyhpLGYpe2lmKCFuW2ldKXtpZighZVtpXSl7dmFyIGM9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighZiYmYylyZXR1cm4gYyhpLCEwKTtpZih1KXJldHVybiB1KGksITApO3ZhciBhPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIraStcIidcIik7dGhyb3cgYS5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGF9dmFyIHA9bltpXT17ZXhwb3J0czp7fX07ZVtpXVswXS5jYWxsKHAuZXhwb3J0cyxmdW5jdGlvbihyKXt2YXIgbj1lW2ldWzFdW3JdO3JldHVybiBvKG58fHIpfSxwLHAuZXhwb3J0cyxyLGUsbix0KX1yZXR1cm4gbltpXS5leHBvcnRzfWZvcih2YXIgdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGk9MDtpPHQubGVuZ3RoO2krKylvKHRbaV0pO3JldHVybiBvfXJldHVybiByfSkoKSIsIihmdW5jdGlvbigpe2Z1bmN0aW9uIHIoZSxuLHQpe2Z1bmN0aW9uIG8oaSxmKXtpZighbltpXSl7aWYoIWVbaV0pe3ZhciBjPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWYmJmMpcmV0dXJuIGMoaSwhMCk7aWYodSlyZXR1cm4gdShpLCEwKTt2YXIgYT1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK2krXCInXCIpO3Rocm93IGEuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixhfXZhciBwPW5baV09e2V4cG9ydHM6e319O2VbaV1bMF0uY2FsbChwLmV4cG9ydHMsZnVuY3Rpb24ocil7dmFyIG49ZVtpXVsxXVtyXTtyZXR1cm4gbyhufHxyKX0scCxwLmV4cG9ydHMscixlLG4sdCl9cmV0dXJuIG5baV0uZXhwb3J0c31mb3IodmFyIHU9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxpPTA7aTx0Lmxlbmd0aDtpKyspbyh0W2ldKTtyZXR1cm4gb31yZXR1cm4gcn0pKCkoezE6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuJ3VzZSBzdHJpY3QnO1xuXG52YXIgX2NvbW1vbiA9IHJlcXVpcmUoJy4vY29tcG9uZW50L2NvbW1vbicpO1xuXG52YXIgX2NvbW1vbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jb21tb24pO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG4vLy8vXG5cbnZhciBJbml0ID0gZnVuY3Rpb24gSW5pdCgpIHtcblxuXHQoMCwgX2NvbW1vbjIuZGVmYXVsdCkoKTtcbn07XG5cbkluaXQoKTtcblxufSx7XCIuL2NvbXBvbmVudC9jb21tb25cIjo0fV0sMjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4ndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9qX3V0aWxpdHkgPSByZXF1aXJlKCcuLi9saWJzL2pfdXRpbGl0eScpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAvL1xuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgIHZhciBQQVJFTlRTID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZ3Jyk7XG4gICAgdmFyIFRJVExFID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmotY3JlYXRlX25hdicpO1xuICAgIHZhciBOQVZfQ0xBU1NOQU1FID0gJ20tZ2xfbmF2JztcblxuICAgIC8vIGNvbnNvbGUubG9nKCBUSVRMRSApO1xuXG4gICAgaWYgKFBBUkVOVFMpIHtcblxuICAgICAgICBQQVJFTlRTLmluc2VydEFkamFjZW50SFRNTCgnYmVmb3JlZW5kJywgJzx1bCBjbGFzcz1cIicgKyBOQVZfQ0xBU1NOQU1FICsgJyBqLXNjcm9sbG5hdlwiPjwvdWw+Jyk7XG5cbiAgICAgICAgdmFyIE5BViA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy4nICsgTkFWX0NMQVNTTkFNRSk7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBUSVRMRS5sZW5ndGg7IGkrKykge1xuXG4gICAgICAgICAgICB2YXIgdGV4dCA9IFRJVExFW2ldLm91dGVyVGV4dDtcbiAgICAgICAgICAgIHZhciBpZCA9ICgwLCBfal91dGlsaXR5LkdldFBhcmVudHMpKFRJVExFW2ldLCAnLmYtc2VjdGlvbicpLmdldEF0dHJpYnV0ZSgnaWQnKTtcblxuICAgICAgICAgICAgTkFWLmluc2VydEFkamFjZW50SFRNTCgnYmVmb3JlZW5kJywgJzxsaT48YSBocmVmPVwiIycgKyBpZCArICdcIj4nICsgdGV4dCArICc8L2E+PC9saT4nKTtcbiAgICAgICAgfVxuICAgIH1cbn07XG5cbn0se1wiLi4vbGlicy9qX3V0aWxpdHlcIjo4fV0sMzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4ndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKCkge1xuXG4gICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgdmFyIFRBUkdFVCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdib2R5Jyk7XG4gICAgICAgIHZhciBOQVYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubS1nbF9uYXYnKTtcblxuICAgICAgICBUQVJHRVRbMF0uc3R5bGUucGFkZGluZ0JvdHRvbSA9IE5BVi5vZmZzZXRIZWlnaHQgKyAncHgnO1xuICAgIH0sIDEwMDApO1xufTtcblxufSx7fV0sNDpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4ndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9qX3V0aWxpdHkgPSByZXF1aXJlKCcuLi9saWJzL2pfdXRpbGl0eScpO1xuXG52YXIgX2pfc21vb3RoU2Nyb2xsX2VzID0gcmVxdWlyZSgnLi4vbGlicy9qX3Ntb290aFNjcm9sbF9lcycpO1xuXG52YXIgX2pfc21vb3RoU2Nyb2xsX2VzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2pfc21vb3RoU2Nyb2xsX2VzKTtcblxudmFyIF9qX3Njcm9sbE5hdl9lcyA9IHJlcXVpcmUoJy4uL2xpYnMval9zY3JvbGxOYXZfZXMnKTtcblxudmFyIF9qX3Njcm9sbE5hdl9lczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9qX3Njcm9sbE5hdl9lcyk7XG5cbnZhciBfal9tb2RhbF9lcyA9IHJlcXVpcmUoJy4uL2xpYnMval9tb2RhbF9lcycpO1xuXG52YXIgX2pfbW9kYWxfZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfal9tb2RhbF9lcyk7XG5cbnZhciBfY3JlYXRlX25hdiA9IHJlcXVpcmUoJy4vX2NyZWF0ZV9uYXYnKTtcblxudmFyIF9jcmVhdGVfbmF2MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZV9uYXYpO1xuXG52YXIgX3NldF9wYWRkaW5nX2JvdHRvbSA9IHJlcXVpcmUoJy4vX3NldF9wYWRkaW5nX2JvdHRvbScpO1xuXG52YXIgX3NldF9wYWRkaW5nX2JvdHRvbTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zZXRfcGFkZGluZ19ib3R0b20pO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG4vLy8vXG5cbnZhciBJbml0ID0gZnVuY3Rpb24gSW5pdCgpIHtcblxuICAgIC8vIFNldCBQYWRkaW5nIEJ0bVxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgICgwLCBfc2V0X3BhZGRpbmdfYm90dG9tMi5kZWZhdWx0KSgpO1xuXG4gICAgLy8gQ3JlYXRlIFNDUk9MTCBOQVZcbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICAoMCwgX2NyZWF0ZV9uYXYyLmRlZmF1bHQpKCk7XG5cbiAgICAvLyBTQ1JPTEwgTkFWXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgdmFyIEpfU0NST0xMX05BVl9JTklUID0gZnVuY3Rpb24gSl9TQ1JPTExfTkFWX0lOSVQoKSB7XG5cbiAgICAgICAgbmV3IF9qX3Njcm9sbE5hdl9lczIuZGVmYXVsdChcIi5qLXNjcm9sbG5hdlwiLCB7XG4gICAgICAgICAgICBib3hFbG06IFwiLmotc2Nyb2xsbmF2X3NlY3Rpb25cIixcbiAgICAgICAgICAgIHBvc0ZpeDogXCIzMCVcIixcbiAgICAgICAgICAgIGVkZ2VKdWRnZTogZmFsc2VcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuXG4gICAgICAgIEpfU0NST0xMX05BVl9JTklUKCk7XG4gICAgfSwgMTAwMCk7XG5cbiAgICAvLyBNT0RBTFxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgIHZhciBKX01PREFMX0lOSVQgPSBmdW5jdGlvbiBKX01PREFMX0lOSVQoKSB7XG5cbiAgICAgICAgdmFyIGNsYXNzTmFtZSA9ICdpcy1ub3Rfc2VsZWN0JztcblxuICAgICAgICB2YXIgQk9EWSA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdib2R5JylbMF07XG5cbiAgICAgICAgdmFyIEpfTU9EQUwgPSBuZXcgX2pfbW9kYWxfZXMyLmRlZmF1bHQoXCIuai1tb2RhbF9jb2RlXCIsIHtcbiAgICAgICAgICAgIHdpZHRoOiA5NjAsXG4gICAgICAgICAgICBtb2RhbFNwZWVkOiA4MDAsXG4gICAgICAgICAgICBiZ09wYWNpdHk6IDAuNCxcbiAgICAgICAgICAgIGlubmVyQmdDb2xvcjogXCIjRkZGXCIsXG4gICAgICAgICAgICBpbm5lckJnUGFkZGluZzogMjBcbiAgICAgICAgfSk7XG5cbiAgICAgICAgSl9NT0RBTC5PcGVuRW5kID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaGxqcy5pbml0SGlnaGxpZ2h0aW5nT25Mb2FkKCk7XG4gICAgICAgICAgICAoMCwgX2pfdXRpbGl0eS5BZGRDbGFzcykoQk9EWSwgY2xhc3NOYW1lKTtcbiAgICAgICAgfTtcblxuICAgICAgICBKX01PREFMLkNsb3NlRW5kID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgKDAsIF9qX3V0aWxpdHkuUmVtb3ZlQ2xhc3MpKEJPRFksIGNsYXNzTmFtZSk7XG4gICAgICAgIH07XG4gICAgfTtcblxuICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuai1tb2RhbF9jb2RlJylbMF0pIHtcblxuICAgICAgICBKX01PREFMX0lOSVQoKTtcbiAgICB9XG5cbiAgICAvLyBTTU9PVEggU0NST0xMXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5cbiAgICB2YXIgSl9TTU9PVEhTQ1JPTEwgPSBmdW5jdGlvbiBKX1NNT09USFNDUk9MTCgpIHtcblxuICAgICAgICBuZXcgX2pfc21vb3RoU2Nyb2xsX2VzMi5kZWZhdWx0KFwiYVwiLCB7XG4gICAgICAgICAgICBzcGVlZDogMjAwLFxuICAgICAgICAgICAgLy8gZWFzaW5nOiBcImVhc2VPdXRRdWludFwiLFxuICAgICAgICAgICAgLy8gcG9zRml4OiAzMCxcbiAgICAgICAgICAgIGJsYW5rOiB0cnVlXG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcblxuICAgICAgICBKX1NNT09USFNDUk9MTCgpO1xuICAgIH0sIDEwMDApO1xuXG4gICAgLy8vXG59O1xuXG5leHBvcnRzLmRlZmF1bHQgPSBJbml0O1xuXG59LHtcIi4uL2xpYnMval9tb2RhbF9lc1wiOjUsXCIuLi9saWJzL2pfc2Nyb2xsTmF2X2VzXCI6NixcIi4uL2xpYnMval9zbW9vdGhTY3JvbGxfZXNcIjo3LFwiLi4vbGlicy9qX3V0aWxpdHlcIjo4LFwiLi9fY3JlYXRlX25hdlwiOjIsXCIuL19zZXRfcGFkZGluZ19ib3R0b21cIjozfV0sNTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKlxuXG5NZWdhbmVUZW1wbGF0ZVxuXG5WZXJzaW9uOiA1LjAuMFxuV2Vic2l0ZTogaHR0cDovL21lZ2FuZS10ZW1wbGF0ZS5jb20vXG5MaWNlbnNlOiBEZW50c3UgSXNvYmFyIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG5cbiovXG52YXIgak1vZGFsID0gZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIGpNb2RhbChzZWxlY3Rvciwgb3B0aW9uKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBqTW9kYWwpO1xuXG4gICAgICAgIHRoaXMuc2VsZWN0b3IgPSBzZWxlY3RvcjtcblxuICAgICAgICB0aGlzLmpNb2RhbERldGFpbCA9IFwiai1tb2RhbF9kZXRhaWxcIjtcbiAgICAgICAgdGhpcy5qTW9kYWxCb3ggPSB0aGlzLnNlbGVjdG9yLnNwbGl0KFwiLlwiKVsxXSArIFwiX2JveFwiO1xuICAgICAgICB0aGlzLmpNb2RhbEJveElubmVyID0gdGhpcy5zZWxlY3Rvci5zcGxpdChcIi5cIilbMV0gKyBcIl9ib3hfaW5uZXJcIjtcbiAgICAgICAgdGhpcy5qTW9kYWxXcmFwID0gdGhpcy5zZWxlY3Rvci5zcGxpdChcIi5cIilbMV0gKyBcIl93cmFwXCI7XG4gICAgICAgIHRoaXMuak1vZGFsQm94Q2xvc2UgPSB0aGlzLnNlbGVjdG9yLnNwbGl0KFwiLlwiKVsxXSArIFwiX2JveF9jbG9zZVwiO1xuICAgICAgICB0aGlzLmpNb2RhbEJveEJnID0gdGhpcy5zZWxlY3Rvci5zcGxpdChcIi5cIilbMV0gKyBcIl9iZ1wiO1xuICAgICAgICB0aGlzLmxpbmtJbm5lckhUTUwgPSB0aGlzLnNlbGVjdG9yLnNwbGl0KFwiLlwiKVsxXSArIFwiX2xpbmtfaW5uZXJIVE1MXCI7XG5cbiAgICAgICAgdGhpcy5tb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5zZWxlY3Rvcik7XG5cbiAgICAgICAgLy9vcHRpb25cbiAgICAgICAgaWYgKG9wdGlvbiA9PSBudWxsKSBvcHRpb24gPSB7fTtcbiAgICAgICAgdGhpcy53aWR0aCA9IG9wdGlvbi53aWR0aCA/IG9wdGlvbi53aWR0aCA6IDk2MDtcbiAgICAgICAgdGhpcy5tb2RhbFNwZWVkID0gb3B0aW9uLm1vZGFsU3BlZWQgPyBvcHRpb24ubW9kYWxTcGVlZCA6IDIwMDtcbiAgICAgICAgdGhpcy5iZ0NvbG9yID0gb3B0aW9uLmJnQ29sb3IgPyBvcHRpb24uYmdDb2xvciA6IFwiIzAwMFwiO1xuICAgICAgICB0aGlzLmJnT3BhY2l0eSA9IG9wdGlvbi5iZ09wYWNpdHkgPyBvcHRpb24uYmdPcGFjaXR5IDogMC44O1xuICAgICAgICB0aGlzLmlubmVyQmdDb2xvciA9IG9wdGlvbi5pbm5lckJnQ29sb3IgPyBvcHRpb24uaW5uZXJCZ0NvbG9yIDogXCIjRkZGXCI7XG4gICAgICAgIHRoaXMuaW5uZXJCZ1BhZGRpbmcgPSBvcHRpb24uaW5uZXJCZ1BhZGRpbmcgPj0gMCA/IG9wdGlvbi5pbm5lckJnUGFkZGluZyA6IDIwO1xuICAgICAgICB0aGlzLmNsb3NlQnRuID0gb3B0aW9uLmNsb3NlQnRuIHx8IG9wdGlvbi5jbG9zZUJ0biA9PSBcIlwiID8gb3B0aW9uLmNsb3NlQnRuIDogXCLDl1wiO1xuICAgICAgICB0aGlzLmNsb3NlQ2FuY2VsID0gb3B0aW9uLmNsb3NlQ2FuY2VsID8gb3B0aW9uLmNsb3NlQ2FuY2VsIDogZmFsc2U7XG4gICAgICAgIHRoaXMudHJpZ2dlciA9IG9wdGlvbi50cmlnZ2VyID8gb3B0aW9uLnRyaWdnZXIgOiBcImNsaWNrXCI7XG4gICAgICAgIHRoaXMuYWRkQ2xhc3MgPSBvcHRpb24uYWRkQ2xhc3MgPyBvcHRpb24uYWRkQ2xhc3MgOiBcIlwiO1xuICAgICAgICB0aGlzLmZpeGVkID0gb3B0aW9uLmZpeGVkICYmIG9wdGlvbi5maXhlZCA/IG9wdGlvbi5maXhlZCA6IGZhbHNlO1xuXG4gICAgICAgIHRoaXMuT3BlbkVuZCA9IGZ1bmN0aW9uICgpIHt9O1xuICAgICAgICB0aGlzLkNsb3NlRW5kID0gZnVuY3Rpb24gKCkge307XG5cbiAgICAgICAgdGhpcy5qTW9kYWxNb3ZpZUhlaWdodCA9IHRoaXMud2lkdGggLyAxNiAqIDk7IC8v5YuV55S757im5bmFIDE2OjlcbiAgICAgICAgdGhpcy5qTW9kYWxJbWcgPSBcIi5naWZ8LmpwZ3wuanBlZ3wucG5nXCI7IC8v55S75YOP44KS5Yik5YilXG4gICAgICAgIHRoaXMuak1vZGFsSHRtbCA9IFwiLy98Lmh0bWx8LnBocHw9XCI7IC8v5aSW6YOoSFRNTCBvciBQSFDjgpLliKTliKVcbiAgICAgICAgdGhpcy5qTW9kYWxNb3ZpZSA9IFwieW91dHViZXx5b3V0dVwiOyAvL+WLleeUu+OCkuWIpOWIpVxuXG4gICAgICAgIHRoaXMudGFyZ2V0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5pbmRleCA9IG51bGw7XG5cbiAgICAgICAgdGhpcy50YWdIVE1MID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2h0bWwnKVswXTtcblxuICAgICAgICB0aGlzLkluaXQoKTtcbiAgICAgICAgdGhpcy5DcmVhdGVNb2RhbEFyZWEoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAqKlxuICAgICoqIEluaXRcbiAgICAqKlxuICAgICoqL1xuXG5cbiAgICBfY3JlYXRlQ2xhc3Moak1vZGFsLCBbe1xuICAgICAgICBrZXk6IFwiSW5pdFwiLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gSW5pdCgpIHtcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgICAgICAgIHRoaXMubW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuc2VsZWN0b3IpO1xuXG4gICAgICAgICAgICB0aGlzLk9wZW5mdW5jID0gZnVuY3Rpb24gKGUpIHtcblxuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICAgICAgICAgIF90aGlzLnRhcmdldCA9IGUuY3VycmVudFRhcmdldDtcbiAgICAgICAgICAgICAgICBfdGhpcy5TZXQoKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGlmICh0aGlzLm1vZGFsWzBdKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmpNb2RhbERldGFpbEVsbSA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJqLW1vZGFsX2RldGFpbFwiKTtcblxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5tb2RhbC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1vZGFsW2ldLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLk9wZW5mdW5jKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuak1vZGFsRGV0YWlsRWxtLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuak1vZGFsRGV0YWlsRWxtW2ldLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubW9kYWwubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIFRISVNfREFUQSA9IHRoaXMubW9kYWxbaV0uZ2V0QXR0cmlidXRlKFwiaHJlZlwiKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFUSElTX0RBVEEpIHRoaXMuQWRkQ2xhc3ModGhpcy5tb2RhbFtpXSwgdGhpcy5saW5rSW5uZXJIVE1MKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogXCJSZUluaXRcIixcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIFJlSW5pdCgpIHtcblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLm1vZGFsLmxlbmd0aDsgaSsrKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLm1vZGFsW2ldLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLk9wZW5mdW5jKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5Jbml0KCk7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogXCJDcmVhdGVNb2RhbEFyZWFcIixcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIENyZWF0ZU1vZGFsQXJlYSgpIHtcbiAgICAgICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICAgICAgICB2YXIgbW9kYWxBcHBlbmRIVE1MID0gJzxkaXYgaWQ9XCInICsgdGhpcy5qTW9kYWxCb3ggKyAnXCIgY2xhc3M9XCInICsgdGhpcy5hZGRDbGFzcyArICdcIj4nO1xuICAgICAgICAgICAgbW9kYWxBcHBlbmRIVE1MICs9ICc8ZGl2IGlkPVwiJyArIHRoaXMuak1vZGFsQm94SW5uZXIgKyAnXCI+JztcbiAgICAgICAgICAgIG1vZGFsQXBwZW5kSFRNTCArPSAnPGRpdiBpZD1cIicgKyB0aGlzLmpNb2RhbFdyYXAgKyAnXCI+PC9kaXY+JztcbiAgICAgICAgICAgIG1vZGFsQXBwZW5kSFRNTCArPSAnPHAgaWQ9XCInICsgdGhpcy5qTW9kYWxCb3hDbG9zZSArICdcIj4nICsgdGhpcy5jbG9zZUJ0biArICc8L3A+JztcbiAgICAgICAgICAgIG1vZGFsQXBwZW5kSFRNTCArPSAnPC9kaXY+JztcbiAgICAgICAgICAgIG1vZGFsQXBwZW5kSFRNTCArPSAnPC9kaXY+JztcbiAgICAgICAgICAgIG1vZGFsQXBwZW5kSFRNTCArPSAnPGRpdiBpZD1cIicgKyB0aGlzLmpNb2RhbEJveEJnICsgJ1wiPjwvZGl2Pic7XG5cbiAgICAgICAgICAgIHRoaXMuak1vZGFsQm94Q1NTID0gXCJwb3NpdGlvbjogXCIgKyAodGhpcy5maXhlZCA/IFwiZml4ZWRcIiA6IFwiYWJzb2x1dGVcIikgKyBcIjsgXCI7XG4gICAgICAgICAgICB0aGlzLmpNb2RhbEJveENTUyArPSBcInRvcDogXCIgKyAodGhpcy5maXhlZCA/IFwiNTAlXCIgOiBcIjBcIikgKyBcIjsgXCI7XG4gICAgICAgICAgICB0aGlzLmpNb2RhbEJveENTUyArPSBcImxlZnQ6IDUwJTsgXCI7XG4gICAgICAgICAgICB0aGlzLmpNb2RhbEJveENTUyArPSBcInotaW5kZXg6IDEwMDAxOyBcIjtcbiAgICAgICAgICAgIHRoaXMuak1vZGFsQm94Q1NTICs9IFwid2lkdGg6IDEwMCU7IFwiO1xuICAgICAgICAgICAgdGhpcy5qTW9kYWxCb3hDU1MgKz0gXCJjdXJzb3I6IHBvaW50ZXI7IFwiO1xuICAgICAgICAgICAgdGhpcy5qTW9kYWxCb3hDU1MgKz0gXCJ0cmFuc2Zvcm06IFwiICsgKHRoaXMuZml4ZWQgPyBcInRyYW5zbGF0ZSgtNTAlLC01MCUpXCIgOiBcInRyYW5zbGF0ZSgtNTAlLDApXCIpICsgXCI7IFwiO1xuICAgICAgICAgICAgdGhpcy5qTW9kYWxCb3hDU1MgKz0gXCItbXMtdHJhbnNmb3JtOiBcIiArICh0aGlzLmZpeGVkID8gXCJ0cmFuc2xhdGUoLTUwJSwtNTAlKVwiIDogXCJ0cmFuc2xhdGUoLTUwJSwwKVwiKSArIFwiOyBcIjtcbiAgICAgICAgICAgIHRoaXMuak1vZGFsQm94Q1NTICs9IFwiLXdlYmtpdC10cmFuc2Zvcm06IFwiICsgKHRoaXMuZml4ZWQgPyBcInRyYW5zbGF0ZSgtNTAlLC01MCUpXCIgOiBcInRyYW5zbGF0ZSgtNTAlLDApXCIpICsgXCI7IFwiO1xuICAgICAgICAgICAgdGhpcy5qTW9kYWxCb3hDU1MgKz0gXCJvcGFjaXR5OiAwOyBcIjtcbiAgICAgICAgICAgIHRoaXMuak1vZGFsQm94Q1NTICs9IFwicG9pbnRlci1ldmVudHM6IG5vbmU7IFwiO1xuXG4gICAgICAgICAgICB0aGlzLmpNb2RhbEJveEJnQ1NTID0gXCJwb3NpdGlvbjogZml4ZWQ7IFwiO1xuICAgICAgICAgICAgdGhpcy5qTW9kYWxCb3hCZ0NTUyArPSBcImxlZnQ6IDA7IFwiO1xuICAgICAgICAgICAgdGhpcy5qTW9kYWxCb3hCZ0NTUyArPSBcInRvcDogMDsgXCI7XG4gICAgICAgICAgICB0aGlzLmpNb2RhbEJveEJnQ1NTICs9IFwid2lkdGg6IDEwMCU7IFwiO1xuICAgICAgICAgICAgdGhpcy5qTW9kYWxCb3hCZ0NTUyArPSBcImhlaWdodDogMjAwJTsgXCI7XG4gICAgICAgICAgICB0aGlzLmpNb2RhbEJveEJnQ1NTICs9IFwiYmFja2dyb3VuZDpcIiArIHRoaXMuYmdDb2xvciArIFwiOyBcIjtcbiAgICAgICAgICAgIHRoaXMuak1vZGFsQm94QmdDU1MgKz0gXCJ0cmFuc2l0aW9uOiBhbGwgXCIgKyB0aGlzLm1vZGFsU3BlZWQgLyAxMDAwICsgXCJzIGVhc2U7IFwiO1xuICAgICAgICAgICAgdGhpcy5qTW9kYWxCb3hCZ0NTUyArPSBcIi13ZWJraXQtdHJhbnNpdGlvbjogYWxsIFwiICsgdGhpcy5tb2RhbFNwZWVkIC8gMTAwMCArIFwicyBlYXNlOyBcIjtcbiAgICAgICAgICAgIHRoaXMuak1vZGFsQm94QmdDU1MgKz0gXCJ6LWluZGV4OiAxMDAwMDsgXCI7XG4gICAgICAgICAgICB0aGlzLmpNb2RhbEJveEJnQ1NTICs9IFwiY3Vyc29yOiBwb2ludGVyOyBcIjtcbiAgICAgICAgICAgIHRoaXMuak1vZGFsQm94QmdDU1MgKz0gXCJvcGFjaXR5OiAwOyBcIjtcbiAgICAgICAgICAgIHRoaXMuak1vZGFsQm94QmdDU1MgKz0gXCJwb2ludGVyLWV2ZW50czogbm9uZTsgXCI7XG5cbiAgICAgICAgICAgIHZhciBqTW9kYWxCb3hDbG9zZUNTUyA9IFwicG9zaXRpb246IGFic29sdXRlOyBcIjtcbiAgICAgICAgICAgIGpNb2RhbEJveENsb3NlQ1NTICs9IFwicmlnaHQ6IDA7IFwiO1xuICAgICAgICAgICAgak1vZGFsQm94Q2xvc2VDU1MgKz0gXCJ0b3A6IC01MHB4OyBcIjtcbiAgICAgICAgICAgIGpNb2RhbEJveENsb3NlQ1NTICs9IFwiei1pbmRleDogMTAwMDA7IFwiO1xuICAgICAgICAgICAgak1vZGFsQm94Q2xvc2VDU1MgKz0gXCJjdXJzb3I6IHBvaW50ZXI7IFwiO1xuICAgICAgICAgICAgak1vZGFsQm94Q2xvc2VDU1MgKz0gXCJjb2xvcjogI0ZGRjsgXCI7XG4gICAgICAgICAgICBqTW9kYWxCb3hDbG9zZUNTUyArPSBcImZvbnQtc2l6ZTogNDBweDsgXCI7XG4gICAgICAgICAgICBqTW9kYWxCb3hDbG9zZUNTUyArPSBcImxpbmUtaGVpZ2h0OiAxOyBcIjtcbiAgICAgICAgICAgIGpNb2RhbEJveENsb3NlQ1NTICs9IFwibWFyZ2luOiAwOyBcIjtcblxuICAgICAgICAgICAgdGhpcy5qTW9kYWxCb3hJbm5lckNTUyA9IFwiYmFja2dyb3VuZDogXCIgKyB0aGlzLmlubmVyQmdDb2xvciArIFwiOyBcIjtcbiAgICAgICAgICAgIHRoaXMuak1vZGFsQm94SW5uZXJDU1MgKz0gXCJwYWRkaW5nOiBcIiArIHRoaXMuaW5uZXJCZ1BhZGRpbmcgKyBcInB4OyBcIjtcbiAgICAgICAgICAgIHRoaXMuak1vZGFsQm94SW5uZXJDU1MgKz0gXCJwb3NpdGlvbjogcmVsYXRpdmU7IFwiO1xuICAgICAgICAgICAgdGhpcy5qTW9kYWxCb3hJbm5lckNTUyArPSBcImN1cnNvcjogZGVmYXVsdDsgXCI7XG5cbiAgICAgICAgICAgIHRoaXMuak1vZGFsQm94SW1nQ1NTID0gXCJwYWRkaW5nOiAwOyBcIjtcbiAgICAgICAgICAgIHRoaXMuak1vZGFsQm94SW1nQ1NTICs9IFwiYmFja2dyb3VuZDogbm9uZTsgXCI7XG5cbiAgICAgICAgICAgIHRoaXMuak1vZGFsSW1nQ1NTID0gXCJoZWlnaHQ6IGF1dG87IFwiO1xuICAgICAgICAgICAgdGhpcy5qTW9kYWxJbWdDU1MgKz0gXCJtYXgtd2lkdGg6IDEwMCU7IFwiO1xuICAgICAgICAgICAgdGhpcy5qTW9kYWxJbWdDU1MgKz0gXCJkaXNwbGF5OiBibG9jazsgXCI7XG4gICAgICAgICAgICB0aGlzLmpNb2RhbEltZ0NTUyArPSBcIm1hcmdpbjogMCBhdXRvOyBcIjtcblxuICAgICAgICAgICAgdGhpcy5qTW9kYWxCb3hNb3ZpZUNTUyA9IFwicGFkZGluZzogMDsgXCI7XG4gICAgICAgICAgICB0aGlzLmpNb2RhbEJveE1vdmllQ1NTICs9IFwiYmFja2dyb3VuZDogbm9uZTsgXCI7XG4gICAgICAgICAgICB0aGlzLmpNb2RhbEJveE1vdmllQ1NTICs9IFwiaGVpZ2h0OiAwOyBcIjtcbiAgICAgICAgICAgIHRoaXMuak1vZGFsQm94TW92aWVDU1MgKz0gXCJwb3NpdGlvbjogcmVsYXRpdmU7IFwiO1xuICAgICAgICAgICAgdGhpcy5qTW9kYWxCb3hNb3ZpZUNTUyArPSBcInBhZGRpbmctYm90dG9tOiA1Ni4yNSU7IFwiO1xuXG4gICAgICAgICAgICB0aGlzLmpNb2RhbEJveE1vdmllSWZyYW1lQ1NTID0gXCJkaXNwbGF5OiBibG9jazsgXCI7XG4gICAgICAgICAgICB0aGlzLmpNb2RhbEJveE1vdmllSWZyYW1lQ1NTICs9IFwiaGVpZ2h0OiAxMDAlOyBcIjtcbiAgICAgICAgICAgIHRoaXMuak1vZGFsQm94TW92aWVJZnJhbWVDU1MgKz0gXCJwb3NpdGlvbjogYWJzb2x1dGU7IFwiO1xuICAgICAgICAgICAgdGhpcy5qTW9kYWxCb3hNb3ZpZUlmcmFtZUNTUyArPSBcImxlZnQ6IDA7IFwiO1xuICAgICAgICAgICAgdGhpcy5qTW9kYWxCb3hNb3ZpZUlmcmFtZUNTUyArPSBcInRvcDogMDsgXCI7XG4gICAgICAgICAgICB0aGlzLmpNb2RhbEJveE1vdmllSWZyYW1lQ1NTICs9IFwid2lkdGg6IDEwMCU7IFwiO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5tb2RhbCkge1xuXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJib2R5XCIpWzBdLmluc2VydEFkamFjZW50SFRNTChcImJlZm9yZWVuZFwiLCBtb2RhbEFwcGVuZEhUTUwpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5qTW9kYWxCb3hFbG0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmpNb2RhbEJveCk7XG4gICAgICAgICAgICAgICAgdGhpcy5qTW9kYWxCb3hJbm5lckVsbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuak1vZGFsQm94SW5uZXIpO1xuICAgICAgICAgICAgICAgIHRoaXMuak1vZGFsQm94Q2xvc2VFbG0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmpNb2RhbEJveENsb3NlKTtcbiAgICAgICAgICAgICAgICB0aGlzLmpNb2RhbEJveEJnRWxtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5qTW9kYWxCb3hCZyk7XG4gICAgICAgICAgICAgICAgdGhpcy5saW5rSW5uZXJIVE1MRWxtID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSh0aGlzLmxpbmtJbm5lckhUTUwpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5qTW9kYWxCb3hFbG0uc3R5bGUuY3NzVGV4dCA9IHRoaXMuak1vZGFsQm94Q1NTO1xuICAgICAgICAgICAgICAgIHRoaXMuak1vZGFsQm94SW5uZXJFbG0uc3R5bGUuY3NzVGV4dCA9IHRoaXMuak1vZGFsQm94SW5uZXJDU1M7XG4gICAgICAgICAgICAgICAgdGhpcy5qTW9kYWxCb3hCZ0VsbS5zdHlsZS5jc3NUZXh0ID0gdGhpcy5qTW9kYWxCb3hCZ0NTUztcbiAgICAgICAgICAgICAgICB0aGlzLmpNb2RhbEJveENsb3NlRWxtLnN0eWxlLmNzc1RleHQgPSBqTW9kYWxCb3hDbG9zZUNTUztcblxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5tb2RhbFswXS5jbGFzc0xpc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgLy9JRTlcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5qTW9kYWxCb3hFbG0uc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmpNb2RhbEJveEJnRWxtLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBDbG9zZUZ1bmMgPSBmdW5jdGlvbiBDbG9zZUZ1bmMoZSkge1xuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICBfdGhpczIuQ2xvc2UoKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHRoaXMuak1vZGFsQm94Q2xvc2VFbG0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmpNb2RhbEJveENsb3NlKTtcbiAgICAgICAgICAgIHRoaXMuak1vZGFsQm94QmdFbG0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmpNb2RhbEJveEJnKTtcblxuICAgICAgICAgICAgdGhpcy5qTW9kYWxCb3hDbG9zZUVsbS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgQ2xvc2VGdW5jKTtcbiAgICAgICAgICAgIHRoaXMuak1vZGFsQm94QmdFbG0uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIENsb3NlRnVuYyk7XG4gICAgICAgIH1cbiAgICAgICAgLy9DcmVhdGVNb2RhbEFyZWFcblxuICAgIH0sIHtcbiAgICAgICAga2V5OiBcIk9wZW5cIixcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIE9wZW4oZWxtKSB7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLm1vZGFsWzBdKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnRhcmdldCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoZWxtKVswXTtcbiAgICAgICAgICAgICAgICB0aGlzLlNldCgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJPcGVuTW9kYWwoJ1wiICsgZWxtICsgXCInKSBFUlJPUiAgJ1wiICsgZWxtICsgXCInIGlzIG5vdCBmb3VuZC5cIik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6IFwiU2V0XCIsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBTZXQoKSB7XG5cbiAgICAgICAgICAgIHZhciBUSElTX0RBVEEgPSB0aGlzLnRhcmdldC5nZXRBdHRyaWJ1dGUoXCJocmVmXCIpO1xuICAgICAgICAgICAgdmFyIFRISVNfREFUQV9TVFJJTkcgPSBuZXcgU3RyaW5nKFRISVNfREFUQSk7XG4gICAgICAgICAgICB0aGlzLmluZGV4ID0gQXJyYXkucHJvdG90eXBlLmluZGV4T2YuY2FsbCh0aGlzLm1vZGFsLCB0aGlzLnRhcmdldCk7XG5cbiAgICAgICAgICAgIHRoaXMuc2Nyb2xsVmFsID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50ICYmIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AgfHwgZG9jdW1lbnQuYm9keS5zY3JvbGxUb3A7XG5cbiAgICAgICAgICAgIGlmIChUSElTX0RBVEEpIHtcblxuICAgICAgICAgICAgICAgIGlmIChUSElTX0RBVEFfU1RSSU5HLm1hdGNoKHRoaXMuak1vZGFsSW1nKSkge1xuICAgICAgICAgICAgICAgICAgICAvL2hyZWbjgYznlLvlg4/jga7loLTlkIhcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLklmSW1hZ2UoVEhJU19EQVRBKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFRISVNfREFUQV9TVFJJTkcubWF0Y2godGhpcy5qTW9kYWxNb3ZpZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgLy9ocmVm44GMeW91dHViZeOBruWgtOWQiFxuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuSWZZb3V0dWJlKFRISVNfREFUQSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChUSElTX0RBVEFfU1RSSU5HLm1hdGNoKHRoaXMuak1vZGFsSHRtbCkpIHtcbiAgICAgICAgICAgICAgICAgICAgLy9ocmVm44GM5aSW6YOoSFRNTOOBruWgtOWQiFxuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuSWZPdXRlckhUTUwoVEhJU19EQVRBKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgdGhpcy5JZklubmVySFRNTCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vU2V0XG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogXCJJZkltYWdlXCIsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBJZkltYWdlKHRoaXNEYXRhKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgICAgICAgICAgdmFyIG1vZGFsQXBwZW5kSFRNTCA9ICc8aW1nIHNyYz1cIicgKyB0aGlzRGF0YSArICdcIiBjbGFzcz1cImotbW9kYWxfaW1nXCI+JztcblxuICAgICAgICAgICAgdmFyIElNRyA9IG5ldyBJbWFnZSgpO1xuICAgICAgICAgICAgSU1HLnNyYyA9IHRoaXNEYXRhO1xuXG4gICAgICAgICAgICB0aGlzLkFkZENsYXNzKHRoaXMuak1vZGFsQm94SW5uZXJFbG0sIFwiai1tb2RhbF9pbWdcIik7XG4gICAgICAgICAgICB0aGlzLmpNb2RhbEJveElubmVyRWxtLnN0eWxlLmNzc1RleHQgPSB0aGlzLmpNb2RhbEJveEltZ0NTUztcblxuICAgICAgICAgICAgdGhpcy5qTW9kYWxXcmFwRWxtID0gdGhpcy5qTW9kYWxCb3hJbm5lckVsbS5xdWVyeVNlbGVjdG9yQWxsKFwiI1wiICsgdGhpcy5qTW9kYWxXcmFwKVswXTtcbiAgICAgICAgICAgIHRoaXMuak1vZGFsV3JhcEVsbS5pbm5lckhUTUwgPSBtb2RhbEFwcGVuZEhUTUw7XG5cbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJqLW1vZGFsX2ltZ1wiKVswXS5zdHlsZS5jc3NUZXh0ID0gdGhpcy5qTW9kYWxJbWdDU1M7XG5cbiAgICAgICAgICAgIElNRy5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMzLlJlYWR5KCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIC8vSWZJbWFnZVxuXG4gICAgfSwge1xuICAgICAgICBrZXk6IFwiSWZZb3V0dWJlXCIsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBJZllvdXR1YmUodGhpc0RhdGEpIHtcblxuICAgICAgICAgICAgdmFyIFRISVNfSUQgPSB0aGlzRGF0YS5zcGxpdChcIi9cIilbM107XG4gICAgICAgICAgICB2YXIgbW9kYWxBcHBlbmRIVE1MID0gJzxpZnJhbWUgc3JjPVwiaHR0cHM6Ly93d3cueW91dHViZS5jb20vZW1iZWQvJyArIFRISVNfSUQgKyAnP2F1dG9wbGF5PTEmcmVsPTAmcGxheXNpbmxpbmU9MVwiIGFsbG93ZnVsbHNjcmVlbj1cInRydWVcIiBmcmFtZWJvcmRlcj1cIjBcIj48L2lmcmFtZT4nO1xuXG4gICAgICAgICAgICB0aGlzLkFkZENsYXNzKHRoaXMuak1vZGFsQm94SW5uZXJFbG0sIFwiai1tb2RhbF9tb3ZpZVwiKTtcbiAgICAgICAgICAgIHRoaXMuak1vZGFsQm94SW5uZXJFbG0uc3R5bGUuY3NzVGV4dCA9IHRoaXMuak1vZGFsQm94SW1nQ1NTO1xuXG4gICAgICAgICAgICB0aGlzLmpNb2RhbFdyYXBFbG0gPSB0aGlzLmpNb2RhbEJveElubmVyRWxtLnF1ZXJ5U2VsZWN0b3JBbGwoXCIjXCIgKyB0aGlzLmpNb2RhbFdyYXApWzBdO1xuICAgICAgICAgICAgdGhpcy5qTW9kYWxXcmFwRWxtLnN0eWxlLmNzc1RleHQgPSB0aGlzLmpNb2RhbEJveE1vdmllQ1NTO1xuICAgICAgICAgICAgdGhpcy5qTW9kYWxXcmFwRWxtLmlubmVySFRNTCA9IG1vZGFsQXBwZW5kSFRNTDtcblxuICAgICAgICAgICAgdGhpcy5qTW9kYWxXcmFwRWxtLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaWZyYW1lXCIpWzBdLnN0eWxlLmNzc1RleHQgPSB0aGlzLmpNb2RhbEJveE1vdmllSWZyYW1lQ1NTO1xuXG4gICAgICAgICAgICB0aGlzLlJlYWR5KCk7XG4gICAgICAgIH1cbiAgICAgICAgLy9JZllvdXR1YmVcblxuICAgIH0sIHtcbiAgICAgICAga2V5OiBcIklmT3V0ZXJIVE1MXCIsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBJZk91dGVySFRNTCh0aGlzRGF0YSkge1xuICAgICAgICAgICAgdmFyIF90aGlzNCA9IHRoaXM7XG5cbiAgICAgICAgICAgIHZhciBUWVBFID0gdGhpcy50YXJnZXQuZ2V0QXR0cmlidXRlKFwiZGF0YS1Nb2RhbFR5cGVcIik7XG5cbiAgICAgICAgICAgIGlmICghVFlQRSkge1xuXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIlRoZSByZXF1ZXN0IGZvciAnXCIgKyB0aGlzRGF0YSArIFwiJyB0aW1lZCBvdXQuXCIpO1xuXG4gICAgICAgICAgICAgICAgdmFyIFJFUVVFU1QgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgICAgICAgICAgICAgICBSRVFVRVNULm9wZW4oXCJHRVRcIiwgdGhpc0RhdGEsIHRydWUpO1xuICAgICAgICAgICAgICAgIFJFUVVFU1QudGltZW91dCA9IDMwMDA7XG5cbiAgICAgICAgICAgICAgICBSRVFVRVNULm9ubG9hZCA9IGZ1bmN0aW9uIChldmVudCkge1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChSRVFVRVNULnJlYWR5U3RhdGUgPT09IDQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChSRVFVRVNULnN0YXR1cyA9PT0gMjAwKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczQuak1vZGFsQm94SW5uZXJFbG0uc3R5bGUuY3NzVGV4dCA9IF90aGlzNC5qTW9kYWxCb3hJbm5lckNTUztcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzNC5qTW9kYWxXcmFwRWxtID0gX3RoaXM0LmpNb2RhbEJveElubmVyRWxtLnF1ZXJ5U2VsZWN0b3JBbGwoXCIjXCIgKyBfdGhpczQuak1vZGFsV3JhcClbMF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM0LmpNb2RhbFdyYXBFbG0uaW5uZXJIVE1MID0gUkVRVUVTVC5yZXNwb25zZVRleHQ7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczQuUmVhZHkoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIlRoaXMgcmVxdWVzdCBnb3QgYW4gZXJyb3IuXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBSRVFVRVNULm9udGltZW91dCA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiVGhlIHJlcXVlc3QgZm9yIFwiICsgdGhpc0RhdGEgKyBcIiB0aW1lZCBvdXQuXCIpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgUkVRVUVTVC5vbmVycm9yID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJUaGlzIHJlcXVlc3QgZ290IGFuIGVycm9yLlwiKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIFJFUVVFU1Quc2VuZChudWxsKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoVFlQRSA9PSBcImlmcmFtZVwiKSB7XG5cbiAgICAgICAgICAgICAgICB2YXIgaGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0ICogMC44O1xuICAgICAgICAgICAgICAgIHZhciBtb2RhbEhlaWdodCA9IHRoaXMudGFyZ2V0LmdldEF0dHJpYnV0ZShcImRhdGEtbW9kYWxIZWlnaHRcIik7XG4gICAgICAgICAgICAgICAgaWYgKG1vZGFsSGVpZ2h0KSBoZWlnaHQgPSBtb2RhbEhlaWdodDtcblxuICAgICAgICAgICAgICAgIHZhciBtb2RhbEFwcGVuZEhUTUwgPSAnPGlmcmFtZSBzcmM9XCInICsgdGhpc0RhdGEgKyAnXCIgd2lkdGg9XCIxMDAlXCIgaGVpZ2h0PVwiJyArIGhlaWdodCArICdcIiBmcmFtZWJvcmRlcj1cIjBcIj48L2lmcmFtZT4nO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5qTW9kYWxCb3hJbm5lckVsbS5zdHlsZS5jc3NUZXh0ID0gdGhpcy5qTW9kYWxCb3hJbWdDU1M7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmpNb2RhbFdyYXBFbG0gPSB0aGlzLmpNb2RhbEJveElubmVyRWxtLnF1ZXJ5U2VsZWN0b3JBbGwoXCIjXCIgKyB0aGlzLmpNb2RhbFdyYXApWzBdO1xuICAgICAgICAgICAgICAgIHRoaXMuak1vZGFsV3JhcEVsbS5pbm5lckhUTUwgPSBtb2RhbEFwcGVuZEhUTUw7XG5cbiAgICAgICAgICAgICAgICB0aGlzLlJlYWR5KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy9JZk91dGVySFRNTFxuXG4gICAgfSwge1xuICAgICAgICBrZXk6IFwiSWZJbm5lckhUTUxcIixcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIElmSW5uZXJIVE1MKCkge1xuXG4gICAgICAgICAgICB2YXIgSU5ERVggPSBBcnJheS5wcm90b3R5cGUuaW5kZXhPZi5jYWxsKHRoaXMubGlua0lubmVySFRNTEVsbSwgdGhpcy50YXJnZXQpO1xuICAgICAgICAgICAgdmFyIFRISVNfSFRNTCA9IHRoaXMuak1vZGFsRGV0YWlsRWxtW0lOREVYXS5pbm5lckhUTUw7XG5cbiAgICAgICAgICAgIHRoaXMuak1vZGFsQm94SW5uZXJFbG0uc3R5bGUuY3NzVGV4dCA9IHRoaXMuak1vZGFsQm94SW5uZXJDU1M7XG5cbiAgICAgICAgICAgIHRoaXMuak1vZGFsV3JhcEVsbSA9IHRoaXMuak1vZGFsQm94SW5uZXJFbG0ucXVlcnlTZWxlY3RvckFsbChcIiNcIiArIHRoaXMuak1vZGFsV3JhcClbMF07XG4gICAgICAgICAgICB0aGlzLmpNb2RhbFdyYXBFbG0uaW5uZXJIVE1MID0gVEhJU19IVE1MO1xuXG4gICAgICAgICAgICB0aGlzLlJlYWR5KCk7XG4gICAgICAgIH1cbiAgICAgICAgLy9JZklubmVySFRNTFxuXG4gICAgICAgIC8qKlxuICAgICAgICAqKlxuICAgICAgICAqKiBSZWFkeVxuICAgICAgICAqKlxuICAgICAgICAqKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiBcIlJlYWR5XCIsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBSZWFkeSgpIHtcbiAgICAgICAgICAgIHZhciBfdGhpczUgPSB0aGlzO1xuXG4gICAgICAgICAgICB2YXIgd2lkdGggPSB0aGlzLnRhcmdldC5nZXRBdHRyaWJ1dGUoXCJkYXRhLW1vZGFsV2lkdGhcIik7XG4gICAgICAgICAgICB2YXIgaGVpZ2h0ID0gdGhpcy50YXJnZXQuZ2V0QXR0cmlidXRlKFwiZGF0YS1tb2RhbEhlaWdodFwiKTtcblxuICAgICAgICAgICAgd2lkdGggPSB3aWR0aCA/IHdpZHRoIDogdGhpcy53aWR0aCArIFwicHhcIjtcbiAgICAgICAgICAgIGhlaWdodCA9IGhlaWdodCA/IGhlaWdodCA6IFwiaW5pdGlhbFwiO1xuXG4gICAgICAgICAgICB0aGlzLmpNb2RhbEJveEVsbS5zdHlsZS5tYXhXaWR0aCA9IHdpZHRoO1xuICAgICAgICAgICAgdGhpcy5qTW9kYWxCb3hFbG0uc3R5bGUuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICAgICAgdGhpcy5qTW9kYWxCb3hFbG0uc3R5bGUudHJhbnNpdGlvbiA9IFwiaW5pdGlhbFwiO1xuICAgICAgICAgICAgdGhpcy5qTW9kYWxCb3hFbG0uc3R5bGUuc2V0UHJvcGVydHkoXCItd2Via2l0LXRyYW5zaXRpb25cIiwgXCJpbml0aWFsXCIpO1xuXG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfdGhpczUuU2hvdygpO1xuICAgICAgICAgICAgfSwgMTApO1xuICAgICAgICB9XG4gICAgICAgIC8vUmVhZHlcblxuXG4gICAgICAgIC8qKlxuICAgICAgICAqKlxuICAgICAgICAqKiBTaG93XG4gICAgICAgICoqXG4gICAgICAgICoqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6IFwiU2hvd1wiLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gU2hvdygpIHtcbiAgICAgICAgICAgIHZhciBfdGhpczYgPSB0aGlzO1xuXG4gICAgICAgICAgICB2YXIgV0lOX0hFSUdIVCA9IHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICAgICAgICAgIHZhciBUSElTX0hFSUdIVCA9IHRoaXMuak1vZGFsQm94RWxtLnNjcm9sbEhlaWdodDtcbiAgICAgICAgICAgIHZhciBGSVggPSAoV0lOX0hFSUdIVCAtIFRISVNfSEVJR0hUKSAvIDI7XG5cbiAgICAgICAgICAgIGlmICghdGhpcy5maXhlZCkge1xuICAgICAgICAgICAgICAgIC8vYWJzb2x1dGUg44Gu5aC05ZCIIDog44Oi44O844OA44Or6KGo56S65L2N572u6KiI566XXG5cbiAgICAgICAgICAgICAgICB0aGlzLmpNb2RhbEJveEVsbS5zdHlsZS50b3AgPSBXSU5fSEVJR0hUID4gVEhJU19IRUlHSFQgPyB0aGlzLnNjcm9sbFZhbCArIEZJWCArIFwicHhcIiA6IHRoaXMuc2Nyb2xsVmFsICsgNDAgKyBcInB4XCI7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vZml4ZWQg44Gu5aC05ZCIXG5cbiAgICAgICAgICAgICAgICB0aGlzLnRhZ0hUTUwuc3R5bGUucG9zaXRpb24gPSBcImZpeGVkXCI7XG4gICAgICAgICAgICAgICAgdGhpcy50YWdIVE1MLnN0eWxlLndpZHRoID0gXCIxMDAlXCI7XG4gICAgICAgICAgICAgICAgdGhpcy50YWdIVE1MLnN0eWxlLnRvcCA9IC10aGlzLnNjcm9sbFZhbCArIFwicHhcIjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICBpZiAoIV90aGlzNi5tb2RhbFswXS5jbGFzc0xpc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgLy9JRTlcblxuICAgICAgICAgICAgICAgICAgICBfdGhpczYuak1vZGFsQm94RWxtLnN0eWxlLm9wYWNpdHkgPSAxO1xuICAgICAgICAgICAgICAgICAgICBfdGhpczYuak1vZGFsQm94QmdFbG0uc3R5bGUub3BhY2l0eSA9IDE7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzNi5qTW9kYWxCb3hFbG0uc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXM2LmpNb2RhbEJveEJnRWxtLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICBfdGhpczYuak1vZGFsQm94RWxtLnN0eWxlLm9wYWNpdHkgPSAxO1xuICAgICAgICAgICAgICAgICAgICBfdGhpczYuak1vZGFsQm94RWxtLnN0eWxlLnBvaW50ZXJFdmVudHMgPSBcImluaGVyaXRcIjtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXM2LmpNb2RhbEJveEVsbS5zdHlsZS50cmFuc2l0aW9uID0gXCJhbGwgXCIgKyBfdGhpczYubW9kYWxTcGVlZCAvIDEwMDAgKyBcInMgZWFzZVwiO1xuICAgICAgICAgICAgICAgICAgICBfdGhpczYuak1vZGFsQm94RWxtLnN0eWxlLnNldFByb3BlcnR5KFwiLXdlYmtpdC10cmFuc2l0aW9uXCIsIFwiYWxsIFwiICsgX3RoaXM2Lm1vZGFsU3BlZWQgLyAxMDAwICsgXCJzIGVhc2VcIik7XG5cbiAgICAgICAgICAgICAgICAgICAgX3RoaXM2LmpNb2RhbEJveEJnRWxtLnN0eWxlLm9wYWNpdHkgPSBfdGhpczYuYmdPcGFjaXR5O1xuICAgICAgICAgICAgICAgICAgICBfdGhpczYuak1vZGFsQm94QmdFbG0uc3R5bGUucG9pbnRlckV2ZW50cyA9IFwiaW5oZXJpdFwiO1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBFbmRGdW5jID0gZnVuY3Rpb24gRW5kRnVuYygpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzNi5PcGVuRW5kKF90aGlzNi5pbmRleCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpczYuak1vZGFsQm94RWxtLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0cmFuc2l0aW9uZW5kXCIsIEVuZEZ1bmMsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICBfdGhpczYuak1vZGFsQm94RWxtLmFkZEV2ZW50TGlzdGVuZXIoXCJ0cmFuc2l0aW9uZW5kXCIsIEVuZEZ1bmMsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCAxMDApO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICoqXG4gICAgICAgICoqIENsb3NlXG4gICAgICAgICoqXG4gICAgICAgICoqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6IFwiQ2xvc2VcIixcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIENsb3NlKCkge1xuICAgICAgICAgICAgdmFyIF90aGlzNyA9IHRoaXM7XG5cbiAgICAgICAgICAgIHRoaXMuak1vZGFsQm94RWxtLnN0eWxlLm9wYWNpdHkgPSAwO1xuICAgICAgICAgICAgdGhpcy5qTW9kYWxCb3hFbG0uc3R5bGUucG9pbnRlckV2ZW50cyA9IFwibm9uZVwiO1xuXG4gICAgICAgICAgICB0aGlzLmpNb2RhbEJveEJnRWxtLnN0eWxlLm9wYWNpdHkgPSAwO1xuICAgICAgICAgICAgdGhpcy5qTW9kYWxCb3hCZ0VsbS5zdHlsZS5wb2ludGVyRXZlbnRzID0gXCJub25lXCI7XG5cbiAgICAgICAgICAgIHZhciBFbmRGdW5jID0gZnVuY3Rpb24gRW5kRnVuYygpIHtcblxuICAgICAgICAgICAgICAgIF90aGlzNy5qTW9kYWxCb3hJbm5lckVsbS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgX3RoaXM3LmpNb2RhbFdyYXBFbG0uc2V0QXR0cmlidXRlKFwic3R5bGVcIiwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIF90aGlzNy5qTW9kYWxXcmFwRWxtLmlubmVySFRNTCA9IFwiXCI7XG5cbiAgICAgICAgICAgICAgICBfdGhpczcuQ2xvc2VFbmQoKTtcblxuICAgICAgICAgICAgICAgIF90aGlzNy5qTW9kYWxCb3hFbG0ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRyYW5zaXRpb25lbmRcIiwgRW5kRnVuYywgZmFsc2UpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgdGhpcy5qTW9kYWxCb3hFbG0uYWRkRXZlbnRMaXN0ZW5lcihcInRyYW5zaXRpb25lbmRcIiwgRW5kRnVuYywgZmFsc2UpO1xuXG4gICAgICAgICAgICAvL1xuXG4gICAgICAgICAgICBpZiAoIXRoaXMubW9kYWxbMF0uY2xhc3NMaXN0KSB7XG4gICAgICAgICAgICAgICAgLy9JRTlcbiAgICAgICAgICAgICAgICB0aGlzLmpNb2RhbEJveEVsbS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgICAgICAgICAgdGhpcy5qTW9kYWxCb3hCZ0VsbS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmZpeGVkKSB7XG4gICAgICAgICAgICAgICAgLy9maXhlZCDjga7loLTlkIhcblxuICAgICAgICAgICAgICAgIHRoaXMudGFnSFRNTC5yZW1vdmVBdHRyaWJ1dGUoXCJzdHlsZVwiKTtcblxuICAgICAgICAgICAgICAgIHdpbmRvdy5zY3JvbGwoMCwgdGhpcy5zY3JvbGxWYWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6IFwiQWRkQ2xhc3NcIixcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIEFkZENsYXNzKGVsZW1lbnQsIF9jbGFzc05hbWUpIHtcblxuICAgICAgICAgICAgaWYgKGVsZW1lbnQuY2xhc3NMaXN0KSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKF9jbGFzc05hbWUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50LmNsYXNzTmFtZSArPSAnICcgKyBfY2xhc3NOYW1lO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIGpNb2RhbDtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gak1vZGFsO1xuXG59LHt9XSw2OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKlxuXG5NZWdhbmVUZW1wbGF0ZVxuXG5WZXJzaW9uOiA1LjAuMFxuV2Vic2l0ZTogaHR0cDovL21lZ2FuZS10ZW1wbGF0ZS5jb20vXG5MaWNlbnNlOiBEZW50c3UgSXNvYmFyIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG5cbiovXG52YXIgalNjcm9sbE5hdiA9IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBqU2Nyb2xsTmF2KHNlbGVjdG9yLCBvcHRpb24pIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIGpTY3JvbGxOYXYpO1xuXG4gICAgICAgIHRoaXMuc2VsZWN0b3IgPSBzZWxlY3RvcjtcbiAgICAgICAgdGhpcy5zY3JvbGxOYXYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuc2VsZWN0b3IpWzBdO1xuXG4gICAgICAgIC8vb3B0aW9uXG4gICAgICAgIGlmIChvcHRpb24gPT0gbnVsbCkgb3B0aW9uID0ge307XG5cbiAgICAgICAgdGhpcy5ib3ggPSBvcHRpb24uYm94RWxtID8gb3B0aW9uLmJveEVsbSA6ICcuZi1zZWN0aW9uJztcbiAgICAgICAgdGhpcy5idG4gPSBvcHRpb24uYWN0aXZlRWxtID8gb3B0aW9uLmFjdGl2ZUVsbSA6ICdsaSc7XG4gICAgICAgIHRoaXMucG9zRml4ID0gb3B0aW9uLnBvc0ZpeCA/IG9wdGlvbi5wb3NGaXggOiAwO1xuICAgICAgICB0aGlzLmVkZ2VKdWRnZSA9IG9wdGlvbi5lZGdlSnVkZ2U7XG4gICAgICAgIGlmICh0aGlzLmVkZ2VKdWRnZSA9PSBudWxsKSB0aGlzLmVkZ2VKdWRnZSA9IHRydWU7XG5cbiAgICAgICAgdGhpcy5ib3hFbG0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuYm94KTtcblxuICAgICAgICBpZiAodGhpcy5zY3JvbGxOYXYpIHtcbiAgICAgICAgICAgIHRoaXMuYnRuRWxtID0gdGhpcy5zY3JvbGxOYXYucXVlcnlTZWxlY3RvckFsbCh0aGlzLmJ0bik7XG4gICAgICAgICAgICB0aGlzLkluaXQoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICoqXG4gICAgKiogSW5pdFxuICAgICoqXG4gICAgKiovXG5cblxuICAgIF9jcmVhdGVDbGFzcyhqU2Nyb2xsTmF2LCBbe1xuICAgICAgICBrZXk6ICdJbml0JyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIEluaXQoKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICAgICAgICB2YXIgSU5URVJWQUwgPSAxMDtcbiAgICAgICAgICAgIHZhciB0aW1lciA9IHZvaWQgMDtcblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmJveEVsbS5sZW5ndGg7IGkrKykge1xuXG4gICAgICAgICAgICAgICAgdmFyIFRBUkdFVF9JRCA9IHRoaXMuYm94RWxtW2ldLmlkO1xuICAgICAgICAgICAgICAgIHRoaXMuYnRuRWxtW2ldLnF1ZXJ5U2VsZWN0b3JBbGwoJ2EnKVswXS5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCAnIycgKyBUQVJHRVRfSUQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgUmVzdGFydCA9IGZ1bmN0aW9uIFJlc3RhcnQoKSB7XG5cbiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGltZXIpO1xuICAgICAgICAgICAgICAgIHRpbWVyID0gc2V0VGltZW91dChfdGhpcy5SZWFkeSwgSU5URVJWQUwpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgdGhpcy5SZWFkeSgpO1xuXG4gICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIF90aGlzLlJlYWR5KCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuUmVhZHkoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdSZWFkeScsXG5cblxuICAgICAgICAvKipcbiAgICAgICAgKipcbiAgICAgICAgKiogUmVhZHlcbiAgICAgICAgKipcbiAgICAgICAgKiovXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBSZWFkeSgpIHtcblxuICAgICAgICAgICAgdGhpcy5SZXNldCgpO1xuICAgICAgICAgICAgdGhpcy5HZXRUYXJnZXQoKTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnUmVzZXQnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gUmVzZXQoKSB7XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5idG5FbG0ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB0aGlzLlJlbW92ZUNsYXNzKHRoaXMuYnRuRWxtW2ldLCAnYWN0aXZlJyk7XG4gICAgICAgICAgICB9Zm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmJveEVsbS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHRoaXMuUmVtb3ZlQ2xhc3ModGhpcy5ib3hFbG1baV0sICdhY3RpdmUnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnR2V0VGFyZ2V0JyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIEdldFRhcmdldCgpIHtcblxuICAgICAgICAgICAgdmFyIFdJTl9IRUlHSFQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgICAgICAgICB2YXIgV0lOX1NDUk9MTCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCAmJiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wIHx8IGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wO1xuXG4gICAgICAgICAgICB2YXIgaGFzSnVkZ2UgPSB2b2lkIDA7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmVkZ2VKdWRnZSkge1xuICAgICAgICAgICAgICAgIGhhc0p1ZGdlID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbEhlaWdodCA9PSBXSU5fSEVJR0hUICsgV0lOX1NDUk9MTCB8fCBXSU5fU0NST0xMID09IDA7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGhhc0p1ZGdlID0gdGhpcy5lZGdlSnVkZ2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChoYXNKdWRnZSkge1xuXG4gICAgICAgICAgICAgICAgdmFyIFRBUkdFVF9JRCA9IFdJTl9TQ1JPTEwgPT0gMCA/IHRoaXMuYm94RWxtWzBdLmlkIDogdGhpcy5ib3hFbG1bdGhpcy5ib3hFbG0ubGVuZ3RoIC0gMV0uaWQ7XG4gICAgICAgICAgICAgICAgdGhpcy5Qb3NpdGlvbihUQVJHRVRfSUQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5ib3hFbG0ubGVuZ3RoOyBpKyspIHtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgQk9YX0hFSUdIVCA9IHRoaXMuYm94RWxtW2ldLnNjcm9sbEhlaWdodDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIEJPWF9UT1AgPSB0aGlzLkdldE9mZnNldCh0aGlzLmJveEVsbVtpXSkudG9wO1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBjaGVja1BvcyA9IHZvaWQgMDtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoU3RyaW5nKHRoaXMucG9zRml4KS5pbmRleE9mKCclJykgPiAtMSkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyDljZjkvY3jgYwl44Gu5aC05ZCIXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGVja1BvcyA9IFdJTl9TQ1JPTEwgKyBXSU5fSEVJR0hUICogKHRoaXMucG9zRml4LnNwbGl0KCclJylbMF0gLyAxMDApO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGVja1BvcyA9IFdJTl9TQ1JPTEwgKyB0aGlzLnBvc0ZpeDtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGVja1BvcyA+PSBCT1hfVE9QICYmIGNoZWNrUG9zIDwgQk9YX1RPUCArIEJPWF9IRUlHSFQpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5Qb3NpdGlvbih0aGlzLmJveEVsbVtpXS5pZCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ1Bvc2l0aW9uJyxcblxuXG4gICAgICAgIC8qKlxuICAgICAgICAqKlxuICAgICAgICAqKiBQb3NpdGlvblxuICAgICAgICAqKlxuICAgICAgICAqKi9cbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIFBvc2l0aW9uKGlkKSB7XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5idG5FbG0ubGVuZ3RoOyBpKyspIHtcblxuICAgICAgICAgICAgICAgIHZhciBUSElTX0hSRUYgPSB0aGlzLmJ0bkVsbVtpXS5xdWVyeVNlbGVjdG9yQWxsKCdhJylbMF0uZ2V0QXR0cmlidXRlKCdocmVmJykuc3BsaXQoJyMnKVsxXTtcblxuICAgICAgICAgICAgICAgIGlmIChpZCA9PT0gVEhJU19IUkVGKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5BZGRDbGFzcyh0aGlzLmJ0bkVsbVtpXSwgJ2FjdGl2ZScpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLkFkZENsYXNzKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFRISVNfSFJFRiksICdhY3RpdmUnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ0dldE9mZnNldCcsXG5cblxuICAgICAgICAvKipcbiAgICAgICAgKipcbiAgICAgICAgKiogR2V0T2Zmc2V0XG4gICAgICAgICoqXG4gICAgICAgICoqL1xuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gR2V0T2Zmc2V0KGVsKSB7XG5cbiAgICAgICAgICAgIHZhciBCT1ggPSBlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0b3A6IEJPWC50b3AgKyB3aW5kb3cucGFnZVlPZmZzZXQgLSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50VG9wLFxuICAgICAgICAgICAgICAgIGxlZnQ6IEJPWC5sZWZ0ICsgd2luZG93LnBhZ2VYT2Zmc2V0IC0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudExlZnRcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ0FkZENsYXNzJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIEFkZENsYXNzKGVsZW1lbnQsIF9jbGFzc05hbWUpIHtcblxuICAgICAgICAgICAgaWYgKGVsZW1lbnQuY2xhc3NMaXN0KSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKF9jbGFzc05hbWUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50LmNsYXNzTmFtZSArPSAnICcgKyBfY2xhc3NOYW1lO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdSZW1vdmVDbGFzcycsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBSZW1vdmVDbGFzcyhlbGVtZW50LCBfY2xhc3NOYW1lKSB7XG5cbiAgICAgICAgICAgIGlmIChlbGVtZW50LmNsYXNzTGlzdCkge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShfY2xhc3NOYW1lKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5jbGFzc05hbWUgPSBlbGVtZW50LmNsYXNzTmFtZS5yZXBsYWNlKG5ldyBSZWdFeHAoJyhefFxcXFxiKScgKyBfY2xhc3NOYW1lLnNwbGl0KCcgJykuam9pbignfCcpICsgJyhcXFxcYnwkKScsICdnaScpLCAnICcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIGpTY3JvbGxOYXY7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGpTY3JvbGxOYXY7XG5cbn0se31dLDc6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuLypcblxuTWVnYW5lVGVtcGxhdGVcblxuVmVyc2lvbjogNS4wLjBcbldlYnNpdGU6IGh0dHA6Ly9tZWdhbmUtdGVtcGxhdGUuY29tL1xuTGljZW5zZTogRGVudHN1IElzb2JhciBBbGwgUmlnaHRzIFJlc2VydmVkLlxuXG4qL1xudmFyIGpTbW9vdGhTY3JvbGwgPSBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24galNtb290aFNjcm9sbChzZWxlY3Rvciwgb3B0aW9uKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIGpTbW9vdGhTY3JvbGwpO1xuXG4gICAgICAgIHRoaXMuc2VsZWN0b3IgPSBzZWxlY3RvcjtcbiAgICAgICAgdGhpcy5idG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuc2VsZWN0b3IpO1xuXG4gICAgICAgIC8vb3B0aW9uXG4gICAgICAgIGlmIChvcHRpb24gPT0gbnVsbCkgb3B0aW9uID0ge307XG4gICAgICAgIHRoaXMuc3BlZWQgPSBvcHRpb24uc3BlZWQgPyBvcHRpb24uc3BlZWQgOiA4MDA7XG4gICAgICAgIHRoaXMuZWFzaW5nID0gb3B0aW9uLmVhc2luZyA/IG9wdGlvbi5lYXNpbmcgOiBcImxpbmVhclwiO1xuICAgICAgICB0aGlzLnBvc0ZpeCA9IG9wdGlvbi5wb3NGaXggPyBvcHRpb24ucG9zRml4IDogMDtcbiAgICAgICAgdGhpcy5pZ25vcmUgPSBvcHRpb24uaWdub3JlID8gb3B0aW9uLmlnbm9yZSA6IFwiXCI7XG4gICAgICAgIHRoaXMuYmxhbmsgPSBvcHRpb24uYmxhbmsgPyBvcHRpb24uYmxhbmsgOiBmYWxzZTtcbiAgICAgICAgdGhpcy5jdXN0b21BbmNob3IgPSBvcHRpb24uY3VzdG9tQW5jaG9yID8gb3B0aW9uLmN1c3RvbUFuY2hvciA6IFwiIy9cIjtcblxuICAgICAgICB0aGlzLm1vdmVGbGFnID0gZmFsc2U7XG5cbiAgICAgICAgdGhpcy5TY3JvbGxFbmQgPSBmdW5jdGlvbiAoKSB7fTtcblxuICAgICAgICBpZiAodGhpcy5idG5bMF0pIHtcbiAgICAgICAgICAgIHRoaXMub2xkQnJvd3NlciA9IHRoaXMuR2V0QW5kcm9pZFZlcnNpb24oKSA8IDQuNCB8fCAhdGhpcy5idG5bMF0uY2xhc3NMaXN0O1xuICAgICAgICAgICAgdGhpcy5Jbml0KCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5ibGFuaykge1xuICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuQW5jaG9yTGluaygpO1xuICAgICAgICAgICAgICAgIH0sIDIwMCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICoqXG4gICAgKiogSW5pdFxuICAgICoqXG4gICAgKiovXG5cblxuICAgIF9jcmVhdGVDbGFzcyhqU21vb3RoU2Nyb2xsLCBbe1xuICAgICAgICBrZXk6IFwiSW5pdFwiLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gSW5pdCgpIHtcbiAgICAgICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuYnRuLmxlbmd0aDsgaSsrKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmJ0bltpXS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKGUpIHtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgaWdub3JlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHZhciBJR1VOT1JFX1RYVCA9IF90aGlzMi5pZ25vcmUuc3BsaXQoXCIsXCIpO1xuXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgSUdVTk9SRV9UWFQubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vbm905Yem55CGXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBJR1VOT1JFID0gSUdVTk9SRV9UWFRbal0uc3BsaXQoXCIuXCIpWzFdID8gSUdVTk9SRV9UWFRbal0uc3BsaXQoXCIuXCIpWzFdIDogSUdVTk9SRV9UWFRbal0uc3BsaXQoXCIjXCIpWzFdO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS5jdXJyZW50VGFyZ2V0LmNsYXNzTGlzdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLmN1cnJlbnRUYXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKElHVU5PUkUpKSBpZ25vcmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV3IFJlZ0V4cCgnKF58ICknICsgSUdVTk9SRSArICcoIHwkKScsICdnaScpLnRlc3QoZS5jdXJyZW50VGFyZ2V0LmNsYXNzTmFtZSkpIGlnbm9yZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS5jdXJyZW50VGFyZ2V0LmlkID09IElHVU5PUkUpIGlnbm9yZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAoIV90aGlzMi5tb3ZlRmxhZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy/jg4Djg5bjg6vjgq/jg6rjg4Pjgq/pmLLmraJcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIEdFVF9IQVNIID0gZS5jdXJyZW50VGFyZ2V0LmdldEF0dHJpYnV0ZShcImhyZWZcIik7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChHRVRfSEFTSCAmJiBHRVRfSEFTSC5zcGxpdChcIiNcIilbMF0gPT0gXCJcIiAmJiAhaWdub3JlKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyLm1vdmVGbGFnID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBIQVNIID0gR0VUX0hBU0guc3BsaXQoXCIjXCIpWzFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBUQVJHRVQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChIQVNIKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgT0ZGU0VUX1RPUCA9IF90aGlzMi5HZXRPZmZzZXQoVEFSR0VUKS50b3A7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIuU21vb3RoU2Nyb2xsKE9GRlNFVF9UT1ApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgKipcbiAgICAgICAgKiogU21vb3RoU2Nyb2xsXG4gICAgICAgICoqXG4gICAgICAgICoqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6IFwiU21vb3RoU2Nyb2xsXCIsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBTbW9vdGhTY3JvbGwocCkge1xuICAgICAgICAgICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICAgICAgICAgIHZhciBQT1NJVElPTiA9IHAgLSB0aGlzLnBvc0ZpeDtcblxuICAgICAgICAgICAgdmFyIFNDUk9MTF9WQUwgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCB8fCBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcDtcblxuICAgICAgICAgICAgdmFyIERJRkYgPSBQT1NJVElPTiAtIFNDUk9MTF9WQUw7XG4gICAgICAgICAgICB2YXIgbnVtID0gU0NST0xMX1ZBTDtcblxuICAgICAgICAgICAgdmFyIFNUQVJUX1RJTUUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTsgLy/mj4/nlLvplovlp4vmmYLliLvjgpLlj5blvpdcbiAgICAgICAgICAgIHZhciByZW5kZXIgPSB2b2lkIDA7XG4gICAgICAgICAgICB2YXIgbnVtUHJldiA9IFNDUk9MTF9WQUw7XG5cbiAgICAgICAgICAgIHZhciBMb29wID0gdm9pZCAwO1xuXG4gICAgICAgICAgICB2YXIgTG9vcEFuaW0gPSBmdW5jdGlvbiBMb29wQW5pbSgpIHtcblxuICAgICAgICAgICAgICAgIGlmICghX3RoaXMzLm9sZEJyb3dzZXIpIHJlbmRlciA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShMb29wKTtcblxuICAgICAgICAgICAgICAgIHZhciBDVVJSRU5UX1RJTUUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTsgLy/ntYzpgY7mmYLliLvjgpLlj5blvpdcbiAgICAgICAgICAgICAgICB2YXIgU1RBVFVTID0gQ1VSUkVOVF9USU1FIC0gU1RBUlRfVElNRTsgLy8g5o+P55S76ZaL5aeL5pmC5Yi744GL44KJ57WM6YGO5pmC5Yi744KS5byV44GPXG5cbiAgICAgICAgICAgICAgICB2YXIgTU9WRV9ZID0gTWF0aC5yb3VuZChFYXNpbmdbX3RoaXMzLmVhc2luZ10oU1RBVFVTLCBTQ1JPTExfVkFMLCBNYXRoLmFicyhESUZGKSwgX3RoaXMzLnNwZWVkKSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoRElGRiA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgbnVtICs9IE1PVkVfWSAtIG51bVByZXY7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbnVtICs9IC0oTU9WRV9ZIC0gbnVtUHJldik7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgd2luZG93LnNjcm9sbCgwLCBudW0pO1xuXG4gICAgICAgICAgICAgICAgbnVtUHJldiA9IE1PVkVfWTtcblxuICAgICAgICAgICAgICAgIGlmIChTVEFUVVMgPj0gX3RoaXMzLnNwZWVkKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgX3RoaXMzLm1vdmVGbGFnID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzMy5TY3JvbGxFbmQoKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMzLm9sZEJyb3dzZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoTG9vcCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYW5jZWxBbmltYXRpb25GcmFtZShyZW5kZXIpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgd2luZG93LnNjcm9sbCgwLCBQT1NJVElPTik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgaWYgKHRoaXMub2xkQnJvd3Nlcikge1xuICAgICAgICAgICAgICAgIExvb3AgPSBzZXRJbnRlcnZhbChMb29wQW5pbSwgMzMpOyAvLyBBbmRyb2lkNC405pyq5rqA44GvIHNldEludGVydmFsIOOBp+WHpueQhlxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBMb29wID0gTG9vcEFuaW07XG4gICAgICAgICAgICAgICAgTG9vcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICoqXG4gICAgICAgICoqIEdldE9mZnNldFxuICAgICAgICAqKlxuICAgICAgICAqKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiBcIkdldE9mZnNldFwiLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gR2V0T2Zmc2V0KGVsKSB7XG5cbiAgICAgICAgICAgIHZhciBCT1ggPSBlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0b3A6IEJPWC50b3AgKyB3aW5kb3cucGFnZVlPZmZzZXQgLSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50VG9wLFxuICAgICAgICAgICAgICAgIGxlZnQ6IEJPWC5sZWZ0ICsgd2luZG93LnBhZ2VYT2Zmc2V0IC0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudExlZnRcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgKipcbiAgICAgICAgKiogQW5jaG9yTGlua1xuICAgICAgICAqKlxuICAgICAgICAqKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiBcIkFuY2hvckxpbmtcIixcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIEFuY2hvckxpbmsoKSB7XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5idG4ubGVuZ3RoOyBpKyspIHtcblxuICAgICAgICAgICAgICAgIHZhciBpZ25vcmUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB2YXIgSUdVTk9SRV9UWFQgPSB0aGlzLmlnbm9yZS5zcGxpdChcIixcIik7XG4gICAgICAgICAgICAgICAgdmFyIEdFVF9IQVNIID0gdGhpcy5idG5baV0uZ2V0QXR0cmlidXRlKFwiaHJlZlwiKTtcblxuICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgSUdVTk9SRV9UWFQubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgLy9ub3Tlh6bnkIZcblxuICAgICAgICAgICAgICAgICAgICB2YXIgSUdVTk9SRSA9IElHVU5PUkVfVFhUW2pdLnNwbGl0KFwiLlwiKVsxXSA/IElHVU5PUkVfVFhUW2pdLnNwbGl0KFwiLlwiKVsxXSA6IElHVU5PUkVfVFhUW2pdLnNwbGl0KFwiI1wiKVsxXTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5idG5baV0uY2xhc3NMaXN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5idG5baV0uY2xhc3NMaXN0LmNvbnRhaW5zKElHVU5PUkUpKSBpZ25vcmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5ldyBSZWdFeHAoJyhefCApJyArIElHVU5PUkUgKyAnKCB8JCknLCAnZ2knKS50ZXN0KHRoaXMuYnRuW2ldLmNsYXNzTmFtZSkpIGlnbm9yZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuYnRuW2ldLmlkLm1hdGNoKElHVU5PUkUpKSBpZ25vcmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChHRVRfSEFTSCAmJiAhaWdub3JlKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIEhSRUZfU1BMSVQgPSBHRVRfSEFTSC5zcGxpdChcIiNcIik7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKEhSRUZfU1BMSVQubGVuZ3RoID4gMSAmJiBIUkVGX1NQTElUWzBdICE9IFwiXCIpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5idG5baV0uc2V0QXR0cmlidXRlKFwiaHJlZlwiLCBHRVRfSEFTSC5yZXBsYWNlKC8jL2csIHRoaXMuY3VzdG9tQW5jaG9yKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChsb2NhdGlvbi5ocmVmLnNwbGl0KHRoaXMuY3VzdG9tQW5jaG9yKVsxXSkge1xuXG4gICAgICAgICAgICAgICAgdmFyIFRBUkdFVCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGxvY2F0aW9uLmhyZWYuc3BsaXQodGhpcy5jdXN0b21BbmNob3IpWzFdKTtcbiAgICAgICAgICAgICAgICB2YXIgT0ZGU0VUX1RPUCA9IHRoaXMuR2V0T2Zmc2V0KFRBUkdFVCkudG9wO1xuICAgICAgICAgICAgICAgIHRoaXMuU21vb3RoU2Nyb2xsKE9GRlNFVF9UT1ApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6IFwiR2V0QW5kcm9pZFZlcnNpb25cIixcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIEdldEFuZHJvaWRWZXJzaW9uKCkge1xuXG4gICAgICAgICAgICB2YXIgdWEgPSBuYXZpZ2F0b3IudXNlckFnZW50O1xuXG4gICAgICAgICAgICBpZiAodWEudG9Mb3dlckNhc2UoKS5pbmRleE9mKCdhbmRyb2lkJykgPiAwICYmIHVhLnRvTG93ZXJDYXNlKCkuaW5kZXhPZignbW9iaWxlJykgPiAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlRmxvYXQodWEuc2xpY2UodWEuaW5kZXhPZihcIkFuZHJvaWRcIikgKyA4KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4galNtb290aFNjcm9sbDtcbn0oKTtcblxuLyoqXG4qKlxuKiogRWFzaW5nXG4qKlxuKiogdCA6IOaZgumWkyjpgLLooYzluqYpXG4qKiBiIDog6ZaL5aeL44Gu5YCkKOmWi+Wni+aZguOBruW6p+aomeOChOOCueOCseODvOODq+OBquOBqSlcbioqIGMgOiDplovlp4vjgajntYLkuobjga7lgKTjga7lt67liIZcbioqIGQgOiBUd2Vlbijjg4jjgqXjgqTjg7zjg7Mp44Gu5ZCI6KiI5pmC6ZaTXG4qKlxuKiovXG5cblxuZXhwb3J0cy5kZWZhdWx0ID0galNtb290aFNjcm9sbDtcbnZhciBFYXNpbmcgPSB7XG5cbiAgICBcImxpbmVhclwiOiBmdW5jdGlvbiBsaW5lYXIodCwgYiwgYywgZCkge1xuICAgICAgICB0IC89IGQ7XG4gICAgICAgIHJldHVybiBjICogdCArIGI7XG4gICAgfSxcblxuICAgIC8vQ3ViaWNcbiAgICBcImVhc2VJbkN1YmljXCI6IGZ1bmN0aW9uIGVhc2VJbkN1YmljKHQsIGIsIGMsIGQpIHtcbiAgICAgICAgdCAvPSBkO1xuICAgICAgICByZXR1cm4gYyAqIHQgKiB0ICogdCArIGI7XG4gICAgfSxcbiAgICBcImVhc2VPdXRDdWJpY1wiOiBmdW5jdGlvbiBlYXNlT3V0Q3ViaWModCwgYiwgYywgZCkge1xuICAgICAgICB0IC89IGQ7XG4gICAgICAgIHQgPSB0IC0gMTtcbiAgICAgICAgcmV0dXJuIGMgKiAodCAqIHQgKiB0ICsgMSkgKyBiO1xuICAgIH0sXG4gICAgXCJlYXNlSW5PdXRDdWJpY1wiOiBmdW5jdGlvbiBlYXNlSW5PdXRDdWJpYyh0LCBiLCBjLCBkKSB7XG4gICAgICAgIHQgLz0gZCAvIDIuMDtcbiAgICAgICAgaWYgKHQgPCAxKSB7XG4gICAgICAgICAgICByZXR1cm4gYyAvIDIuMCAqIHQgKiB0ICogdCArIGI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0ID0gdCAtIDI7XG4gICAgICAgICAgICByZXR1cm4gYyAvIDIuMCAqICh0ICogdCAqIHQgKyAyKSArIGI7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgLy9RdWFydGljXG4gICAgXCJlYXNlSW5RdWFydFwiOiBmdW5jdGlvbiBlYXNlSW5RdWFydCh0LCBiLCBjLCBkKSB7XG4gICAgICAgIHQgLz0gZDtcbiAgICAgICAgcmV0dXJuIGMgKiB0ICogdCAqIHQgKiB0ICsgYjtcbiAgICB9LFxuICAgIFwiZWFzZU91dFF1YXJ0XCI6IGZ1bmN0aW9uIGVhc2VPdXRRdWFydCh0LCBiLCBjLCBkKSB7XG4gICAgICAgIHQgLz0gZDtcbiAgICAgICAgdCA9IHQgLSAxO1xuICAgICAgICByZXR1cm4gLWMgKiAodCAqIHQgKiB0ICogdCAtIDEpICsgYjtcbiAgICB9LFxuICAgIFwiZWFzZUluT3V0UXVhcnRcIjogZnVuY3Rpb24gZWFzZUluT3V0UXVhcnQodCwgYiwgYywgZCkge1xuICAgICAgICB0IC89IGQgLyAyLjA7XG4gICAgICAgIGlmICh0IDwgMSkge1xuICAgICAgICAgICAgcmV0dXJuIGMgLyAyLjAgKiB0ICogdCAqIHQgKiB0ICsgYjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHQgPSB0IC0gMjtcbiAgICAgICAgICAgIHJldHVybiAtYyAvIDIuMCAqICh0ICogdCAqIHQgKiB0IC0gMikgKyBiO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIC8vUXVpbnRpY1xuICAgIFwiZWFzZUluUXVpbnRcIjogZnVuY3Rpb24gZWFzZUluUXVpbnQodCwgYiwgYywgZCkge1xuICAgICAgICB0IC89IGQ7XG4gICAgICAgIHJldHVybiBjICogdCAqIHQgKiB0ICogdCAqIHQgKyBiO1xuICAgIH0sXG4gICAgXCJlYXNlT3V0UXVpbnRcIjogZnVuY3Rpb24gZWFzZU91dFF1aW50KHQsIGIsIGMsIGQpIHtcbiAgICAgICAgdCAvPSBkO1xuICAgICAgICB0ID0gdCAtIDE7XG4gICAgICAgIHJldHVybiBjICogKHQgKiB0ICogdCAqIHQgKiB0ICsgMSkgKyBiO1xuICAgIH0sXG4gICAgXCJlYXNlSW5PdXRRdWludFwiOiBmdW5jdGlvbiBlYXNlSW5PdXRRdWludCh0LCBiLCBjLCBkKSB7XG4gICAgICAgIHQgLz0gZCAvIDIuMDtcbiAgICAgICAgaWYgKHQgPCAxKSB7XG4gICAgICAgICAgICByZXR1cm4gYyAvIDIuMCAqIHQgKiB0ICogdCAqIHQgKiB0ICsgYjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHQgPSB0IC0gMjtcbiAgICAgICAgICAgIHJldHVybiBjIC8gMi4wICogKHQgKiB0ICogdCAqIHQgKiB0ICsgMikgKyBiO1xuICAgICAgICB9XG4gICAgfVxuXG59O1xuXG59LHt9XSw4OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuLypcblxuTWVnYW5lVGVtcGxhdGVcblxuVmVyc2lvbjogNS4wLjBcbldlYnNpdGU6IGh0dHA6Ly9tZWdhbmUtdGVtcGxhdGUuY29tL1xuTGljZW5zZTogRGVudHN1IElzb2JhciBBbGwgUmlnaHRzIFJlc2VydmVkLlxuXG4qL1xuXG52YXIgQWRkQ2xhc3MgPSBmdW5jdGlvbiBBZGRDbGFzcyhlbGVtZW50LCBfY2xhc3NOYW1lKSB7XG5cbiAgICBpZiAoZWxlbWVudC5jbGFzc0xpc3QpIHtcbiAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKF9jbGFzc05hbWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGVsZW1lbnQuY2xhc3NOYW1lICs9ICcgJyArIF9jbGFzc05hbWU7XG4gICAgfVxufTtcblxudmFyIFJlbW92ZUNsYXNzID0gZnVuY3Rpb24gUmVtb3ZlQ2xhc3MoZWxlbWVudCwgX2NsYXNzTmFtZSkge1xuXG4gICAgaWYgKGVsZW1lbnQuY2xhc3NMaXN0KSB7XG4gICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShfY2xhc3NOYW1lKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBlbGVtZW50LmNsYXNzTmFtZSA9IGVsZW1lbnQuY2xhc3NOYW1lLnJlcGxhY2UobmV3IFJlZ0V4cCgnKF58XFxcXGIpJyArIF9jbGFzc05hbWUuc3BsaXQoJyAnKS5qb2luKCd8JykgKyAnKFxcXFxifCQpJywgJ2dpJyksICcgJyk7XG4gICAgfVxufTtcblxudmFyIEhhc0NsYXNzID0gZnVuY3Rpb24gSGFzQ2xhc3MoZWxlbWVudCwgX2NsYXNzTmFtZSkge1xuXG4gICAgdmFyIGlnbm9yZSA9IGZhbHNlO1xuXG4gICAgaWYgKGVsZW1lbnQuY2xhc3NMaXN0KSB7XG4gICAgICAgIGlmIChlbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhfY2xhc3NOYW1lKSkgaWdub3JlID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBpZiAobmV3IFJlZ0V4cCgnKF58ICknICsgX2NsYXNzTmFtZSArICcoIHwkKScsICdnaScpLnRlc3QoZS50YXJnZXQuY2xhc3NOYW1lKSkgaWdub3JlID0gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gaWdub3JlO1xufTtcblxudmFyIFRvZ2dsZUNsYXNzID0gZnVuY3Rpb24gVG9nZ2xlQ2xhc3MoZWxlbWVudCwgX2NsYXNzTmFtZSkge1xuXG4gICAgaWYgKGVsZW1lbnQuY2xhc3NMaXN0KSB7XG4gICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LnRvZ2dsZShjbGFzc05hbWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBjbGFzc2VzID0gZWxlbWVudC5jbGFzc05hbWUuc3BsaXQoJyAnKTtcbiAgICAgICAgdmFyIGV4aXN0aW5nSW5kZXggPSBjbGFzc2VzLmluZGV4T2YoY2xhc3NOYW1lKTtcblxuICAgICAgICBpZiAoZXhpc3RpbmdJbmRleCA+PSAwKSBjbGFzc2VzLnNwbGljZShleGlzdGluZ0luZGV4LCAxKTtlbHNlIGNsYXNzZXMucHVzaChjbGFzc05hbWUpO1xuXG4gICAgICAgIGVsZW1lbnQuY2xhc3NOYW1lID0gY2xhc3Nlcy5qb2luKCcgJyk7XG4gICAgfVxufTtcblxudmFyIFNldENzcyA9IGZ1bmN0aW9uIFNldENzcyhlbGVtZW50LCBzdHlsZXMpIHtcblxuICAgIHZhciBjc3MgPSBcIlwiO1xuXG4gICAgZm9yICh2YXIga2V5IGluIHN0eWxlcykge1xuICAgICAgICBjc3MgKz0gXCJcIiArIGtleSArIFwiOlwiICsgc3R5bGVzW2tleV0gKyBcIjsgXCI7XG4gICAgfVxuXG4gICAgZWxlbWVudC5zdHlsZS5jc3NUZXh0ID0gY3NzO1xufTtcblxudmFyIEdldFBhcmVudHMgPSBmdW5jdGlvbiBHZXRQYXJlbnRzKGVsZW1lbnQsIHRhcmdldCkge1xuXG4gICAgdmFyIHBhcmVudCA9IGVsZW1lbnQsXG4gICAgICAgIGkgPSAwLFxuICAgICAgICB0O1xuXG4gICAgaWYgKHRhcmdldC5zcGxpdChcIi5cIilbMV0pIHtcbiAgICAgICAgdCA9IHRhcmdldC5zcGxpdChcIi5cIilbMV07XG4gICAgfSBlbHNlIGlmICh0YXJnZXQuc3BsaXQoXCIjXCIpWzFdKSB7XG4gICAgICAgIHQgPSB0YXJnZXQuc3BsaXQoXCIjXCIpWzFdO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHQgPSB0YXJnZXQ7XG4gICAgfVxuICAgIHdoaWxlIChpIDwgMTAwKSB7XG4gICAgICAgIHBhcmVudCA9IHBhcmVudC5wYXJlbnROb2RlO1xuICAgICAgICBpZiAocGFyZW50LnRhZ05hbWUudG9Mb3dlckNhc2UoKSA9PSB0KSBicmVhaztcbiAgICAgICAgaWYgKHBhcmVudC5jbGFzc05hbWUpIHtcbiAgICAgICAgICAgIGlmIChwYXJlbnQuY2xhc3NOYW1lLm1hdGNoKHQpKSBicmVhaztcbiAgICAgICAgfSBlbHNlIGlmIChwYXJlbnQuaWQpIHtcbiAgICAgICAgICAgIGlmIChwYXJlbnQuaWQubWF0Y2godCkpIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGkrKztcbiAgICB9XG4gICAgcmV0dXJuIHBhcmVudDtcbn07XG5cbnZhciBHZXRTaWJsaW5ncyA9IGZ1bmN0aW9uIEdldFNpYmxpbmdzKGVsLCB0YXJnZXQpIHtcblxuICAgIHZhciBzaWJsaW5ncyA9IEFycmF5LnByb3RvdHlwZS5maWx0ZXIuY2FsbChlbC5wYXJlbnROb2RlLmNoaWxkcmVuLCBmdW5jdGlvbiAoY2hpbGQsIGkpIHtcblxuICAgICAgICB2YXIgdGFyZ2V0RWxtID0gZWwucGFyZW50Tm9kZS5xdWVyeVNlbGVjdG9yQWxsKHRhcmdldCk7XG4gICAgICAgIHZhciB0YXJnZXRfID0gbnVsbDtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRhcmdldEVsbS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKGNoaWxkID09PSB0YXJnZXRFbG1baV0pIHRhcmdldF8gPSB0YXJnZXRFbG1baV07XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY2hpbGQgIT09IGVsICYmIGNoaWxkID09PSB0YXJnZXRfO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHNpYmxpbmdzLmxlbmd0aCAhPSAwID8gc2libGluZ3MgOiBudWxsO1xufTtcblxudmFyIEdldE9mZnNldCA9IGZ1bmN0aW9uIEdldE9mZnNldChlbGVtZW50KSB7XG5cbiAgICB2YXIgQk9YID0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIHRvcDogQk9YLnRvcCArIHdpbmRvdy5wYWdlWU9mZnNldCAtIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRUb3AsXG4gICAgICAgIGxlZnQ6IEJPWC5sZWZ0ICsgd2luZG93LnBhZ2VYT2Zmc2V0IC0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudExlZnRcbiAgICB9O1xufTtcblxudmFyIEdldEhlaWdodERhdGEgPSBmdW5jdGlvbiBHZXRIZWlnaHREYXRhKGVsZW1lbnQpIHtcblxuICAgIHZhciBTVFlMRVMgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KTtcbiAgICB2YXIgSCA9IGVsZW1lbnQub2Zmc2V0SGVpZ2h0O1xuICAgIHZhciBCVCA9IHBhcnNlRmxvYXQoU1RZTEVTLmJvcmRlclRvcFdpZHRoKTtcbiAgICB2YXIgQkIgPSBwYXJzZUZsb2F0KFNUWUxFUy5ib3JkZXJCb3R0b21XaWR0aCk7XG4gICAgdmFyIFBUID0gcGFyc2VGbG9hdChTVFlMRVMucGFkZGluZ1RvcCk7XG4gICAgdmFyIFBCID0gcGFyc2VGbG9hdChTVFlMRVMucGFkZGluZ0JvdHRvbSk7XG5cbiAgICB2YXIgREFUQSA9IHtcbiAgICAgICAgXCJoZWlnaHRcIjogSCxcbiAgICAgICAgXCJib3JkZXJ0b3BcIjogQlQsXG4gICAgICAgIFwiYm9yZGVyQm90dG9tXCI6IEJCLFxuICAgICAgICBcInBhZGRpbmdUb3BcIjogUFQsXG4gICAgICAgIFwicGFkZGluZ0JvdHRvbVwiOiBQQixcbiAgICAgICAgXCJvdXRlckhlaWdodFwiOiBIICsgQlQgKyBCQiArIFBUICsgUEJcbiAgICB9O1xuXG4gICAgcmV0dXJuIERBVEE7XG59O1xuXG52YXIgR2V0V2lkdGhEYXRhID0gZnVuY3Rpb24gR2V0V2lkdGhEYXRhKGVsZW1lbnQpIHtcblxuICAgIHZhciBTVFlMRVMgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KTtcbiAgICB2YXIgVyA9IGVsZW1lbnQub2Zmc2V0V2lkdGg7XG4gICAgdmFyIEJUID0gcGFyc2VGbG9hdChTVFlMRVMuYm9yZGVyTGVmdFdpZHRoKTtcbiAgICB2YXIgQkIgPSBwYXJzZUZsb2F0KFNUWUxFUy5ib3JkZXJSaWdodFdpZHRoKTtcbiAgICB2YXIgUFQgPSBwYXJzZUZsb2F0KFNUWUxFUy5wYWRkaW5nTGVmdCk7XG4gICAgdmFyIFBCID0gcGFyc2VGbG9hdChTVFlMRVMucGFkZGluZ1JpZ2h0KTtcblxuICAgIHZhciBEQVRBID0ge1xuICAgICAgICBcIndpZHRoXCI6IFcsXG4gICAgICAgIFwiYm9yZGVyTGVmdFwiOiBCVCxcbiAgICAgICAgXCJib3JkZXJSaWdodFwiOiBCQixcbiAgICAgICAgXCJwYWRkaW5nTGVmdFwiOiBQVCxcbiAgICAgICAgXCJwYWRkaW5nUmlnaHRcIjogUEIsXG4gICAgICAgIFwib3V0ZXJXaWR0aFwiOiBXICsgQlQgKyBCQiArIFBUICsgUEJcbiAgICB9O1xuXG4gICAgcmV0dXJuIERBVEE7XG59O1xuXG52YXIgTm90ID0gZnVuY3Rpb24gTm90KGVsZW1lbnQsIGlnbm9yZVR4dCkge1xuXG4gICAgdmFyIGlnbm9yZSA9IGZhbHNlO1xuXG4gICAgdmFyIElHVU5PUkUgPSBpZ25vcmVUeHQuc3BsaXQoXCIuXCIpWzFdID8gaWdub3JlVHh0LnNwbGl0KFwiLlwiKVsxXSA6IGlnbm9yZVR4dC5zcGxpdChcIiNcIilbMV07XG5cbiAgICBpZiAoZWxlbWVudC5jbGFzc0xpc3QpIHtcbiAgICAgICAgaWYgKGVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKElHVU5PUkUpKSBpZ25vcmUgPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChuZXcgUmVnRXhwKCcoXnwgKScgKyBJR1VOT1JFICsgJyggfCQpJywgJ2dpJykudGVzdChlbGVtZW50LmNsYXNzTmFtZSkpIGlnbm9yZSA9IHRydWU7XG4gICAgfVxuICAgIGlmIChlbGVtZW50LmlkID09IElHVU5PUkUpIGlnbm9yZSA9IHRydWU7XG5cbiAgICByZXR1cm4gaWdub3JlO1xufTtcblxuLy8gY29uc3QgQWRkZWRFbG1IYW5kbGVyID0gZnVuY3Rpb24oIGVsbSwgY2FsbGJhY2ssIGhhbmRsZXIgKSB7XG4vL1xuLy8gICAgIGNvbnN0IEVWRU5UID0gIWhhbmRsZXIgPyBcImNsaWNrXCIgOiBoYW5kbGVyO1xuLy9cbi8vICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCBFVkVOVCwgKGUpID0+IHtcbi8vICAgICAgICAgbGV0IGhpdCA9IGZhbHNlLFxuLy8gICAgICAgICAgICAgdDtcbi8vICAgICAgICAgaWYgKCBlbG0uc3BsaXQoXCIuXCIpWzFdICkge1xuLy8gICAgICAgICAgICAgdCA9IGVsbS5zcGxpdChcIi5cIilbMV07XG4vLyAgICAgICAgIH0gZWxzZSBpZiAoIGVsbS5zcGxpdChcIiNcIilbMV0gKSB7XG4vLyAgICAgICAgICAgICB0ID0gZWxtLnNwbGl0KFwiI1wiKVsxXTtcbi8vICAgICAgICAgfSBlbHNlIHtcbi8vICAgICAgICAgICAgIHQgPSBlbG07XG4vLyAgICAgICAgIH1cbi8vICAgICAgICAgaWYoIGUudGFyZ2V0LnRhZ05hbWUudG9Mb3dlckNhc2UoKSA9PSB0ICkge1xuLy8gICAgICAgICAgICAgaGl0ID0gdHJ1ZTtcbi8vICAgICAgICAgfSBlbHNlIHtcbi8vICAgICAgICAgICAgIGlmKCBlLnRhcmdldC5jbGFzc05hbWUgKSB7XG4vLyAgICAgICAgICAgICAgICAgaWYoIGUudGFyZ2V0LmNsYXNzTmFtZS5tYXRjaCggdCApICkgaGl0ID0gdHJ1ZTtcbi8vICAgICAgICAgICAgIH0gZWxzZSBpZiggZS50YXJnZXQuaWQgKSB7XG4vLyAgICAgICAgICAgICAgICAgaWYoIGUudGFyZ2V0LmlkLm1hdGNoKCB0ICkgKSBoaXQgPSB0cnVlO1xuLy8gICAgICAgICAgICAgfVxuLy8gICAgICAgICB9XG4vLyAgICAgICAgIGlmKCBoaXQgKSB7XG4vLyAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4vLyAgICAgICAgICAgICBjYWxsYmFjayggZSApO1xuLy8gICAgICAgICB9XG4vLyAgICAgfSlcbi8vXG4vLyB9XG5cbi8vIGNvbnN0IENyZWF0VmlkZW8gPSBmdW5jdGlvbiggc3JjLCBvcHRpb24gKSB7XG4vL1xuLy8gICAgIHZhciBsb29wID0gIG9wdGlvbi5sb29wO1xuLy8gICAgIHZhciB2b2x1bWUgPSAgb3B0aW9uLnZvbHVtZTtcbi8vICAgICB2YXIgY29udHJvbHMgPSAgb3B0aW9uLmNvbnRyb2xzO1xuLy8gICAgIHZhciBub2Rvd25sb2FkID0gIG9wdGlvbi5ub2Rvd25sb2FkO1xuLy8gICAgIHZhciBub0NvbnRleHRtZW51ID0gIG9wdGlvbi5ub0NvbnRleHRtZW51O1xuLy9cbi8vICAgICB2YXIgdmlkZW8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCAndmlkZW8nICk7XG4vLyAgICAgdmlkZW8uc2V0QXR0cmlidXRlKFwicGxheXNpbmxpbmVcIiwgdHJ1ZSk7XG4vLyAgICAgaWYoIGNvbnRyb2xzICkgdmlkZW8uc2V0QXR0cmlidXRlKFwiY29udHJvbHNcIiwgXCJjb250cm9sc1wiKTtcbi8vICAgICBpZiggbm9kb3dubG9hZCApIHZpZGVvLnNldEF0dHJpYnV0ZShcImNvbnRyb2xzbGlzdFwiLCBcIm5vZG93bmxvYWRcIik7XG4vLyAgICAgaWYoIG5vQ29udGV4dG1lbnUgKSB2aWRlby5zZXRBdHRyaWJ1dGUoXCJvbkNvbnRleHRtZW51XCIsIFwicmV0dXJuIGZhbHNlXCIpO1xuLy9cbi8vICAgICB2aWRlby5sb29wID0gbG9vcDtcbi8vICAgICB2aWRlby52b2x1bWUgPSB2b2x1bWU7XG4vLyAgICAgdmlkZW8uc3JjID0gc3JjO1xuLy8gICAgIHZpZGVvLmxvYWQoKTtcbi8vXG4vLyAgICAgcmV0dXJuIHZpZGVvO1xuLy9cbi8vIH1cblxuLy8vL1xuXG5leHBvcnRzLkFkZENsYXNzID0gQWRkQ2xhc3M7XG5leHBvcnRzLlJlbW92ZUNsYXNzID0gUmVtb3ZlQ2xhc3M7XG5leHBvcnRzLkhhc0NsYXNzID0gSGFzQ2xhc3M7XG5leHBvcnRzLlNldENzcyA9IFNldENzcztcbmV4cG9ydHMuR2V0UGFyZW50cyA9IEdldFBhcmVudHM7XG5leHBvcnRzLkdldFNpYmxpbmdzID0gR2V0U2libGluZ3M7XG5leHBvcnRzLk5vdCA9IE5vdDtcbmV4cG9ydHMuR2V0T2Zmc2V0ID0gR2V0T2Zmc2V0O1xuZXhwb3J0cy5HZXRIZWlnaHREYXRhID0gR2V0SGVpZ2h0RGF0YTtcbmV4cG9ydHMuR2V0V2lkdGhEYXRhID0gR2V0V2lkdGhEYXRhO1xuXG59LHt9XX0se30sWzFdKVxuXG4iLCJpbXBvcnQgQ29tbW9uIGZyb20gJy4vY29tcG9uZW50L2NvbW1vbic7XG5cbi8vLy9cblxuY29uc3QgSW5pdCA9ICgpID0+IHtcblxuXHRDb21tb24oKTtcblxufVxuXG5Jbml0KCk7XG4iLCJpbXBvcnQgeyBHZXRQYXJlbnRzIH0gZnJvbSAnLi4vbGlicy9qX3V0aWxpdHknO1xuXG5leHBvcnQgZGVmYXVsdCAoKSA9PiB7XG5cbiAgICAvL1xuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgIGNvbnN0IFBBUkVOVFMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZncnKTtcbiAgICBjb25zdCBUSVRMRSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5qLWNyZWF0ZV9uYXYnKTtcbiAgICBjb25zdCBOQVZfQ0xBU1NOQU1FID0gJ20tZ2xfbmF2JztcblxuICAgIC8vIGNvbnNvbGUubG9nKCBUSVRMRSApO1xuXG4gICAgaWYoIFBBUkVOVFMgKXtcblxuICAgICAgICBQQVJFTlRTLmluc2VydEFkamFjZW50SFRNTCgnYmVmb3JlZW5kJywnPHVsIGNsYXNzPVwiJyArIE5BVl9DTEFTU05BTUUgKyAnIGotc2Nyb2xsbmF2XCI+PC91bD4nKTtcblxuICAgICAgICBjb25zdCBOQVYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuJyArIE5BVl9DTEFTU05BTUUpO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgVElUTEUubGVuZ3RoOyBpKyspIHtcblxuICAgICAgICAgICAgbGV0IHRleHQgPSBUSVRMRVtpXS5vdXRlclRleHQ7XG4gICAgICAgICAgICBsZXQgaWQgPSBHZXRQYXJlbnRzKCBUSVRMRVtpXSwgJy5mLXNlY3Rpb24nICkuZ2V0QXR0cmlidXRlKCdpZCcpO1xuXG4gICAgICAgICAgICBOQVYuaW5zZXJ0QWRqYWNlbnRIVE1MKCdiZWZvcmVlbmQnLCc8bGk+PGEgaHJlZj1cIiMnICsgaWQgKyAnXCI+JyArIHRleHQgKyAnPC9hPjwvbGk+Jyk7XG5cbiAgICAgICAgfVxuICAgIH1cblxuXG5cbn1cbiIsImV4cG9ydCBkZWZhdWx0ICgpID0+IHtcblxuICAgIHNldFRpbWVvdXQoICgpPT4ge1xuXG4gICAgICAgIGNvbnN0IFRBUkdFVCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdib2R5Jyk7XG4gICAgICAgIGNvbnN0IE5BViA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tLWdsX25hdicpO1xuXG4gICAgICAgIFRBUkdFVFswXS5zdHlsZS5wYWRkaW5nQm90dG9tID0gTkFWLm9mZnNldEhlaWdodCArICdweCc7XG5cbiAgICB9ICwxMDAwIClcblxuXG5cbn1cbiIsImltcG9ydCB7IEFkZENsYXNzLCBSZW1vdmVDbGFzcyB9IGZyb20gJy4uL2xpYnMval91dGlsaXR5JztcblxuaW1wb3J0IGpTbW9vdGhTY3JvbGwgZnJvbSAnLi4vbGlicy9qX3Ntb290aFNjcm9sbF9lcyc7XG5pbXBvcnQgalNjcm9sbE5hdiBmcm9tICcuLi9saWJzL2pfc2Nyb2xsTmF2X2VzJztcbmltcG9ydCBqTW9kYWwgZnJvbSAnLi4vbGlicy9qX21vZGFsX2VzJztcblxuaW1wb3J0IENyZWF0ZU5hdiBmcm9tICcuL19jcmVhdGVfbmF2JztcbmltcG9ydCBTZXRQYWRkaW5nQnRtIGZyb20gJy4vX3NldF9wYWRkaW5nX2JvdHRvbSc7XG5cbi8vLy9cblxuY29uc3QgSW5pdCA9ICgpID0+IHtcblxuXG4gICAgLy8gU2V0IFBhZGRpbmcgQnRtXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgU2V0UGFkZGluZ0J0bSgpO1xuXG5cbiAgICAvLyBDcmVhdGUgU0NST0xMIE5BVlxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgIENyZWF0ZU5hdigpO1xuXG5cblxuICAgIC8vIFNDUk9MTCBOQVZcbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICBjb25zdCBKX1NDUk9MTF9OQVZfSU5JVCA9ICgpID0+IHtcblxuICAgICAgICBuZXcgalNjcm9sbE5hdihcbiAgICAgICAgICAgIFwiLmotc2Nyb2xsbmF2XCIsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYm94RWxtOiBcIi5qLXNjcm9sbG5hdl9zZWN0aW9uXCIsXG4gICAgICAgICAgICAgICAgcG9zRml4OiBcIjMwJVwiLFxuICAgICAgICAgICAgICAgIGVkZ2VKdWRnZTogZmFsc2VcbiAgICAgICAgICAgIH1cbiAgICAgICAgKTtcblxuICAgIH1cblxuICAgIHNldFRpbWVvdXQoICgpID0+IHtcblxuICAgICAgICBKX1NDUk9MTF9OQVZfSU5JVCgpO1xuXG4gICAgfSwxMDAwKVxuXG5cblxuICAgIC8vIE1PREFMXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgY29uc3QgSl9NT0RBTF9JTklUID0gKCkgPT4ge1xuXG4gICAgICAgIGxldCBjbGFzc05hbWUgPSAnaXMtbm90X3NlbGVjdCc7XG5cbiAgICAgICAgY29uc3QgQk9EWSA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdib2R5JylbMF07XG5cbiAgICAgICAgY29uc3QgSl9NT0RBTCA9IG5ldyBqTW9kYWwoXG4gICAgICAgICAgICBcIi5qLW1vZGFsX2NvZGVcIixcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB3aWR0aDogOTYwLFxuICAgICAgICAgICAgICAgIG1vZGFsU3BlZWQ6IDgwMCxcbiAgICAgICAgICAgICAgICBiZ09wYWNpdHk6IDAuNCxcbiAgICAgICAgICAgICAgICBpbm5lckJnQ29sb3I6IFwiI0ZGRlwiLFxuICAgICAgICAgICAgICAgIGlubmVyQmdQYWRkaW5nOiAyMFxuICAgICAgICAgICAgfVxuICAgICAgICApO1xuXG4gICAgICAgIEpfTU9EQUwuT3BlbkVuZCA9IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBobGpzLmluaXRIaWdobGlnaHRpbmdPbkxvYWQoKTtcbiAgICAgICAgICAgIEFkZENsYXNzKCBCT0RZLCBjbGFzc05hbWUgKTtcbiAgICAgICAgfTtcblxuICAgICAgICBKX01PREFMLkNsb3NlRW5kID0gZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIFJlbW92ZUNsYXNzKCBCT0RZLCBjbGFzc05hbWUgKTtcbiAgICAgICAgfTtcblxuICAgIH1cblxuICAgIGlmKCBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuai1tb2RhbF9jb2RlJylbMF0gKXtcblxuICAgICAgICBKX01PREFMX0lOSVQoKTtcblxuICAgIH1cblxuXG5cbiAgICAvLyBTTU9PVEggU0NST0xMXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5cbiAgICBjb25zdCBKX1NNT09USFNDUk9MTCA9ICgpID0+IHtcblxuICAgICAgICBuZXcgalNtb290aFNjcm9sbChcbiAgICAgICAgICAgIFwiYVwiLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHNwZWVkOiAyMDAsXG4gICAgXHRcdCAgICAvLyBlYXNpbmc6IFwiZWFzZU91dFF1aW50XCIsXG4gICAgXHRcdCAgICAvLyBwb3NGaXg6IDMwLFxuICAgIFx0XHQgICAgYmxhbms6IHRydWVcbiAgICAgICAgICAgIH1cbiAgICAgICAgKTtcblxuICAgIH1cblxuICAgIHNldFRpbWVvdXQoICgpID0+IHtcblxuICAgICAgICBKX1NNT09USFNDUk9MTCgpO1xuXG4gICAgfSwxMDAwKVxuXG5cbiAgICAvLy9cblxufVxuXG5leHBvcnQgZGVmYXVsdCBJbml0O1xuIiwiLypcblxuTWVnYW5lVGVtcGxhdGVcblxuVmVyc2lvbjogNS4wLjBcbldlYnNpdGU6IGh0dHA6Ly9tZWdhbmUtdGVtcGxhdGUuY29tL1xuTGljZW5zZTogRGVudHN1IElzb2JhciBBbGwgUmlnaHRzIFJlc2VydmVkLlxuXG4qL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3Mgak1vZGFsIHtcblxuICAgIGNvbnN0cnVjdG9yKHNlbGVjdG9yLCBvcHRpb24pIHtcblxuICAgICAgICB0aGlzLnNlbGVjdG9yID0gc2VsZWN0b3I7XG5cbiAgICAgICAgdGhpcy5qTW9kYWxEZXRhaWwgPSBcImotbW9kYWxfZGV0YWlsXCI7XG4gICAgICAgIHRoaXMuak1vZGFsQm94ID0gdGhpcy5zZWxlY3Rvci5zcGxpdChcIi5cIilbMV0gKyBcIl9ib3hcIjtcbiAgICAgICAgdGhpcy5qTW9kYWxCb3hJbm5lciA9IHRoaXMuc2VsZWN0b3Iuc3BsaXQoXCIuXCIpWzFdICsgXCJfYm94X2lubmVyXCI7XG4gICAgICAgIHRoaXMuak1vZGFsV3JhcCA9IHRoaXMuc2VsZWN0b3Iuc3BsaXQoXCIuXCIpWzFdICsgXCJfd3JhcFwiO1xuICAgICAgICB0aGlzLmpNb2RhbEJveENsb3NlID0gdGhpcy5zZWxlY3Rvci5zcGxpdChcIi5cIilbMV0gKyBcIl9ib3hfY2xvc2VcIjtcbiAgICAgICAgdGhpcy5qTW9kYWxCb3hCZyA9IHRoaXMuc2VsZWN0b3Iuc3BsaXQoXCIuXCIpWzFdICsgXCJfYmdcIjtcbiAgICAgICAgdGhpcy5saW5rSW5uZXJIVE1MID0gdGhpcy5zZWxlY3Rvci5zcGxpdChcIi5cIilbMV0gKyBcIl9saW5rX2lubmVySFRNTFwiO1xuXG4gICAgICAgIHRoaXMubW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCB0aGlzLnNlbGVjdG9yICk7XG5cbiAgICAgICAgLy9vcHRpb25cbiAgICAgICAgaWYob3B0aW9uID09IG51bGwpIG9wdGlvbiA9IHt9O1xuICAgICAgICB0aGlzLndpZHRoID0gb3B0aW9uLndpZHRoID8gb3B0aW9uLndpZHRoIDogOTYwO1xuICAgICAgICB0aGlzLm1vZGFsU3BlZWQgPSBvcHRpb24ubW9kYWxTcGVlZCA/IG9wdGlvbi5tb2RhbFNwZWVkIDogMjAwO1xuICAgICAgICB0aGlzLmJnQ29sb3IgPSBvcHRpb24uYmdDb2xvciA/IG9wdGlvbi5iZ0NvbG9yIDogXCIjMDAwXCI7XG4gICAgICAgIHRoaXMuYmdPcGFjaXR5ID0gb3B0aW9uLmJnT3BhY2l0eSA/IG9wdGlvbi5iZ09wYWNpdHkgOiAwLjg7XG4gICAgICAgIHRoaXMuaW5uZXJCZ0NvbG9yID0gb3B0aW9uLmlubmVyQmdDb2xvciA/IG9wdGlvbi5pbm5lckJnQ29sb3IgOiBcIiNGRkZcIjtcbiAgICAgICAgdGhpcy5pbm5lckJnUGFkZGluZyA9IG9wdGlvbi5pbm5lckJnUGFkZGluZz49MCA/IG9wdGlvbi5pbm5lckJnUGFkZGluZyA6IDIwO1xuICAgICAgICB0aGlzLmNsb3NlQnRuID0gb3B0aW9uLmNsb3NlQnRuIHx8IG9wdGlvbi5jbG9zZUJ0bj09XCJcIiA/IG9wdGlvbi5jbG9zZUJ0biA6IFwiw5dcIjtcbiAgICAgICAgdGhpcy5jbG9zZUNhbmNlbCA9IG9wdGlvbi5jbG9zZUNhbmNlbCA/IG9wdGlvbi5jbG9zZUNhbmNlbCA6IGZhbHNlO1xuICAgICAgICB0aGlzLnRyaWdnZXIgPSBvcHRpb24udHJpZ2dlciA/IG9wdGlvbi50cmlnZ2VyIDogXCJjbGlja1wiO1xuICAgICAgICB0aGlzLmFkZENsYXNzID0gb3B0aW9uLmFkZENsYXNzID8gb3B0aW9uLmFkZENsYXNzIDogXCJcIjtcbiAgICAgICAgdGhpcy5maXhlZCA9IG9wdGlvbi5maXhlZCAmJiBvcHRpb24uZml4ZWQgPyBvcHRpb24uZml4ZWQgOiBmYWxzZTtcblxuICAgICAgICB0aGlzLk9wZW5FbmQgPSBmdW5jdGlvbigpe307XG4gICAgICAgIHRoaXMuQ2xvc2VFbmQgPSBmdW5jdGlvbigpe307XG5cbiAgICAgICAgdGhpcy5qTW9kYWxNb3ZpZUhlaWdodCA9ICh0aGlzLndpZHRoIC8gMTYpICogOTsgLy/li5XnlLvnuKbluYUgMTY6OVxuICAgICAgICB0aGlzLmpNb2RhbEltZyA9IFwiLmdpZnwuanBnfC5qcGVnfC5wbmdcIjsgLy/nlLvlg4/jgpLliKTliKVcbiAgICAgICAgdGhpcy5qTW9kYWxIdG1sID0gXCIvL3wuaHRtbHwucGhwfD1cIjsgLy/lpJbpg6hIVE1MIG9yIFBIUOOCkuWIpOWIpVxuICAgICAgICB0aGlzLmpNb2RhbE1vdmllID0gXCJ5b3V0dWJlfHlvdXR1XCI7IC8v5YuV55S744KS5Yik5YilXG5cbiAgICAgICAgdGhpcy50YXJnZXQgPSBudWxsO1xuICAgICAgICB0aGlzLmluZGV4ID0gbnVsbDtcblxuICAgICAgICB0aGlzLnRhZ0hUTUwgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaHRtbCcpWzBdO1xuXG4gICAgICAgIHRoaXMuSW5pdCgpO1xuICAgICAgICB0aGlzLkNyZWF0ZU1vZGFsQXJlYSgpO1xuXG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAqKlxuICAgICoqIEluaXRcbiAgICAqKlxuICAgICoqL1xuICAgIEluaXQoKSB7XG5cbiAgICAgICAgdGhpcy5tb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoIHRoaXMuc2VsZWN0b3IgKTtcblxuICAgICAgICB0aGlzLk9wZW5mdW5jID0gKGUpID0+IHtcblxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgICAgICB0aGlzLnRhcmdldCA9IGUuY3VycmVudFRhcmdldDtcbiAgICAgICAgICAgIHRoaXMuU2V0KCk7XG5cbiAgICAgICAgfVxuXG4gICAgICAgIGlmKCB0aGlzLm1vZGFsWzBdICkge1xuXG4gICAgICAgICAgICB0aGlzLmpNb2RhbERldGFpbEVsbSA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJqLW1vZGFsX2RldGFpbFwiKTtcblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLm1vZGFsLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tb2RhbFtpXS5hZGRFdmVudExpc3RlbmVyKCBcImNsaWNrXCIsIHRoaXMuT3BlbmZ1bmMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuak1vZGFsRGV0YWlsRWxtLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5qTW9kYWxEZXRhaWxFbG1baV0uc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubW9kYWwubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBUSElTX0RBVEEgPSB0aGlzLm1vZGFsW2ldLmdldEF0dHJpYnV0ZShcImhyZWZcIik7XG4gICAgICAgICAgICAgICAgaWYoIVRISVNfREFUQSkgdGhpcy5BZGRDbGFzcyggdGhpcy5tb2RhbFtpXSwgdGhpcy5saW5rSW5uZXJIVE1MICk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgUmVJbml0KCkge1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5tb2RhbC5sZW5ndGg7IGkrKykge1xuXG4gICAgICAgICAgICB0aGlzLm1vZGFsW2ldLnJlbW92ZUV2ZW50TGlzdGVuZXIoIFwiY2xpY2tcIiwgdGhpcy5PcGVuZnVuYyk7XG5cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuSW5pdCgpO1xuXG4gICAgfVxuXG5cbiAgICBDcmVhdGVNb2RhbEFyZWEoKSB7XG5cbiAgICAgICAgbGV0IG1vZGFsQXBwZW5kSFRNTCAgPSAnPGRpdiBpZD1cIicrIHRoaXMuak1vZGFsQm94ICsnXCIgY2xhc3M9XCInKyB0aGlzLmFkZENsYXNzICsnXCI+JztcbiAgICAgICAgICAgIG1vZGFsQXBwZW5kSFRNTCArPSAnPGRpdiBpZD1cIicrIHRoaXMuak1vZGFsQm94SW5uZXIgKydcIj4nO1xuICAgICAgICAgICAgbW9kYWxBcHBlbmRIVE1MICs9ICc8ZGl2IGlkPVwiJysgdGhpcy5qTW9kYWxXcmFwICsnXCI+PC9kaXY+JztcbiAgICAgICAgICAgIG1vZGFsQXBwZW5kSFRNTCArPSAnPHAgaWQ9XCInKyB0aGlzLmpNb2RhbEJveENsb3NlICsnXCI+JysgdGhpcy5jbG9zZUJ0biArJzwvcD4nO1xuICAgICAgICAgICAgbW9kYWxBcHBlbmRIVE1MICs9ICc8L2Rpdj4nO1xuICAgICAgICAgICAgbW9kYWxBcHBlbmRIVE1MICs9ICc8L2Rpdj4nO1xuICAgICAgICAgICAgbW9kYWxBcHBlbmRIVE1MICs9ICc8ZGl2IGlkPVwiJysgdGhpcy5qTW9kYWxCb3hCZyArJ1wiPjwvZGl2Pic7XG5cbiAgICAgICAgdGhpcy5qTW9kYWxCb3hDU1MgPSAgXCJwb3NpdGlvbjogXCIgKyAoIHRoaXMuZml4ZWQgPyBcImZpeGVkXCIgOiBcImFic29sdXRlXCIgKSArIFwiOyBcIjtcbiAgICAgICAgdGhpcy5qTW9kYWxCb3hDU1MgKz0gXCJ0b3A6IFwiICsgKCB0aGlzLmZpeGVkID8gXCI1MCVcIiA6IFwiMFwiICkgKyBcIjsgXCI7XG4gICAgICAgIHRoaXMuak1vZGFsQm94Q1NTICs9IFwibGVmdDogNTAlOyBcIjtcbiAgICAgICAgdGhpcy5qTW9kYWxCb3hDU1MgKz0gXCJ6LWluZGV4OiAxMDAwMTsgXCI7XG4gICAgICAgIHRoaXMuak1vZGFsQm94Q1NTICs9IFwid2lkdGg6IDEwMCU7IFwiO1xuICAgICAgICB0aGlzLmpNb2RhbEJveENTUyArPSBcImN1cnNvcjogcG9pbnRlcjsgXCI7XG4gICAgICAgIHRoaXMuak1vZGFsQm94Q1NTICs9IFwidHJhbnNmb3JtOiBcIiArICggdGhpcy5maXhlZCA/IFwidHJhbnNsYXRlKC01MCUsLTUwJSlcIiA6IFwidHJhbnNsYXRlKC01MCUsMClcIiApICsgXCI7IFwiO1xuICAgICAgICB0aGlzLmpNb2RhbEJveENTUyArPSBcIi1tcy10cmFuc2Zvcm06IFwiICsgKCB0aGlzLmZpeGVkID8gXCJ0cmFuc2xhdGUoLTUwJSwtNTAlKVwiIDogXCJ0cmFuc2xhdGUoLTUwJSwwKVwiICkgKyBcIjsgXCI7XG4gICAgICAgIHRoaXMuak1vZGFsQm94Q1NTICs9IFwiLXdlYmtpdC10cmFuc2Zvcm06IFwiICsgKCB0aGlzLmZpeGVkID8gXCJ0cmFuc2xhdGUoLTUwJSwtNTAlKVwiIDogXCJ0cmFuc2xhdGUoLTUwJSwwKVwiICkgKyBcIjsgXCI7XG4gICAgICAgIHRoaXMuak1vZGFsQm94Q1NTICs9IFwib3BhY2l0eTogMDsgXCI7XG4gICAgICAgIHRoaXMuak1vZGFsQm94Q1NTICs9IFwicG9pbnRlci1ldmVudHM6IG5vbmU7IFwiXG5cbiAgICAgICAgdGhpcy5qTW9kYWxCb3hCZ0NTUyA9IFwicG9zaXRpb246IGZpeGVkOyBcIjtcbiAgICAgICAgdGhpcy5qTW9kYWxCb3hCZ0NTUyArPSBcImxlZnQ6IDA7IFwiO1xuICAgICAgICB0aGlzLmpNb2RhbEJveEJnQ1NTICs9IFwidG9wOiAwOyBcIiA7XG4gICAgICAgIHRoaXMuak1vZGFsQm94QmdDU1MgKz0gXCJ3aWR0aDogMTAwJTsgXCI7XG4gICAgICAgIHRoaXMuak1vZGFsQm94QmdDU1MgKz0gXCJoZWlnaHQ6IDIwMCU7IFwiO1xuICAgICAgICB0aGlzLmpNb2RhbEJveEJnQ1NTICs9IFwiYmFja2dyb3VuZDpcIiArIHRoaXMuYmdDb2xvciArIFwiOyBcIjtcbiAgICAgICAgdGhpcy5qTW9kYWxCb3hCZ0NTUyArPSBcInRyYW5zaXRpb246IGFsbCBcIisgdGhpcy5tb2RhbFNwZWVkLzEwMDAgK1wicyBlYXNlOyBcIjtcbiAgICAgICAgdGhpcy5qTW9kYWxCb3hCZ0NTUyArPSBcIi13ZWJraXQtdHJhbnNpdGlvbjogYWxsIFwiKyB0aGlzLm1vZGFsU3BlZWQvMTAwMCArXCJzIGVhc2U7IFwiO1xuICAgICAgICB0aGlzLmpNb2RhbEJveEJnQ1NTICs9IFwiei1pbmRleDogMTAwMDA7IFwiO1xuICAgICAgICB0aGlzLmpNb2RhbEJveEJnQ1NTICs9IFwiY3Vyc29yOiBwb2ludGVyOyBcIjtcbiAgICAgICAgdGhpcy5qTW9kYWxCb3hCZ0NTUyArPSBcIm9wYWNpdHk6IDA7IFwiO1xuICAgICAgICB0aGlzLmpNb2RhbEJveEJnQ1NTICs9IFwicG9pbnRlci1ldmVudHM6IG5vbmU7IFwiO1xuXG4gICAgICAgIGxldCBqTW9kYWxCb3hDbG9zZUNTUyA9ICBcInBvc2l0aW9uOiBhYnNvbHV0ZTsgXCI7XG4gICAgICAgICAgICBqTW9kYWxCb3hDbG9zZUNTUyArPSBcInJpZ2h0OiAwOyBcIjtcbiAgICAgICAgICAgIGpNb2RhbEJveENsb3NlQ1NTICs9IFwidG9wOiAtNTBweDsgXCI7XG4gICAgICAgICAgICBqTW9kYWxCb3hDbG9zZUNTUyArPSBcInotaW5kZXg6IDEwMDAwOyBcIjtcbiAgICAgICAgICAgIGpNb2RhbEJveENsb3NlQ1NTICs9IFwiY3Vyc29yOiBwb2ludGVyOyBcIjtcbiAgICAgICAgICAgIGpNb2RhbEJveENsb3NlQ1NTICs9IFwiY29sb3I6ICNGRkY7IFwiO1xuICAgICAgICAgICAgak1vZGFsQm94Q2xvc2VDU1MgKz0gXCJmb250LXNpemU6IDQwcHg7IFwiO1xuICAgICAgICAgICAgak1vZGFsQm94Q2xvc2VDU1MgKz0gXCJsaW5lLWhlaWdodDogMTsgXCI7XG4gICAgICAgICAgICBqTW9kYWxCb3hDbG9zZUNTUyArPSBcIm1hcmdpbjogMDsgXCI7XG5cbiAgICAgICAgdGhpcy5qTW9kYWxCb3hJbm5lckNTUyA9ICBcImJhY2tncm91bmQ6IFwiICsgdGhpcy5pbm5lckJnQ29sb3IgKyBcIjsgXCI7XG4gICAgICAgIHRoaXMuak1vZGFsQm94SW5uZXJDU1MgKz0gXCJwYWRkaW5nOiBcIiArIHRoaXMuaW5uZXJCZ1BhZGRpbmcgKyBcInB4OyBcIjtcbiAgICAgICAgdGhpcy5qTW9kYWxCb3hJbm5lckNTUyArPSBcInBvc2l0aW9uOiByZWxhdGl2ZTsgXCI7XG4gICAgICAgIHRoaXMuak1vZGFsQm94SW5uZXJDU1MgKz0gXCJjdXJzb3I6IGRlZmF1bHQ7IFwiO1xuXG4gICAgICAgIHRoaXMuak1vZGFsQm94SW1nQ1NTID0gXCJwYWRkaW5nOiAwOyBcIlxuICAgICAgICB0aGlzLmpNb2RhbEJveEltZ0NTUyArPSBcImJhY2tncm91bmQ6IG5vbmU7IFwiXG5cbiAgICAgICAgdGhpcy5qTW9kYWxJbWdDU1MgPSAgXCJoZWlnaHQ6IGF1dG87IFwiO1xuICAgICAgICB0aGlzLmpNb2RhbEltZ0NTUyArPSBcIm1heC13aWR0aDogMTAwJTsgXCI7XG4gICAgICAgIHRoaXMuak1vZGFsSW1nQ1NTICs9IFwiZGlzcGxheTogYmxvY2s7IFwiO1xuICAgICAgICB0aGlzLmpNb2RhbEltZ0NTUyArPSBcIm1hcmdpbjogMCBhdXRvOyBcIlxuXG4gICAgICAgIHRoaXMuak1vZGFsQm94TW92aWVDU1MgPSAgXCJwYWRkaW5nOiAwOyBcIjtcbiAgICAgICAgdGhpcy5qTW9kYWxCb3hNb3ZpZUNTUyArPSBcImJhY2tncm91bmQ6IG5vbmU7IFwiO1xuICAgICAgICB0aGlzLmpNb2RhbEJveE1vdmllQ1NTICs9IFwiaGVpZ2h0OiAwOyBcIjtcbiAgICAgICAgdGhpcy5qTW9kYWxCb3hNb3ZpZUNTUyArPSBcInBvc2l0aW9uOiByZWxhdGl2ZTsgXCI7XG4gICAgICAgIHRoaXMuak1vZGFsQm94TW92aWVDU1MgKz0gXCJwYWRkaW5nLWJvdHRvbTogNTYuMjUlOyBcIlxuXG4gICAgICAgIHRoaXMuak1vZGFsQm94TW92aWVJZnJhbWVDU1MgPSAgXCJkaXNwbGF5OiBibG9jazsgXCI7XG4gICAgICAgIHRoaXMuak1vZGFsQm94TW92aWVJZnJhbWVDU1MgKz0gXCJoZWlnaHQ6IDEwMCU7IFwiO1xuICAgICAgICB0aGlzLmpNb2RhbEJveE1vdmllSWZyYW1lQ1NTICs9IFwicG9zaXRpb246IGFic29sdXRlOyBcIjtcbiAgICAgICAgdGhpcy5qTW9kYWxCb3hNb3ZpZUlmcmFtZUNTUyArPSBcImxlZnQ6IDA7IFwiO1xuICAgICAgICB0aGlzLmpNb2RhbEJveE1vdmllSWZyYW1lQ1NTICs9IFwidG9wOiAwOyBcIjtcbiAgICAgICAgdGhpcy5qTW9kYWxCb3hNb3ZpZUlmcmFtZUNTUyArPSBcIndpZHRoOiAxMDAlOyBcIlxuXG4gICAgICAgIGlmKCB0aGlzLm1vZGFsICkge1xuXG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImJvZHlcIilbMF0uaW5zZXJ0QWRqYWNlbnRIVE1MKFwiYmVmb3JlZW5kXCIsbW9kYWxBcHBlbmRIVE1MKTtcblxuICAgICAgICAgICAgdGhpcy5qTW9kYWxCb3hFbG0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmpNb2RhbEJveCk7XG4gICAgICAgICAgICB0aGlzLmpNb2RhbEJveElubmVyRWxtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5qTW9kYWxCb3hJbm5lcik7XG4gICAgICAgICAgICB0aGlzLmpNb2RhbEJveENsb3NlRWxtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5qTW9kYWxCb3hDbG9zZSk7XG4gICAgICAgICAgICB0aGlzLmpNb2RhbEJveEJnRWxtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5qTW9kYWxCb3hCZyk7XG4gICAgICAgICAgICB0aGlzLmxpbmtJbm5lckhUTUxFbG0gPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKHRoaXMubGlua0lubmVySFRNTCk7XG5cbiAgICAgICAgICAgIHRoaXMuak1vZGFsQm94RWxtLnN0eWxlLmNzc1RleHQgPSB0aGlzLmpNb2RhbEJveENTUztcbiAgICAgICAgICAgIHRoaXMuak1vZGFsQm94SW5uZXJFbG0uc3R5bGUuY3NzVGV4dCA9IHRoaXMuak1vZGFsQm94SW5uZXJDU1M7XG4gICAgICAgICAgICB0aGlzLmpNb2RhbEJveEJnRWxtLnN0eWxlLmNzc1RleHQgPSB0aGlzLmpNb2RhbEJveEJnQ1NTO1xuICAgICAgICAgICAgdGhpcy5qTW9kYWxCb3hDbG9zZUVsbS5zdHlsZS5jc3NUZXh0ID0gak1vZGFsQm94Q2xvc2VDU1M7XG5cbiAgICAgICAgICAgIGlmKCAhdGhpcy5tb2RhbFswXS5jbGFzc0xpc3QgKSB7IC8vSUU5XG4gICAgICAgICAgICAgICAgdGhpcy5qTW9kYWxCb3hFbG0uc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgICAgIHRoaXMuak1vZGFsQm94QmdFbG0uc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cblxuXG4gICAgICAgIGNvbnN0IENsb3NlRnVuYyA9IChlKSA9PiB7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICB0aGlzLkNsb3NlKCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmpNb2RhbEJveENsb3NlRWxtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5qTW9kYWxCb3hDbG9zZSk7XG4gICAgICAgIHRoaXMuak1vZGFsQm94QmdFbG0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmpNb2RhbEJveEJnKTtcblxuICAgICAgICB0aGlzLmpNb2RhbEJveENsb3NlRWxtLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBDbG9zZUZ1bmMpO1xuICAgICAgICB0aGlzLmpNb2RhbEJveEJnRWxtLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBDbG9zZUZ1bmMpO1xuXG4gICAgfVxuICAgIC8vQ3JlYXRlTW9kYWxBcmVhXG5cbiAgICBPcGVuKCBlbG0gKSB7XG5cbiAgICAgICAgaWYoIHRoaXMubW9kYWxbMF0gKSB7XG5cbiAgICAgICAgICAgICB0aGlzLnRhcmdldCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoIGVsbSApWzBdO1xuICAgICAgICAgICAgIHRoaXMuU2V0KCk7XG5cbiAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgY29uc29sZS5lcnJvciggXCJPcGVuTW9kYWwoJ1wiICsgZWxtICsgXCInKSBFUlJPUiAgJ1wiICsgZWxtICsgXCInIGlzIG5vdCBmb3VuZC5cIiApO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIFNldCgpIHtcblxuICAgICAgICBjb25zdCBUSElTX0RBVEEgPSB0aGlzLnRhcmdldC5nZXRBdHRyaWJ1dGUoXCJocmVmXCIpO1xuICAgICAgICBjb25zdCBUSElTX0RBVEFfU1RSSU5HID0gbmV3IFN0cmluZyggVEhJU19EQVRBICk7XG4gICAgICAgIHRoaXMuaW5kZXggPSBBcnJheS5wcm90b3R5cGUuaW5kZXhPZi5jYWxsKHRoaXMubW9kYWwsIHRoaXMudGFyZ2V0KTtcblxuICAgICAgICB0aGlzLnNjcm9sbFZhbCA9IChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCkgfHwgZG9jdW1lbnQuYm9keS5zY3JvbGxUb3A7XG5cbiAgICAgICAgaWYoIFRISVNfREFUQSApIHtcblxuICAgICAgICAgICAgaWYoIFRISVNfREFUQV9TVFJJTkcubWF0Y2goIHRoaXMuak1vZGFsSW1nICkgKSB7Ly9ocmVm44GM55S75YOP44Gu5aC05ZCIXG5cbiAgICAgICAgICAgICAgICB0aGlzLklmSW1hZ2UoIFRISVNfREFUQSApO1xuXG4gICAgICAgICAgICB9IGVsc2UgaWYoIFRISVNfREFUQV9TVFJJTkcubWF0Y2goIHRoaXMuak1vZGFsTW92aWUgKSApIHsvL2hyZWbjgYx5b3V0dWJl44Gu5aC05ZCIXG5cbiAgICAgICAgICAgICAgICB0aGlzLklmWW91dHViZSggVEhJU19EQVRBICk7XG5cbiAgICAgICAgICAgIH0gZWxzZSBpZiggVEhJU19EQVRBX1NUUklORy5tYXRjaCggdGhpcy5qTW9kYWxIdG1sKSAgKSB7Ly9ocmVm44GM5aSW6YOoSFRNTOOBruWgtOWQiFxuXG4gICAgICAgICAgICAgICAgdGhpcy5JZk91dGVySFRNTCggVEhJU19EQVRBICk7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICB0aGlzLklmSW5uZXJIVE1MKCk7XG5cbiAgICAgICAgfVxuXG4gICAgfVxuICAgIC8vU2V0XG5cbiAgICBJZkltYWdlKHRoaXNEYXRhKSB7XG5cblxuICAgICAgICBsZXQgbW9kYWxBcHBlbmRIVE1MICA9ICc8aW1nIHNyYz1cIicrIHRoaXNEYXRhICsnXCIgY2xhc3M9XCJqLW1vZGFsX2ltZ1wiPic7XG5cbiAgICAgICAgY29uc3QgSU1HID0gbmV3IEltYWdlKCk7XG4gICAgICAgIElNRy5zcmMgPSB0aGlzRGF0YTtcblxuICAgICAgICB0aGlzLkFkZENsYXNzKCB0aGlzLmpNb2RhbEJveElubmVyRWxtLCBcImotbW9kYWxfaW1nXCIgKTtcbiAgICAgICAgdGhpcy5qTW9kYWxCb3hJbm5lckVsbS5zdHlsZS5jc3NUZXh0ID0gdGhpcy5qTW9kYWxCb3hJbWdDU1M7XG5cbiAgICAgICAgdGhpcy5qTW9kYWxXcmFwRWxtID0gdGhpcy5qTW9kYWxCb3hJbm5lckVsbS5xdWVyeVNlbGVjdG9yQWxsKFwiI1wiICsgdGhpcy5qTW9kYWxXcmFwKVswXTtcbiAgICAgICAgdGhpcy5qTW9kYWxXcmFwRWxtLmlubmVySFRNTCA9IG1vZGFsQXBwZW5kSFRNTDtcblxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiai1tb2RhbF9pbWdcIilbMF0uc3R5bGUuY3NzVGV4dCA9IHRoaXMuak1vZGFsSW1nQ1NTO1xuXG4gICAgICAgIElNRy5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLlJlYWR5KCk7XG4gICAgICAgIH07XG5cbiAgICB9XG4gICAgLy9JZkltYWdlXG4gICAgSWZZb3V0dWJlKHRoaXNEYXRhKSB7XG5cbiAgICAgICAgY29uc3QgVEhJU19JRCA9IHRoaXNEYXRhLnNwbGl0KFwiL1wiKVszXTtcbiAgICAgICAgbGV0IG1vZGFsQXBwZW5kSFRNTCAgPSAnPGlmcmFtZSBzcmM9XCJodHRwczovL3d3dy55b3V0dWJlLmNvbS9lbWJlZC8nKyBUSElTX0lEICsnP2F1dG9wbGF5PTEmcmVsPTAmcGxheXNpbmxpbmU9MVwiIGFsbG93ZnVsbHNjcmVlbj1cInRydWVcIiBmcmFtZWJvcmRlcj1cIjBcIj48L2lmcmFtZT4nO1xuXG4gICAgICAgIHRoaXMuQWRkQ2xhc3MoIHRoaXMuak1vZGFsQm94SW5uZXJFbG0sIFwiai1tb2RhbF9tb3ZpZVwiICk7XG4gICAgICAgIHRoaXMuak1vZGFsQm94SW5uZXJFbG0uc3R5bGUuY3NzVGV4dCA9IHRoaXMuak1vZGFsQm94SW1nQ1NTO1xuXG4gICAgICAgIHRoaXMuak1vZGFsV3JhcEVsbSA9IHRoaXMuak1vZGFsQm94SW5uZXJFbG0ucXVlcnlTZWxlY3RvckFsbChcIiNcIiArIHRoaXMuak1vZGFsV3JhcClbMF07XG4gICAgICAgIHRoaXMuak1vZGFsV3JhcEVsbS5zdHlsZS5jc3NUZXh0ID0gdGhpcy5qTW9kYWxCb3hNb3ZpZUNTUztcbiAgICAgICAgdGhpcy5qTW9kYWxXcmFwRWxtLmlubmVySFRNTCA9IG1vZGFsQXBwZW5kSFRNTDtcblxuICAgICAgICB0aGlzLmpNb2RhbFdyYXBFbG0uZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJpZnJhbWVcIilbMF0uc3R5bGUuY3NzVGV4dCA9IHRoaXMuak1vZGFsQm94TW92aWVJZnJhbWVDU1M7XG5cbiAgICAgICAgdGhpcy5SZWFkeSgpO1xuXG4gICAgfVxuICAgIC8vSWZZb3V0dWJlXG4gICAgSWZPdXRlckhUTUwodGhpc0RhdGEpIHtcblxuICAgICAgICBjb25zdCBUWVBFID0gdGhpcy50YXJnZXQuZ2V0QXR0cmlidXRlKFwiZGF0YS1Nb2RhbFR5cGVcIik7XG5cbiAgICAgICAgaWYoIVRZUEUpIHtcblxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIlRoZSByZXF1ZXN0IGZvciAnXCIgKyB0aGlzRGF0YSArIFwiJyB0aW1lZCBvdXQuXCIpO1xuXG4gICAgICAgICAgICBjb25zdCBSRVFVRVNUID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgICAgICAgICBSRVFVRVNULm9wZW4oXCJHRVRcIiwgdGhpc0RhdGEsIHRydWUpO1xuICAgICAgICAgICAgUkVRVUVTVC50aW1lb3V0ID0gMzAwMDtcblxuICAgICAgICAgICAgUkVRVUVTVC5vbmxvYWQgPSAoZXZlbnQpID0+IHtcblxuICAgICAgICAgICAgICAgIGlmIChSRVFVRVNULnJlYWR5U3RhdGUgPT09IDQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKFJFUVVFU1Quc3RhdHVzID09PSAyMDApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5qTW9kYWxCb3hJbm5lckVsbS5zdHlsZS5jc3NUZXh0ID0gdGhpcy5qTW9kYWxCb3hJbm5lckNTUztcblxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5qTW9kYWxXcmFwRWxtID0gdGhpcy5qTW9kYWxCb3hJbm5lckVsbS5xdWVyeVNlbGVjdG9yQWxsKFwiI1wiICsgdGhpcy5qTW9kYWxXcmFwKVswXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuak1vZGFsV3JhcEVsbS5pbm5lckhUTUwgPSBSRVFVRVNULnJlc3BvbnNlVGV4dDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5SZWFkeSgpO1xuXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiVGhpcyByZXF1ZXN0IGdvdCBhbiBlcnJvci5cIik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBSRVFVRVNULm9udGltZW91dCA9IChldmVudCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJUaGUgcmVxdWVzdCBmb3IgXCIgKyB0aGlzRGF0YSArIFwiIHRpbWVkIG91dC5cIik7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgUkVRVUVTVC5vbmVycm9yID0gKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIlRoaXMgcmVxdWVzdCBnb3QgYW4gZXJyb3IuXCIpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIFJFUVVFU1Quc2VuZChudWxsKTtcblxuICAgICAgICB9IGVsc2UgaWYgKFRZUEUgPT0gXCJpZnJhbWVcIikge1xuXG4gICAgICAgICAgICBsZXQgaGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0ICogMC44O1xuICAgICAgICAgICAgbGV0IG1vZGFsSGVpZ2h0ID0gdGhpcy50YXJnZXQuZ2V0QXR0cmlidXRlKFwiZGF0YS1tb2RhbEhlaWdodFwiKVxuICAgICAgICAgICAgaWYoIG1vZGFsSGVpZ2h0ICkgaGVpZ2h0ID0gbW9kYWxIZWlnaHQ7XG5cbiAgICAgICAgICAgIGxldCBtb2RhbEFwcGVuZEhUTUwgID0gJzxpZnJhbWUgc3JjPVwiJysgdGhpc0RhdGEgKydcIiB3aWR0aD1cIjEwMCVcIiBoZWlnaHQ9XCInKyBoZWlnaHQgKydcIiBmcmFtZWJvcmRlcj1cIjBcIj48L2lmcmFtZT4nO1xuXG4gICAgICAgICAgICB0aGlzLmpNb2RhbEJveElubmVyRWxtLnN0eWxlLmNzc1RleHQgPSB0aGlzLmpNb2RhbEJveEltZ0NTUztcblxuICAgICAgICAgICAgdGhpcy5qTW9kYWxXcmFwRWxtID0gdGhpcy5qTW9kYWxCb3hJbm5lckVsbS5xdWVyeVNlbGVjdG9yQWxsKFwiI1wiICsgdGhpcy5qTW9kYWxXcmFwKVswXTtcbiAgICAgICAgICAgIHRoaXMuak1vZGFsV3JhcEVsbS5pbm5lckhUTUwgPSBtb2RhbEFwcGVuZEhUTUw7XG5cbiAgICAgICAgICAgIHRoaXMuUmVhZHkoKTtcblxuICAgICAgICB9XG5cbiAgICB9XG4gICAgLy9JZk91dGVySFRNTFxuICAgIElmSW5uZXJIVE1MKCkge1xuXG4gICAgICAgIGNvbnN0IElOREVYID0gQXJyYXkucHJvdG90eXBlLmluZGV4T2YuY2FsbCh0aGlzLmxpbmtJbm5lckhUTUxFbG0sIHRoaXMudGFyZ2V0KTtcbiAgICAgICAgY29uc3QgVEhJU19IVE1MID0gdGhpcy5qTW9kYWxEZXRhaWxFbG1bIElOREVYIF0uaW5uZXJIVE1MO1xuXG4gICAgICAgIHRoaXMuak1vZGFsQm94SW5uZXJFbG0uc3R5bGUuY3NzVGV4dCA9IHRoaXMuak1vZGFsQm94SW5uZXJDU1M7XG5cbiAgICAgICAgdGhpcy5qTW9kYWxXcmFwRWxtID0gdGhpcy5qTW9kYWxCb3hJbm5lckVsbS5xdWVyeVNlbGVjdG9yQWxsKFwiI1wiICsgdGhpcy5qTW9kYWxXcmFwKVswXTtcbiAgICAgICAgdGhpcy5qTW9kYWxXcmFwRWxtLmlubmVySFRNTCA9IFRISVNfSFRNTDtcblxuICAgICAgICB0aGlzLlJlYWR5KCk7XG5cbiAgICB9XG4gICAgLy9JZklubmVySFRNTFxuXG4gICAgLyoqXG4gICAgKipcbiAgICAqKiBSZWFkeVxuICAgICoqXG4gICAgKiovXG4gICAgUmVhZHkoKSB7XG5cbiAgICAgICAgbGV0IHdpZHRoID0gdGhpcy50YXJnZXQuZ2V0QXR0cmlidXRlKFwiZGF0YS1tb2RhbFdpZHRoXCIpO1xuICAgICAgICBsZXQgaGVpZ2h0ID0gdGhpcy50YXJnZXQuZ2V0QXR0cmlidXRlKFwiZGF0YS1tb2RhbEhlaWdodFwiKTtcblxuICAgICAgICB3aWR0aCA9IHdpZHRoID8gd2lkdGggOiB0aGlzLndpZHRoICsgXCJweFwiO1xuICAgICAgICBoZWlnaHQgPSBoZWlnaHQgPyBoZWlnaHQgOiBcImluaXRpYWxcIjtcblxuICAgICAgICB0aGlzLmpNb2RhbEJveEVsbS5zdHlsZS5tYXhXaWR0aCA9IHdpZHRoO1xuICAgICAgICB0aGlzLmpNb2RhbEJveEVsbS5zdHlsZS5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgIHRoaXMuak1vZGFsQm94RWxtLnN0eWxlLnRyYW5zaXRpb24gPSBcImluaXRpYWxcIjtcbiAgICAgICAgdGhpcy5qTW9kYWxCb3hFbG0uc3R5bGUuc2V0UHJvcGVydHkoXCItd2Via2l0LXRyYW5zaXRpb25cIiwgXCJpbml0aWFsXCIpO1xuXG4gICAgICAgIHNldFRpbWVvdXQoICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuU2hvdygpO1xuICAgICAgICB9LCAxMCApO1xuXG4gICAgfVxuICAgIC8vUmVhZHlcblxuXG4gICAgLyoqXG4gICAgKipcbiAgICAqKiBTaG93XG4gICAgKipcbiAgICAqKi9cbiAgICBTaG93KCkge1xuXG4gICAgICAgIGNvbnN0IFdJTl9IRUlHSFQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgICAgIGNvbnN0IFRISVNfSEVJR0hUID0gdGhpcy5qTW9kYWxCb3hFbG0uc2Nyb2xsSGVpZ2h0O1xuICAgICAgICBjb25zdCBGSVggPSAoV0lOX0hFSUdIVCAtIFRISVNfSEVJR0hUKSAvIDI7XG5cbiAgICAgICAgaWYoICF0aGlzLmZpeGVkICkgeyAvL2Fic29sdXRlIOOBruWgtOWQiCA6IOODouODvOODgOODq+ihqOekuuS9jee9ruioiOeul1xuXG4gICAgICAgICAgICB0aGlzLmpNb2RhbEJveEVsbS5zdHlsZS50b3AgPSBXSU5fSEVJR0hUID4gVEhJU19IRUlHSFQgPyAodGhpcy5zY3JvbGxWYWwgKyBGSVgpICsgXCJweFwiIDogKHRoaXMuc2Nyb2xsVmFsICsgNDApICsgXCJweFwiO1xuXG4gICAgICAgIH0gZWxzZSB7IC8vZml4ZWQg44Gu5aC05ZCIXG5cbiAgICAgICAgICAgIHRoaXMudGFnSFRNTC5zdHlsZS5wb3NpdGlvbiA9IFwiZml4ZWRcIjtcbiAgICAgICAgICAgIHRoaXMudGFnSFRNTC5zdHlsZS53aWR0aCA9IFwiMTAwJVwiO1xuICAgICAgICAgICAgdGhpcy50YWdIVE1MLnN0eWxlLnRvcCA9IC10aGlzLnNjcm9sbFZhbCArIFwicHhcIjtcblxuICAgICAgICB9XG5cbiAgICAgICAgc2V0VGltZW91dCggKCkgPT4ge1xuXG4gICAgICAgICAgICBpZiggIXRoaXMubW9kYWxbMF0uY2xhc3NMaXN0ICkgeyAvL0lFOVxuXG4gICAgICAgICAgICAgICAgdGhpcy5qTW9kYWxCb3hFbG0uc3R5bGUub3BhY2l0eSA9IDE7XG4gICAgICAgICAgICAgICAgdGhpcy5qTW9kYWxCb3hCZ0VsbS5zdHlsZS5vcGFjaXR5ID0gMTtcbiAgICAgICAgICAgICAgICB0aGlzLmpNb2RhbEJveEVsbS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgICAgICAgICAgIHRoaXMuak1vZGFsQm94QmdFbG0uc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcblxuICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgIHRoaXMuak1vZGFsQm94RWxtLnN0eWxlLm9wYWNpdHkgPSAxO1xuICAgICAgICAgICAgICAgIHRoaXMuak1vZGFsQm94RWxtLnN0eWxlLnBvaW50ZXJFdmVudHMgPSBcImluaGVyaXRcIjtcbiAgICAgICAgICAgICAgICB0aGlzLmpNb2RhbEJveEVsbS5zdHlsZS50cmFuc2l0aW9uID0gXCJhbGwgXCIgKyB0aGlzLm1vZGFsU3BlZWQgLyAxMDAwICsgXCJzIGVhc2VcIjtcbiAgICAgICAgICAgICAgICB0aGlzLmpNb2RhbEJveEVsbS5zdHlsZS5zZXRQcm9wZXJ0eShcIi13ZWJraXQtdHJhbnNpdGlvblwiLCBcImFsbCBcIiArIHRoaXMubW9kYWxTcGVlZCAvIDEwMDAgKyBcInMgZWFzZVwiKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuak1vZGFsQm94QmdFbG0uc3R5bGUub3BhY2l0eSA9IHRoaXMuYmdPcGFjaXR5O1xuICAgICAgICAgICAgICAgIHRoaXMuak1vZGFsQm94QmdFbG0uc3R5bGUucG9pbnRlckV2ZW50cyA9IFwiaW5oZXJpdFwiO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgRW5kRnVuYyA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5PcGVuRW5kKCB0aGlzLmluZGV4ICk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuak1vZGFsQm94RWxtLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0cmFuc2l0aW9uZW5kXCIsIEVuZEZ1bmMsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgdGhpcy5qTW9kYWxCb3hFbG0uYWRkRXZlbnRMaXN0ZW5lcihcInRyYW5zaXRpb25lbmRcIiwgRW5kRnVuYywgZmFsc2UpO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSwxMDApO1xuXG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAqKlxuICAgICoqIENsb3NlXG4gICAgKipcbiAgICAqKi9cbiAgICBDbG9zZSgpIHtcblxuICAgICAgICB0aGlzLmpNb2RhbEJveEVsbS5zdHlsZS5vcGFjaXR5ID0gMDtcbiAgICAgICAgdGhpcy5qTW9kYWxCb3hFbG0uc3R5bGUucG9pbnRlckV2ZW50cyA9IFwibm9uZVwiO1xuXG4gICAgICAgIHRoaXMuak1vZGFsQm94QmdFbG0uc3R5bGUub3BhY2l0eSA9IDA7XG4gICAgICAgIHRoaXMuak1vZGFsQm94QmdFbG0uc3R5bGUucG9pbnRlckV2ZW50cyA9IFwibm9uZVwiO1xuXG4gICAgICAgIGNvbnN0IEVuZEZ1bmMgPSAoKSA9PiB7XG5cbiAgICAgICAgICAgIHRoaXMuak1vZGFsQm94SW5uZXJFbG0uc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgZmFsc2UpO1xuICAgICAgICAgICAgdGhpcy5qTW9kYWxXcmFwRWxtLnNldEF0dHJpYnV0ZShcInN0eWxlXCIsIGZhbHNlKVxuICAgICAgICAgICAgdGhpcy5qTW9kYWxXcmFwRWxtLmlubmVySFRNTCA9IFwiXCI7XG5cbiAgICAgICAgICAgIHRoaXMuQ2xvc2VFbmQoKTtcblxuICAgICAgICAgICAgdGhpcy5qTW9kYWxCb3hFbG0ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRyYW5zaXRpb25lbmRcIiwgRW5kRnVuYywgZmFsc2UpO1xuXG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5qTW9kYWxCb3hFbG0uYWRkRXZlbnRMaXN0ZW5lcihcInRyYW5zaXRpb25lbmRcIiwgRW5kRnVuYywgZmFsc2UpO1xuXG4gICAgICAgIC8vXG5cbiAgICAgICAgaWYoICF0aGlzLm1vZGFsWzBdLmNsYXNzTGlzdCApIHsgLy9JRTlcbiAgICAgICAgICAgIHRoaXMuak1vZGFsQm94RWxtLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgIHRoaXMuak1vZGFsQm94QmdFbG0uc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYoIHRoaXMuZml4ZWQgKSB7IC8vZml4ZWQg44Gu5aC05ZCIXG5cbiAgICAgICAgICAgIHRoaXMudGFnSFRNTC5yZW1vdmVBdHRyaWJ1dGUoXCJzdHlsZVwiKTtcblxuICAgICAgICAgICAgd2luZG93LnNjcm9sbCggMCwgdGhpcy5zY3JvbGxWYWwgKTtcblxuICAgICAgICB9XG4gICAgfVxuXG4gICAgQWRkQ2xhc3MoIGVsZW1lbnQsIF9jbGFzc05hbWUgKXtcblxuICAgICAgICBpZiAoZWxlbWVudC5jbGFzc0xpc3QpIHtcbiAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZChfY2xhc3NOYW1lKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NOYW1lICs9ICcgJyArIF9jbGFzc05hbWU7XG4gICAgICAgIH1cblxuICAgIH1cblxufVxuIiwiLypcblxuTWVnYW5lVGVtcGxhdGVcblxuVmVyc2lvbjogNS4wLjBcbldlYnNpdGU6IGh0dHA6Ly9tZWdhbmUtdGVtcGxhdGUuY29tL1xuTGljZW5zZTogRGVudHN1IElzb2JhciBBbGwgUmlnaHRzIFJlc2VydmVkLlxuXG4qL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgalNjcm9sbE5hdiB7XG5cbiAgICBjb25zdHJ1Y3RvcihzZWxlY3Rvciwgb3B0aW9uKSB7XG5cbiAgICAgICAgdGhpcy5zZWxlY3RvciA9IHNlbGVjdG9yO1xuICAgICAgICB0aGlzLnNjcm9sbE5hdiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoIHRoaXMuc2VsZWN0b3IgKVswXTtcblxuICAgICAgICAvL29wdGlvblxuICAgICAgICBpZihvcHRpb24gPT0gbnVsbCkgb3B0aW9uID0ge307XG5cbiAgICAgICAgdGhpcy5ib3ggPSBvcHRpb24uYm94RWxtID8gb3B0aW9uLmJveEVsbSA6ICcuZi1zZWN0aW9uJztcbiAgICAgICAgdGhpcy5idG4gPSBvcHRpb24uYWN0aXZlRWxtID8gb3B0aW9uLmFjdGl2ZUVsbSA6ICdsaSc7XG4gICAgICAgIHRoaXMucG9zRml4ID0gb3B0aW9uLnBvc0ZpeCA/IG9wdGlvbi5wb3NGaXggOiAwO1xuICAgICAgICB0aGlzLmVkZ2VKdWRnZSA9IG9wdGlvbi5lZGdlSnVkZ2U7XG4gICAgICAgIGlmKHRoaXMuZWRnZUp1ZGdlID09IG51bGwpIHRoaXMuZWRnZUp1ZGdlID0gdHJ1ZTtcblxuICAgICAgICB0aGlzLmJveEVsbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoIHRoaXMuYm94ICk7XG5cbiAgICAgICAgaWYoIHRoaXMuc2Nyb2xsTmF2ICkge1xuICAgICAgICAgICAgdGhpcy5idG5FbG0gPSB0aGlzLnNjcm9sbE5hdi5xdWVyeVNlbGVjdG9yQWxsKCB0aGlzLmJ0biApO1xuICAgICAgICAgICAgdGhpcy5Jbml0KCk7XG4gICAgICAgIH1cblxuICAgIH1cblxuXG4gICAgLyoqXG4gICAgKipcbiAgICAqKiBJbml0XG4gICAgKipcbiAgICAqKi9cbiAgICBJbml0KCkge1xuXG4gICAgICAgIGNvbnN0IElOVEVSVkFMID0gMTA7XG4gICAgICAgIGxldCB0aW1lcjtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuYm94RWxtLmxlbmd0aDsgaSsrKSB7XG5cbiAgICAgICAgICAgIGNvbnN0IFRBUkdFVF9JRCA9IHRoaXMuYm94RWxtW2ldLmlkO1xuICAgICAgICAgICAgdGhpcy5idG5FbG1baV0ucXVlcnlTZWxlY3RvckFsbCgnYScpWzBdLnNldEF0dHJpYnV0ZSggJ2hyZWYnLCAnIycgKyBUQVJHRVRfSUQgKTtcblxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgUmVzdGFydCA9ICgpID0+IHtcblxuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVyKTtcbiAgICAgICAgICAgIHRpbWVyID0gc2V0VGltZW91dCh0aGlzLlJlYWR5LCBJTlRFUlZBTCk7XG5cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuUmVhZHkoKTtcblxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lciggJ3Jlc2l6ZScsICgpID0+IHsgdGhpcy5SZWFkeSgpIH0gKTtcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoICdzY3JvbGwnLCAoKSA9PiB7IHRoaXMuUmVhZHkoKSB9ICk7XG5cbiAgICB9O1xuXG5cbiAgICAvKipcbiAgICAqKlxuICAgICoqIFJlYWR5XG4gICAgKipcbiAgICAqKi9cbiAgICBSZWFkeSgpIHtcblxuICAgICAgICB0aGlzLlJlc2V0KCk7XG4gICAgICAgIHRoaXMuR2V0VGFyZ2V0KCk7XG5cbiAgICB9XG4gICAgUmVzZXQoKSB7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmJ0bkVsbS5sZW5ndGg7IGkrKykgdGhpcy5SZW1vdmVDbGFzcyh0aGlzLmJ0bkVsbVtpXSwnYWN0aXZlJyk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5ib3hFbG0ubGVuZ3RoOyBpKyspIHRoaXMuUmVtb3ZlQ2xhc3ModGhpcy5ib3hFbG1baV0sJ2FjdGl2ZScpO1xuXG4gICAgfVxuXG4gICAgR2V0VGFyZ2V0KCkge1xuXG4gICAgICAgIGNvbnN0IFdJTl9IRUlHSFQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgICAgIGNvbnN0IFdJTl9TQ1JPTEwgPSAoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50ICYmIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3ApIHx8IGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wO1xuXG4gICAgICAgIGxldCBoYXNKdWRnZTtcblxuICAgICAgICBpZiggdGhpcy5lZGdlSnVkZ2UgKXtcbiAgICAgICAgICAgIGhhc0p1ZGdlID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbEhlaWdodCA9PSBXSU5fSEVJR0hUICsgV0lOX1NDUk9MTCB8fCBXSU5fU0NST0xMID09IDA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBoYXNKdWRnZSA9IHRoaXMuZWRnZUp1ZGdlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYoIGhhc0p1ZGdlICl7XG5cbiAgICAgICAgICAgIGNvbnN0IFRBUkdFVF9JRCA9IFdJTl9TQ1JPTEwgPT0gMCA/IHRoaXMuYm94RWxtWzBdLmlkIDogdGhpcy5ib3hFbG1bIHRoaXMuYm94RWxtLmxlbmd0aCAtIDEgXS5pZDtcbiAgICAgICAgICAgIHRoaXMuUG9zaXRpb24oIFRBUkdFVF9JRCApO1xuXG4gICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5ib3hFbG0ubGVuZ3RoOyBpKyspIHtcblxuICAgICAgICAgICAgICAgIGNvbnN0IEJPWF9IRUlHSFQgPSAgdGhpcy5ib3hFbG1baV0uc2Nyb2xsSGVpZ2h0O1xuICAgICAgICAgICAgICAgIGNvbnN0IEJPWF9UT1AgPSB0aGlzLkdldE9mZnNldCggdGhpcy5ib3hFbG1baV0gKS50b3A7XG5cbiAgICAgICAgICAgICAgICBsZXQgY2hlY2tQb3M7XG5cbiAgICAgICAgICAgICAgICBpZiggU3RyaW5nKHRoaXMucG9zRml4KS5pbmRleE9mKCclJykgPiAtMSApe1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIOWNmOS9jeOBjCXjga7loLTlkIhcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tQb3MgPSBXSU5fU0NST0xMICsgV0lOX0hFSUdIVCAqICggdGhpcy5wb3NGaXguc3BsaXQoJyUnKVswXSAvIDEwMCApO1xuXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICBjaGVja1BvcyA9IFdJTl9TQ1JPTEwgKyB0aGlzLnBvc0ZpeDtcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmKCBjaGVja1BvcyA+PSBCT1hfVE9QICYmIGNoZWNrUG9zIDwgQk9YX1RPUCArIEJPWF9IRUlHSFQgKXtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLlBvc2l0aW9uKCB0aGlzLmJveEVsbVtpXS5pZCApO1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuXG4gICAgfTtcblxuXG4gICAgLyoqXG4gICAgKipcbiAgICAqKiBQb3NpdGlvblxuICAgICoqXG4gICAgKiovXG4gICAgUG9zaXRpb24oaWQpIHtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuYnRuRWxtLmxlbmd0aDsgaSsrKSB7XG5cbiAgICAgICAgICAgIGNvbnN0IFRISVNfSFJFRiA9IHRoaXMuYnRuRWxtW2ldLnF1ZXJ5U2VsZWN0b3JBbGwoJ2EnKVswXS5nZXRBdHRyaWJ1dGUoICdocmVmJyApLnNwbGl0KCcjJylbMV07XG5cbiAgICAgICAgICAgIGlmKCBpZCA9PT0gVEhJU19IUkVGICkge1xuXG4gICAgICAgICAgICAgICAgdGhpcy5BZGRDbGFzcyh0aGlzLmJ0bkVsbVtpXSwnYWN0aXZlJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5BZGRDbGFzcyhkb2N1bWVudC5nZXRFbGVtZW50QnlJZChUSElTX0hSRUYpLCdhY3RpdmUnKTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cblxuICAgIH07XG5cblxuXG4gICAgLyoqXG4gICAgKipcbiAgICAqKiBHZXRPZmZzZXRcbiAgICAqKlxuICAgICoqL1xuICAgIEdldE9mZnNldChlbCkge1xuXG4gICAgICAgIGNvbnN0IEJPWCA9IGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0b3A6IEJPWC50b3AgKyB3aW5kb3cucGFnZVlPZmZzZXQgLSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50VG9wLFxuICAgICAgICAgICAgbGVmdDogQk9YLmxlZnQgKyB3aW5kb3cucGFnZVhPZmZzZXQgLSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50TGVmdFxuICAgICAgICB9XG5cbiAgICB9XG5cbiAgICBBZGRDbGFzcyggZWxlbWVudCwgX2NsYXNzTmFtZSApIHtcblxuICAgICAgICBpZiAoZWxlbWVudC5jbGFzc0xpc3QpIHtcbiAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZChfY2xhc3NOYW1lKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NOYW1lICs9ICcgJyArIF9jbGFzc05hbWU7XG4gICAgICAgIH1cblxuICAgIH1cbiAgICBSZW1vdmVDbGFzcyggZWxlbWVudCwgX2NsYXNzTmFtZSApIHtcblxuICAgICAgICBpZiAoZWxlbWVudC5jbGFzc0xpc3QpIHtcbiAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShfY2xhc3NOYW1lKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NOYW1lID0gZWxlbWVudC5jbGFzc05hbWUucmVwbGFjZShuZXcgUmVnRXhwKCcoXnxcXFxcYiknICsgX2NsYXNzTmFtZS5zcGxpdCgnICcpLmpvaW4oJ3wnKSArICcoXFxcXGJ8JCknLCAnZ2knKSwgJyAnKTtcbiAgICAgICAgfVxuXG4gICAgfVxuXG59XG4iLCIvKlxuXG5NZWdhbmVUZW1wbGF0ZVxuXG5WZXJzaW9uOiA1LjAuMFxuV2Vic2l0ZTogaHR0cDovL21lZ2FuZS10ZW1wbGF0ZS5jb20vXG5MaWNlbnNlOiBEZW50c3UgSXNvYmFyIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG5cbiovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBqU21vb3RoU2Nyb2xsIHtcblxuICAgIGNvbnN0cnVjdG9yKHNlbGVjdG9yLCBvcHRpb24pIHtcblxuICAgICAgICB0aGlzLnNlbGVjdG9yID0gc2VsZWN0b3I7XG4gICAgICAgIHRoaXMuYnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCh0aGlzLnNlbGVjdG9yKTtcblxuICAgICAgICAvL29wdGlvblxuICAgICAgICBpZihvcHRpb24gPT0gbnVsbCkgb3B0aW9uID0ge307XG4gICAgICAgIHRoaXMuc3BlZWQgPSBvcHRpb24uc3BlZWQgPyBvcHRpb24uc3BlZWQgOiA4MDA7XG4gICAgICAgIHRoaXMuZWFzaW5nID0gb3B0aW9uLmVhc2luZyA/IG9wdGlvbi5lYXNpbmcgOiBcImxpbmVhclwiO1xuICAgICAgICB0aGlzLnBvc0ZpeCA9IG9wdGlvbi5wb3NGaXggPyBvcHRpb24ucG9zRml4IDogMDtcbiAgICAgICAgdGhpcy5pZ25vcmUgPSBvcHRpb24uaWdub3JlID8gb3B0aW9uLmlnbm9yZSA6IFwiXCI7XG4gICAgICAgIHRoaXMuYmxhbmsgPSBvcHRpb24uYmxhbmsgPyBvcHRpb24uYmxhbmsgOiBmYWxzZTtcbiAgICAgICAgdGhpcy5jdXN0b21BbmNob3IgPSBvcHRpb24uY3VzdG9tQW5jaG9yID8gb3B0aW9uLmN1c3RvbUFuY2hvciA6IFwiIy9cIjtcblxuICAgICAgICB0aGlzLm1vdmVGbGFnID0gZmFsc2U7XG5cbiAgICAgICAgdGhpcy5TY3JvbGxFbmQgPSBmdW5jdGlvbigpe307XG5cbiAgICAgICAgaWYoIHRoaXMuYnRuWzBdICkge1xuICAgICAgICAgICAgdGhpcy5vbGRCcm93c2VyID0gdGhpcy5HZXRBbmRyb2lkVmVyc2lvbigpIDwgNC40IHx8ICF0aGlzLmJ0blswXS5jbGFzc0xpc3Q7XG4gICAgICAgICAgICB0aGlzLkluaXQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICggdGhpcy5ibGFuayApIHtcbiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCgpID0+IHtcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuQW5jaG9yTGluaygpO1xuICAgICAgICAgICAgICAgIH0sIDIwMCApO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuXG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAqKlxuICAgICoqIEluaXRcbiAgICAqKlxuICAgICoqL1xuICAgIEluaXQoKSB7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmJ0bi5sZW5ndGg7IGkrKykge1xuXG4gICAgICAgICAgICB0aGlzLmJ0bltpXS5hZGRFdmVudExpc3RlbmVyKCBcImNsaWNrXCIsIChlKSA9PiB7XG5cbiAgICAgICAgICAgICAgICBsZXQgaWdub3JlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgY29uc3QgSUdVTk9SRV9UWFQgPSB0aGlzLmlnbm9yZS5zcGxpdChcIixcIik7XG5cbiAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IElHVU5PUkVfVFhULmxlbmd0aDsgaisrKSB7IC8vbm905Yem55CGXG5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgSUdVTk9SRSA9IElHVU5PUkVfVFhUW2pdLnNwbGl0KFwiLlwiKVsxXSA/IElHVU5PUkVfVFhUW2pdLnNwbGl0KFwiLlwiKVsxXSA6IElHVU5PUkVfVFhUW2pdLnNwbGl0KFwiI1wiKVsxXTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoZS5jdXJyZW50VGFyZ2V0LmNsYXNzTGlzdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIGUuY3VycmVudFRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoSUdVTk9SRSkgKSBpZ25vcmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIG5ldyBSZWdFeHAoJyhefCApJyArIElHVU5PUkUgKyAnKCB8JCknLCAnZ2knKS50ZXN0KCBlLmN1cnJlbnRUYXJnZXQuY2xhc3NOYW1lICkgKSBpZ25vcmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmKCBlLmN1cnJlbnRUYXJnZXQuaWQgPT0gSUdVTk9SRSApIGlnbm9yZSA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiggIXRoaXMubW92ZUZsYWcgKSB7IC8v44OA44OW44Or44Kv44Oq44OD44Kv6Ziy5q2iXG5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgR0VUX0hBU0ggPSBlLmN1cnJlbnRUYXJnZXQuZ2V0QXR0cmlidXRlKFwiaHJlZlwiKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiggR0VUX0hBU0ggJiYgR0VUX0hBU0guc3BsaXQoXCIjXCIpWzBdID09IFwiXCIgJiYgIWlnbm9yZSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tb3ZlRmxhZyA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IEhBU0ggPSBHRVRfSEFTSC5zcGxpdChcIiNcIilbMV07XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBUQVJHRVQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChIQVNIKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IE9GRlNFVF9UT1AgPSB0aGlzLkdldE9mZnNldChUQVJHRVQpLnRvcDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5TbW9vdGhTY3JvbGwoIE9GRlNFVF9UT1AgKTtcblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH0gKTtcblxuICAgICAgICB9XG5cbiAgICB9XG5cbiAgICAvKipcbiAgICAqKlxuICAgICoqIFNtb290aFNjcm9sbFxuICAgICoqXG4gICAgKiovXG4gICAgU21vb3RoU2Nyb2xsKCBwICkge1xuXG4gICAgICAgIGNvbnN0IFBPU0lUSU9OID0gcCAtIHRoaXMucG9zRml4O1xuXG4gICAgICAgIGNvbnN0IFNDUk9MTF9WQUwgPSAoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50ICYmIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3ApIHx8IGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wO1xuXG4gICAgICAgIGNvbnN0IERJRkYgPSBQT1NJVElPTiAtIFNDUk9MTF9WQUw7XG4gICAgICAgIGxldCBudW0gPSBTQ1JPTExfVkFMO1xuXG4gICAgICAgIGNvbnN0IFNUQVJUX1RJTUUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTvjgIAvL+aPj+eUu+mWi+Wni+aZguWIu+OCkuWPluW+l1xuICAgICAgICBsZXQgcmVuZGVyO1xuICAgICAgICBsZXQgbnVtUHJldiA9IFNDUk9MTF9WQUw7XG5cbiAgICAgICAgbGV0IExvb3A7XG5cbiAgICAgICAgY29uc3QgTG9vcEFuaW0gPSAoKSA9PiB7XG5cbiAgICAgICAgICAgIGlmKCAhdGhpcy5vbGRCcm93c2VyICkgcmVuZGVyID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCBMb29wICk7XG5cbiAgICAgICAgICAgIGNvbnN0IENVUlJFTlRfVElNRSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO+OAgC8v57WM6YGO5pmC5Yi744KS5Y+W5b6XXG4gICAgICAgICAgICBjb25zdCBTVEFUVVMgPSAoQ1VSUkVOVF9USU1FIC0gU1RBUlRfVElNRSkgLy8g5o+P55S76ZaL5aeL5pmC5Yi744GL44KJ57WM6YGO5pmC5Yi744KS5byV44GPXG5cbiAgICAgICAgICAgIGNvbnN0IE1PVkVfWSA9IE1hdGgucm91bmQoIEVhc2luZ1t0aGlzLmVhc2luZ10oU1RBVFVTLCBTQ1JPTExfVkFMLCBNYXRoLmFicyhESUZGKSwgdGhpcy5zcGVlZCkgKTtcblxuICAgICAgICAgICAgaWYoIERJRkYgPiAwICkge1xuICAgICAgICAgICAgICAgIG51bSArPSBNT1ZFX1kgLSBudW1QcmV2O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBudW0gKz0gIC0gKCBNT1ZFX1kgLSBudW1QcmV2ICk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHdpbmRvdy5zY3JvbGwoIDAsIG51bSApO1xuXG4gICAgICAgICAgICBudW1QcmV2ID0gTU9WRV9ZO1xuXG4gICAgICAgICAgICBpZiggU1RBVFVTID49IHRoaXMuc3BlZWQgKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLm1vdmVGbGFnID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGhpcy5TY3JvbGxFbmQoKTtcblxuICAgICAgICAgICAgICAgIGlmKCB0aGlzLm9sZEJyb3dzZXIgKSB7XG4gICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoIExvb3AgKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjYW5jZWxBbmltYXRpb25GcmFtZSggcmVuZGVyICk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgd2luZG93LnNjcm9sbCggMCwgUE9TSVRJT04gKTtcblxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYoIHRoaXMub2xkQnJvd3NlciApIHtcbiAgICAgICAgICAgIExvb3AgPSBzZXRJbnRlcnZhbCggTG9vcEFuaW0sIDMzKTsg44CALy8gQW5kcm9pZDQuNOacqua6gOOBryBzZXRJbnRlcnZhbCDjgaflh6bnkIZcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIExvb3AgPSBMb29wQW5pbTtcbiAgICAgICAgICAgIExvb3AoKTtcbiAgICAgICAgfVxuXG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAqKlxuICAgICoqIEdldE9mZnNldFxuICAgICoqXG4gICAgKiovXG4gICAgR2V0T2Zmc2V0KGVsKSB7XG5cbiAgICAgICAgY29uc3QgQk9YID0gZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHRvcDogQk9YLnRvcCArIHdpbmRvdy5wYWdlWU9mZnNldCAtIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRUb3AsXG4gICAgICAgICAgICBsZWZ0OiBCT1gubGVmdCArIHdpbmRvdy5wYWdlWE9mZnNldCAtIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRMZWZ0XG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIC8qKlxuICAgICoqXG4gICAgKiogQW5jaG9yTGlua1xuICAgICoqXG4gICAgKiovXG4gICAgQW5jaG9yTGluaygpIHtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuYnRuLmxlbmd0aDsgaSsrKSB7XG5cbiAgICAgICAgICAgIGxldCBpZ25vcmUgPSBmYWxzZTtcbiAgICAgICAgICAgIGNvbnN0IElHVU5PUkVfVFhUID0gdGhpcy5pZ25vcmUuc3BsaXQoXCIsXCIpO1xuICAgICAgICAgICAgY29uc3QgR0VUX0hBU0ggPSB0aGlzLmJ0bltpXS5nZXRBdHRyaWJ1dGUoXCJocmVmXCIpO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IElHVU5PUkVfVFhULmxlbmd0aDsgaisrKSB7IC8vbm905Yem55CGXG5cbiAgICAgICAgICAgICAgICBjb25zdCBJR1VOT1JFID0gSUdVTk9SRV9UWFRbal0uc3BsaXQoXCIuXCIpWzFdID8gSUdVTk9SRV9UWFRbal0uc3BsaXQoXCIuXCIpWzFdIDogSUdVTk9SRV9UWFRbal0uc3BsaXQoXCIjXCIpWzFdO1xuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYnRuW2ldLmNsYXNzTGlzdCkge1xuICAgICAgICAgICAgICAgICAgICBpZiggdGhpcy5idG5baV0uY2xhc3NMaXN0LmNvbnRhaW5zKElHVU5PUkUpICkgaWdub3JlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiggbmV3IFJlZ0V4cCgnKF58ICknICsgSUdVTk9SRSArICcoIHwkKScsICdnaScpLnRlc3QoIHRoaXMuYnRuW2ldLmNsYXNzTmFtZSApICkgaWdub3JlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYoIHRoaXMuYnRuW2ldLmlkLm1hdGNoKCBJR1VOT1JFICkgKSBpZ25vcmUgPSB0cnVlO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmKCBHRVRfSEFTSCAmJiAhaWdub3JlICkge1xuXG4gICAgICAgICAgICAgICAgY29uc3QgSFJFRl9TUExJVCA9IEdFVF9IQVNILnNwbGl0KFwiI1wiKTtcblxuICAgICAgICAgICAgICAgIGlmKCAoSFJFRl9TUExJVC5sZW5ndGggPiAxKSAmJiAoSFJFRl9TUExJVFswXSAhPSBcIlwiKSApIHtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLmJ0bltpXS5zZXRBdHRyaWJ1dGUoXCJocmVmXCIsIEdFVF9IQVNILnJlcGxhY2UoIC8jL2cgLCB0aGlzLmN1c3RvbUFuY2hvciApKTtcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cblxuICAgICAgICBpZiggbG9jYXRpb24uaHJlZi5zcGxpdCh0aGlzLmN1c3RvbUFuY2hvcilbMV0gKXtcblxuICAgICAgICAgICAgY29uc3QgVEFSR0VUID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQobG9jYXRpb24uaHJlZi5zcGxpdCh0aGlzLmN1c3RvbUFuY2hvcilbMV0pO1xuICAgICAgICAgICAgY29uc3QgT0ZGU0VUX1RPUCA9IHRoaXMuR2V0T2Zmc2V0KFRBUkdFVCkudG9wO1xuICAgICAgICAgICAgdGhpcy5TbW9vdGhTY3JvbGwoT0ZGU0VUX1RPUCk7XG5cbiAgICAgICAgfVxuXG4gICAgfVxuXG4gICAgR2V0QW5kcm9pZFZlcnNpb24oKSB7XG5cbiAgICAgICAgY29uc3QgdWEgPSBuYXZpZ2F0b3IudXNlckFnZW50O1xuXG4gICAgICAgIGlmKCAodWEudG9Mb3dlckNhc2UoKS5pbmRleE9mKCdhbmRyb2lkJykgPiAwKSAmJiAodWEudG9Mb3dlckNhc2UoKS5pbmRleE9mKCdtb2JpbGUnKSA+IDApICkge1xuICAgICAgICAgICAgcmV0dXJuIHBhcnNlRmxvYXQodWEuc2xpY2UodWEuaW5kZXhPZihcIkFuZHJvaWRcIikrOCkpO1xuICAgICAgICB9XG5cbiAgICB9XG5cbn1cblxuXG5cbi8qKlxuKipcbioqIEVhc2luZ1xuKipcbioqIHQgOiDmmYLplpMo6YCy6KGM5bqmKVxuKiogYiA6IOmWi+Wni+OBruWApCjplovlp4vmmYLjga7luqfmqJnjgoTjgrnjgrHjg7zjg6vjgarjgakpXG4qKiBjIDog6ZaL5aeL44Go57WC5LqG44Gu5YCk44Gu5beu5YiGXG4qKiBkIDogVHdlZW4o44OI44Kl44Kk44O844OzKeOBruWQiOioiOaZgumWk1xuKipcbioqL1xudmFyIEVhc2luZyA9IHtcblxuICAgIFwibGluZWFyXCIgOiBmdW5jdGlvbih0LCBiLCBjLCBkKSB7XG4gICAgICAgIHQgLz0gZDtcbiAgICAgICAgcmV0dXJuIGMqdCArIGI7XG4gICAgfSxcblxuICAgIC8vQ3ViaWNcbiAgICBcImVhc2VJbkN1YmljXCI6IGZ1bmN0aW9uKHQsIGIsIGMsIGQpIHtcbiAgICAgICAgdCAvPSBkO1xuICAgICAgICByZXR1cm4gYyp0KnQqdCArIGI7XG4gICAgfSxcbiAgICBcImVhc2VPdXRDdWJpY1wiOiBmdW5jdGlvbih0LCBiLCBjLCBkKSB7XG4gICAgICAgIHQgLz0gZDtcbiAgICAgICAgdCA9IHQgLSAxO1xuICAgICAgICByZXR1cm4gYyoodCp0KnQgKyAxKSArIGI7XG4gICAgfSxcbiAgICBcImVhc2VJbk91dEN1YmljXCI6IGZ1bmN0aW9uKHQsIGIsIGMsIGQpIHtcbiAgICAgICAgdCAvPSBkLzIuMDtcbiAgICAgICAgaWYgKHQgPCAxKSB7XG4gICAgICAgICAgICByZXR1cm4gYy8yLjAqdCp0KnQgKyBiO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdCA9IHQgLSAyO1xuICAgICAgICAgICAgcmV0dXJuIGMvMi4wICogKHQqdCp0ICsgMikgKyBiO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIC8vUXVhcnRpY1xuICAgIFwiZWFzZUluUXVhcnRcIjogZnVuY3Rpb24odCwgYiwgYywgZCkge1xuICAgICAgICB0IC89IGQ7XG4gICAgICAgIHJldHVybiBjKnQqdCp0KnQgKyBiO1xuICAgIH0sXG4gICAgXCJlYXNlT3V0UXVhcnRcIjogZnVuY3Rpb24odCwgYiwgYywgZCkge1xuICAgICAgICB0IC89IGQ7XG4gICAgICAgIHQgPSB0IC0gMTtcbiAgICAgICAgcmV0dXJuIC1jKih0KnQqdCp0IC0gMSkgKyBiO1xuICAgIH0sXG4gICAgXCJlYXNlSW5PdXRRdWFydFwiOiBmdW5jdGlvbih0LCBiLCBjLCBkKSB7XG4gICAgICAgIHQgLz0gZC8yLjA7XG4gICAgICAgIGlmICh0IDwgMSkge1xuICAgICAgICAgICAgcmV0dXJuIGMvMi4wKnQqdCp0KnQgKyBiO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdCA9IHQgLSAyO1xuICAgICAgICAgICAgcmV0dXJuIC1jLzIuMCAqICh0KnQqdCp0IC0gMikgKyBiO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIC8vUXVpbnRpY1xuICAgIFwiZWFzZUluUXVpbnRcIjogZnVuY3Rpb24odCwgYiwgYywgZCkge1xuICAgICAgICB0IC89IGQ7XG4gICAgICAgIHJldHVybiBjKnQqdCp0KnQqdCArIGI7XG4gICAgfSxcbiAgICBcImVhc2VPdXRRdWludFwiOiBmdW5jdGlvbih0LCBiLCBjLCBkKSB7XG4gICAgICAgIHQgLz0gZDtcbiAgICAgICAgdCA9IHQgLSAxO1xuICAgICAgICByZXR1cm4gYyoodCp0KnQqdCp0ICsgMSkgKyBiO1xuICAgIH0sXG4gICAgXCJlYXNlSW5PdXRRdWludFwiOiBmdW5jdGlvbih0LCBiLCBjLCBkKSB7XG4gICAgICAgIHQgLz0gZC8yLjA7XG4gICAgICAgIGlmICh0IDwgMSkge1xuICAgICAgICAgICAgcmV0dXJuIGMvMi4wKnQqdCp0KnQqdCArIGI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0ID0gdCAtIDI7XG4gICAgICAgICAgICByZXR1cm4gYy8yLjAgKiAodCp0KnQqdCp0ICsgMikgKyBiO1xuICAgICAgICB9XG4gICAgfVxuXG59XG4iLCIvKlxuXG5NZWdhbmVUZW1wbGF0ZVxuXG5WZXJzaW9uOiA1LjAuMFxuV2Vic2l0ZTogaHR0cDovL21lZ2FuZS10ZW1wbGF0ZS5jb20vXG5MaWNlbnNlOiBEZW50c3UgSXNvYmFyIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG5cbiovXG5cbnZhciBBZGRDbGFzcyA9IGZ1bmN0aW9uKCBlbGVtZW50LCBfY2xhc3NOYW1lICkge1xuXG4gICAgaWYgKGVsZW1lbnQuY2xhc3NMaXN0KSB7XG4gICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZChfY2xhc3NOYW1lKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBlbGVtZW50LmNsYXNzTmFtZSArPSAnICcgKyBfY2xhc3NOYW1lO1xuICAgIH1cblxufVxuXG52YXIgUmVtb3ZlQ2xhc3MgPSBmdW5jdGlvbiggZWxlbWVudCwgX2NsYXNzTmFtZSApIHtcblxuICAgIGlmIChlbGVtZW50LmNsYXNzTGlzdCkge1xuICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoX2NsYXNzTmFtZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZWxlbWVudC5jbGFzc05hbWUgPSBlbGVtZW50LmNsYXNzTmFtZS5yZXBsYWNlKG5ldyBSZWdFeHAoJyhefFxcXFxiKScgKyBfY2xhc3NOYW1lLnNwbGl0KCcgJykuam9pbignfCcpICsgJyhcXFxcYnwkKScsICdnaScpLCAnICcpO1xuICAgIH1cblxufVxuXG52YXIgSGFzQ2xhc3MgPSBmdW5jdGlvbiggZWxlbWVudCwgX2NsYXNzTmFtZSApIHtcblxuICAgIHZhciBpZ25vcmUgPSBmYWxzZTtcblxuICAgIGlmIChlbGVtZW50LmNsYXNzTGlzdCkge1xuICAgICAgICBpZiggZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoX2NsYXNzTmFtZSkgKSBpZ25vcmUgPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGlmKCBuZXcgUmVnRXhwKCcoXnwgKScgKyBfY2xhc3NOYW1lICsgJyggfCQpJywgJ2dpJykudGVzdCggZS50YXJnZXQuY2xhc3NOYW1lICkgKSBpZ25vcmUgPSB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBpZ25vcmU7XG5cbn1cblxudmFyIFRvZ2dsZUNsYXNzID0gZnVuY3Rpb24oIGVsZW1lbnQsIF9jbGFzc05hbWUgKSB7XG5cbiAgICBpZiAoZWxlbWVudC5jbGFzc0xpc3QpIHtcbiAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LnRvZ2dsZShjbGFzc05hbWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgY2xhc3NlcyA9IGVsZW1lbnQuY2xhc3NOYW1lLnNwbGl0KCcgJyk7XG4gICAgICB2YXIgZXhpc3RpbmdJbmRleCA9IGNsYXNzZXMuaW5kZXhPZihjbGFzc05hbWUpO1xuXG4gICAgICBpZiAoZXhpc3RpbmdJbmRleCA+PSAwKVxuICAgICAgICBjbGFzc2VzLnNwbGljZShleGlzdGluZ0luZGV4LCAxKTtcbiAgICAgIGVsc2VcbiAgICAgICAgY2xhc3Nlcy5wdXNoKGNsYXNzTmFtZSk7XG5cbiAgICAgIGVsZW1lbnQuY2xhc3NOYW1lID0gY2xhc3Nlcy5qb2luKCcgJyk7XG4gICAgfVxuXG59XG5cbnZhciBTZXRDc3MgPSBmdW5jdGlvbiggZWxlbWVudCwgc3R5bGVzICkge1xuXG4gICAgdmFyIGNzcyA9IFwiXCI7XG5cbiAgICBmb3IgKHZhciBrZXkgaW4gc3R5bGVzKSB7XG4gICAgICAgIGNzcyArPSBcIlwiKyBrZXkgK1wiOlwiKyBzdHlsZXNba2V5XSArXCI7IFwiO1xuICAgIH1cblxuICAgIGVsZW1lbnQuc3R5bGUuY3NzVGV4dCA9IGNzcztcblxufVxuXG52YXIgR2V0UGFyZW50cyA9IGZ1bmN0aW9uKCBlbGVtZW50LCB0YXJnZXQgKSB7XG5cbiAgICB2YXIgcGFyZW50ID0gZWxlbWVudCwgaSA9IDAsIHQ7XG5cbiAgICBpZiAoIHRhcmdldC5zcGxpdChcIi5cIilbMV0gKSB7XG4gICAgICAgIHQgPSB0YXJnZXQuc3BsaXQoXCIuXCIpWzFdO1xuICAgIH0gZWxzZSBpZiAoIHRhcmdldC5zcGxpdChcIiNcIilbMV0gKSB7XG4gICAgICAgIHQgPSB0YXJnZXQuc3BsaXQoXCIjXCIpWzFdO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHQgPSB0YXJnZXQ7XG4gICAgfVxuICAgIHdoaWxlICggaSA8IDEwMCApe1xuICAgICAgICBwYXJlbnQgPSBwYXJlbnQucGFyZW50Tm9kZTtcbiAgICAgICAgaWYoIHBhcmVudC50YWdOYW1lLnRvTG93ZXJDYXNlKCkgPT0gdCApIGJyZWFrO1xuICAgICAgICBpZiggcGFyZW50LmNsYXNzTmFtZSApIHtcbiAgICAgICAgICAgIGlmKCBwYXJlbnQuY2xhc3NOYW1lLm1hdGNoKCB0ICkgKSBicmVhaztcbiAgICAgICAgfSBlbHNlIGlmKCBwYXJlbnQuaWQgKSB7XG4gICAgICAgICAgICBpZiggcGFyZW50LmlkLm1hdGNoKCB0ICkgKSBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBpKys7XG4gICAgfVxuICAgIHJldHVybiBwYXJlbnQ7XG59XG5cbnZhciBHZXRTaWJsaW5ncyA9IGZ1bmN0aW9uKCBlbCwgdGFyZ2V0ICkge1xuXG4gICAgdmFyIHNpYmxpbmdzID0gQXJyYXkucHJvdG90eXBlLmZpbHRlci5jYWxsKGVsLnBhcmVudE5vZGUuY2hpbGRyZW4sIGZ1bmN0aW9uKGNoaWxkLGkpe1xuXG4gICAgICAgIHZhciB0YXJnZXRFbG0gPSBlbC5wYXJlbnROb2RlLnF1ZXJ5U2VsZWN0b3JBbGwodGFyZ2V0KTtcbiAgICAgICAgdmFyIHRhcmdldF8gPSBudWxsO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGFyZ2V0RWxtLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoY2hpbGQgPT09IHRhcmdldEVsbVtpXSkgdGFyZ2V0XyA9IHRhcmdldEVsbVtpXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjaGlsZCAhPT0gZWwgJiYgY2hpbGQgPT09IHRhcmdldF87XG5cbiAgICB9KTtcblxuICAgIHJldHVybiBzaWJsaW5ncy5sZW5ndGggIT0gMCA/IHNpYmxpbmdzIDogbnVsbDtcblxufVxuXG52YXIgR2V0T2Zmc2V0ID0gZnVuY3Rpb24oIGVsZW1lbnQgKSB7XG5cbiAgICB2YXIgQk9YID0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIHRvcDogQk9YLnRvcCArIHdpbmRvdy5wYWdlWU9mZnNldCAtIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRUb3AsXG4gICAgICAgIGxlZnQ6IEJPWC5sZWZ0ICsgd2luZG93LnBhZ2VYT2Zmc2V0IC0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudExlZnRcbiAgICB9XG59XG5cbnZhciBHZXRIZWlnaHREYXRhID0gZnVuY3Rpb24oIGVsZW1lbnQgKSB7XG5cbiAgICB2YXIgU1RZTEVTID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoIGVsZW1lbnQgKTtcbiAgICB2YXIgSCA9IGVsZW1lbnQub2Zmc2V0SGVpZ2h0O1xuICAgIHZhciBCVCA9IHBhcnNlRmxvYXQoU1RZTEVTLmJvcmRlclRvcFdpZHRoKTtcbiAgICB2YXIgQkIgPSBwYXJzZUZsb2F0KFNUWUxFUy5ib3JkZXJCb3R0b21XaWR0aCk7XG4gICAgdmFyIFBUID0gcGFyc2VGbG9hdChTVFlMRVMucGFkZGluZ1RvcCk7XG4gICAgdmFyIFBCID0gcGFyc2VGbG9hdChTVFlMRVMucGFkZGluZ0JvdHRvbSk7XG5cbiAgICB2YXIgREFUQSA9IHtcbiAgICAgICAgXCJoZWlnaHRcIjogSCxcbiAgICAgICAgXCJib3JkZXJ0b3BcIjogQlQsXG4gICAgICAgIFwiYm9yZGVyQm90dG9tXCI6IEJCLFxuICAgICAgICBcInBhZGRpbmdUb3BcIjogUFQsXG4gICAgICAgIFwicGFkZGluZ0JvdHRvbVwiOiBQQixcbiAgICAgICAgXCJvdXRlckhlaWdodFwiOiBIICsgQlQgKyBCQiArIFBUICsgUEJcbiAgICB9XG5cbiAgICByZXR1cm4gREFUQTtcbn1cblxudmFyIEdldFdpZHRoRGF0YSA9IGZ1bmN0aW9uKCBlbGVtZW50ICkge1xuXG4gICAgdmFyIFNUWUxFUyA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKCBlbGVtZW50ICk7XG4gICAgdmFyIFcgPSBlbGVtZW50Lm9mZnNldFdpZHRoO1xuICAgIHZhciBCVCA9IHBhcnNlRmxvYXQoU1RZTEVTLmJvcmRlckxlZnRXaWR0aCk7XG4gICAgdmFyIEJCID0gcGFyc2VGbG9hdChTVFlMRVMuYm9yZGVyUmlnaHRXaWR0aCk7XG4gICAgdmFyIFBUID0gcGFyc2VGbG9hdChTVFlMRVMucGFkZGluZ0xlZnQpO1xuICAgIHZhciBQQiA9IHBhcnNlRmxvYXQoU1RZTEVTLnBhZGRpbmdSaWdodCk7XG5cbiAgICB2YXIgREFUQSA9IHtcbiAgICAgICAgXCJ3aWR0aFwiOiBXLFxuICAgICAgICBcImJvcmRlckxlZnRcIjogQlQsXG4gICAgICAgIFwiYm9yZGVyUmlnaHRcIjogQkIsXG4gICAgICAgIFwicGFkZGluZ0xlZnRcIjogUFQsXG4gICAgICAgIFwicGFkZGluZ1JpZ2h0XCI6IFBCLFxuICAgICAgICBcIm91dGVyV2lkdGhcIjogVyArIEJUICsgQkIgKyBQVCArIFBCXG4gICAgfVxuXG4gICAgcmV0dXJuIERBVEE7XG59XG5cbnZhciBOb3QgPSBmdW5jdGlvbiggZWxlbWVudCwgaWdub3JlVHh0ICkge1xuXG4gICAgdmFyIGlnbm9yZSA9IGZhbHNlO1xuXG4gICAgdmFyIElHVU5PUkUgPSBpZ25vcmVUeHQuc3BsaXQoXCIuXCIpWzFdID8gaWdub3JlVHh0LnNwbGl0KFwiLlwiKVsxXSA6IGlnbm9yZVR4dC5zcGxpdChcIiNcIilbMV07XG5cbiAgICBpZiAoZWxlbWVudC5jbGFzc0xpc3QpIHtcbiAgICAgICAgaWYoIGVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKElHVU5PUkUpICkgaWdub3JlID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBpZiggbmV3IFJlZ0V4cCgnKF58ICknICsgSUdVTk9SRSArICcoIHwkKScsICdnaScpLnRlc3QoIGVsZW1lbnQuY2xhc3NOYW1lICkgKSBpZ25vcmUgPSB0cnVlO1xuICAgIH1cbiAgICBpZiggZWxlbWVudC5pZCA9PSBJR1VOT1JFICkgaWdub3JlID0gdHJ1ZTtcblxuICAgIHJldHVybiBpZ25vcmU7XG59XG5cbi8vIGNvbnN0IEFkZGVkRWxtSGFuZGxlciA9IGZ1bmN0aW9uKCBlbG0sIGNhbGxiYWNrLCBoYW5kbGVyICkge1xuLy9cbi8vICAgICBjb25zdCBFVkVOVCA9ICFoYW5kbGVyID8gXCJjbGlja1wiIDogaGFuZGxlcjtcbi8vXG4vLyAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lciggRVZFTlQsIChlKSA9PiB7XG4vLyAgICAgICAgIGxldCBoaXQgPSBmYWxzZSxcbi8vICAgICAgICAgICAgIHQ7XG4vLyAgICAgICAgIGlmICggZWxtLnNwbGl0KFwiLlwiKVsxXSApIHtcbi8vICAgICAgICAgICAgIHQgPSBlbG0uc3BsaXQoXCIuXCIpWzFdO1xuLy8gICAgICAgICB9IGVsc2UgaWYgKCBlbG0uc3BsaXQoXCIjXCIpWzFdICkge1xuLy8gICAgICAgICAgICAgdCA9IGVsbS5zcGxpdChcIiNcIilbMV07XG4vLyAgICAgICAgIH0gZWxzZSB7XG4vLyAgICAgICAgICAgICB0ID0gZWxtO1xuLy8gICAgICAgICB9XG4vLyAgICAgICAgIGlmKCBlLnRhcmdldC50YWdOYW1lLnRvTG93ZXJDYXNlKCkgPT0gdCApIHtcbi8vICAgICAgICAgICAgIGhpdCA9IHRydWU7XG4vLyAgICAgICAgIH0gZWxzZSB7XG4vLyAgICAgICAgICAgICBpZiggZS50YXJnZXQuY2xhc3NOYW1lICkge1xuLy8gICAgICAgICAgICAgICAgIGlmKCBlLnRhcmdldC5jbGFzc05hbWUubWF0Y2goIHQgKSApIGhpdCA9IHRydWU7XG4vLyAgICAgICAgICAgICB9IGVsc2UgaWYoIGUudGFyZ2V0LmlkICkge1xuLy8gICAgICAgICAgICAgICAgIGlmKCBlLnRhcmdldC5pZC5tYXRjaCggdCApICkgaGl0ID0gdHJ1ZTtcbi8vICAgICAgICAgICAgIH1cbi8vICAgICAgICAgfVxuLy8gICAgICAgICBpZiggaGl0ICkge1xuLy8gICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuLy8gICAgICAgICAgICAgY2FsbGJhY2soIGUgKTtcbi8vICAgICAgICAgfVxuLy8gICAgIH0pXG4vL1xuLy8gfVxuXG4vLyBjb25zdCBDcmVhdFZpZGVvID0gZnVuY3Rpb24oIHNyYywgb3B0aW9uICkge1xuLy9cbi8vICAgICB2YXIgbG9vcCA9ICBvcHRpb24ubG9vcDtcbi8vICAgICB2YXIgdm9sdW1lID0gIG9wdGlvbi52b2x1bWU7XG4vLyAgICAgdmFyIGNvbnRyb2xzID0gIG9wdGlvbi5jb250cm9scztcbi8vICAgICB2YXIgbm9kb3dubG9hZCA9ICBvcHRpb24ubm9kb3dubG9hZDtcbi8vICAgICB2YXIgbm9Db250ZXh0bWVudSA9ICBvcHRpb24ubm9Db250ZXh0bWVudTtcbi8vXG4vLyAgICAgdmFyIHZpZGVvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggJ3ZpZGVvJyApO1xuLy8gICAgIHZpZGVvLnNldEF0dHJpYnV0ZShcInBsYXlzaW5saW5lXCIsIHRydWUpO1xuLy8gICAgIGlmKCBjb250cm9scyApIHZpZGVvLnNldEF0dHJpYnV0ZShcImNvbnRyb2xzXCIsIFwiY29udHJvbHNcIik7XG4vLyAgICAgaWYoIG5vZG93bmxvYWQgKSB2aWRlby5zZXRBdHRyaWJ1dGUoXCJjb250cm9sc2xpc3RcIiwgXCJub2Rvd25sb2FkXCIpO1xuLy8gICAgIGlmKCBub0NvbnRleHRtZW51ICkgdmlkZW8uc2V0QXR0cmlidXRlKFwib25Db250ZXh0bWVudVwiLCBcInJldHVybiBmYWxzZVwiKTtcbi8vXG4vLyAgICAgdmlkZW8ubG9vcCA9IGxvb3A7XG4vLyAgICAgdmlkZW8udm9sdW1lID0gdm9sdW1lO1xuLy8gICAgIHZpZGVvLnNyYyA9IHNyYztcbi8vICAgICB2aWRlby5sb2FkKCk7XG4vL1xuLy8gICAgIHJldHVybiB2aWRlbztcbi8vXG4vLyB9XG5cbi8vLy9cblxuZXhwb3J0IHtcbiAgICBBZGRDbGFzcyxcbiAgICBSZW1vdmVDbGFzcyxcbiAgICBIYXNDbGFzcyxcbiAgICBTZXRDc3MsXG4gICAgR2V0UGFyZW50cyxcbiAgICBHZXRTaWJsaW5ncyxcbiAgICBOb3QsXG4gICAgR2V0T2Zmc2V0LFxuICAgIEdldEhlaWdodERhdGEsXG4gICAgR2V0V2lkdGhEYXRhLFxuICAgIC8vIEFkZGVkRWxtSGFuZGxlcixcbiAgICAvLyBDcmVhdFZpZGVvXG59XG4iXX0=
